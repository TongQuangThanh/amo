{"version":3,"sources":["webpack:///src/app/pages/register-for-shipping/register-for-shipping.module.ts","webpack:///src/app/pages/register-for-shipping/register-for-shipping.page.html","webpack:///src/app/pages/register-for-shipping/register-for-shipping.page.ts"],"names":["routes","path","component","RegisterForShippingPageModule","forChild","imports","declarations","providers","src","RegisterForShippingPage","modalController","loading","navCtrl","apiService","datePipe","translate","alertService","actionSheetController","camera","flag_show_all_image","list_image_select","list_image","list_image_1","number_of_image","blobToFile","theBlob","fileName","b","lastModifiedDate","Date","name","listDepartmentByID","getListApartment","button_active","check_class_button","form_apartment_id","form_apartment_class","form_start_time","form_start_time_class","form_end_time","form_end_time_class","form_note","list_product","index","name_product","number_of_product","button_1_class","button_2_class","event","self","present","getListUserApartment","subscribe","result","listDepartment","i","userApartments","length","campaign","settingRequestTranferGood","push","forEach","data","apartment","_id","dismiss","error","value","product","dataApartment","transferGoods","number","list_attachment","image","media","params","title","instant","content","attachments","type","transferType","transferDateStart","transferDateEnd","addFeedbackNew","registrationSuccessModal","presentToast","create","componentProps","modal","element","splice","breakListImage","header","buttons","text","handler","checkPicturePermission","PictureSourceType","PHOTOLIBRARY","CAMERA","role","actionSheet","sourceType","pickImage","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","targetWidth","targetHeight","correctOrientation","getPicture","then","imageData","base64Define","binaryBlob","convertBase64ToBlob","date","valueOf","formData","FormData","myFile","payload","append","uploadImage","convertListImage","err","base64","info","getInfoFromBase64","sliceSize","byteCharacters","window","atob","rawBase64","byteArrays","offset","slice","byteNumbers","Array","charCodeAt","Uint8Array","Blob","mime","meta","split","replace","exec","extension","url","ionChangePulldown1","ionChangeStartTime","eventButtonRegisterNew","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-register-for-shipping-register-for-shipping-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n\r\nimport { RegisterForShippingPage } from './register-for-shipping.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterForShippingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RegisterForShippingPage],\r\n  providers: [DatePipe]\r\n})\r\nexport class RegisterForShippingPageModule {}\r\n","<ion-header class=\"ion-no-border \">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ 'INBOX_24.title' | translate }}</ion-label>\r\n  <ion-label class=\"header-sub-title\">{{ 'INBOX_24.sub_title' | translate }}</ion-label>\r\n</ion-header>\r\n\r\n<ion-content class=\"register-tranfer-content\">\r\n  <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding\">\r\n    <ion-item lines=\"none\" class=\"margin-top-10 \">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/home.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_apartment_id != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_24.apartment_placeHolder_1' | translate }}</label>\r\n        <div class=\"width-100 {{form_apartment_class}}\">\r\n          <ion-select class=\"pulldown-apartment-select\" placeholder=\"{{ 'INBOX_24.apartment_placeHolder_2' | translate }}\"\r\n            interface=\"action-sheet\" name=\"form_apartment_id\" [(ngModel)]=\"form_apartment_id\" (ionChange)=\"ionChangePulldown1($event)\">\r\n            <ion-select-option *ngFor=\"let item of listDepartment\" value=\"{{item.apartment._id}}\">{{item.apartment.title + ' - ' +\r\n              item.campaign.title}}</ion-select-option>\r\n          </ion-select>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <!-- <ion-item lines=\"none\">\r\n        <ion-item lines=\"none\" class=\"item-common no-border margin-right-5\" (click)=\"eventButton1(1)\">\r\n          <div class=\"{{button_1_class}}\"></div>\r\n          <label class=\"button-1-text\">{{ 'INBOX_24.transfer_income' | translate }}</label>\r\n          <img *ngIf=\"button_active == 1\" class=\"button-1-icon\" src=\"../assets/icon/svg/Fill.svg\" />\r\n        </ion-item>\r\n        <ion-item lines=\"none\" class=\"item-common no-border margin-left-5\" (click)=\"eventButton1(2)\">\r\n          <div class=\"{{button_2_class}}\"></div>\r\n          <label class=\"button-1-text\">{{ 'INBOX_24.transfer_outcome' | translate }}</label>\r\n          <img *ngIf=\"button_active == 2\" class=\"button-1-icon\" src=\"../assets/icon/svg/Fill.svg\" />\r\n        </ion-item>\r\n      </ion-item> -->\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/time.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_start_time != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_24.datetime_start_placeHolder' | translate\r\n          }}</label>\r\n        <div class=\"width-100 {{form_start_time_class}}\">\r\n          <ion-datetime placeholder=\"{{ 'INBOX_24.datetime_start_placeHolder' | translate }}\" class=\"datetime-commom\" name=\"form_start_time\"\r\n            [(ngModel)]=\"form_start_time\" displayFormat=\"DD/MM/YYYY HH:mm\" (ionChange)=\"ionChangeStartTime()\" min=\"2000\" max=\"2050\">\r\n          </ion-datetime>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <!-- <ion-item lines=\"none\">\r\n        <ion-item lines=\"none\" class=\"item-common\">\r\n          <img class=\"icon-home\" src=\"../assets/icon/svg/Clock.svg\" />\r\n          <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n          <label *ngIf=\"form_end_time != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_24.datetime_end_placeHolder' | translate }}</label>\r\n          <div class=\"width-100 {{form_end_time_class}}\">\r\n            <ion-datetime placeholder=\"{{ 'INBOX_24.datetime_end_placeHolder' | translate }}\" class=\"datetime-commom\" name=\"form_end_time\"\r\n              [(ngModel)]=\"form_end_time\" displayFormat=\"DD/MM/YYYY HH:mm\" (ionChange)=\"ionChangeEndTime()\" min=\"2000\" max=\"2050\">\r\n            </ion-datetime>\r\n          </div>\r\n        </ion-item>\r\n      </ion-item> -->\r\n    <!-- <ion-item lines=\"none\" class=\"line-1\">\r\n        <label class=\"font-weight-600 margin-left-20 margin-top-20 margin-bottom-5\">{{ 'INBOX_24.product_detail_title' | translate\r\n          }}</label>\r\n      </ion-item> -->\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-text-area\">\r\n        <ion-textarea [(ngModel)]=\"form_note\" class=\"text-area-1\" rows=\"4\" cols=\"20\"\r\n          placeholder=\"{{ 'INBOX_24.inf_product_placeHolder' | translate }}\"></ion-textarea>\r\n      </ion-item>\r\n    </ion-item>\r\n    <!-- <div *ngFor=\"let product of list_product\" class=\"{{product.class}}\">\r\n        <ion-item lines=\"none\">\r\n          <ion-item lines=\"none\" class=\"item-common\">\r\n            <img class=\"icon-home\" src=\"../assets/icon/svg/Archiver.svg\" />\r\n            <label *ngIf=\"product.name_product != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_24.product_placeHolder' | translate }}\r\n              {{product.index}}</label>\r\n            <ion-input type=\"text\" class=\"text-box-1\" placeholder=\"{{ 'INBOX_24.product_placeHolder' | translate }} {{product.index}}...\"\r\n              value=\"{{product.name_product}}\" (ionChange)=\"ionchangGroup1TextBox()\" [(ngModel)]=\"product.name_product\">\r\n            </ion-input>\r\n          </ion-item>\r\n        </ion-item>\r\n        <ion-item lines=\"none\" class=\"margin-top-10\">\r\n          <ion-item lines=\"none\" class=\"item-common no-border\">\r\n            <div>\r\n              <label class=\"margin-0\">{{ 'INBOX_24.product_number_title' | translate }}</label>\r\n            </div>\r\n            <div class=\"group-1-button-change-number\">\r\n              <button class=\"button-3-1\" (click)=\"downNumberProduct(product.index)\"><img class=\"icon-button-3\"\r\n                  src=\"../assets/icon/svg/tru.svg\" /></button>\r\n              <label class=\"group-1-label-1\">{{product.number_of_product}}</label>\r\n              <button class=\"button-3-2\" (click)=\"upNumberProduct(product.index)\"><img class=\"icon-button-3\"\r\n                  src=\"../assets/icon/svg/plus.svg\" /></button>\r\n            </div>\r\n          </ion-item>\r\n        </ion-item>\r\n      </div>\r\n      <ion-item lines=\"none\">\r\n        <ion-item lines=\"none\" class=\"item-common no-border\">\r\n          <ion-button expand=\"block\" class=\"group-1-button-custom\" (click)=\"addProduct()\">{{ 'INBOX_24.btn_add_product' | translate }}\r\n          </ion-button>\r\n        </ion-item>\r\n      </ion-item> -->\r\n    <!-- <ion-item lines=\"none\" class=\"line-1\">\r\n        <ion-item lines=\"none\" class=\"item-common margin-top-20\">\r\n          <ion-textarea [(ngModel)]=\"form_note\" class=\"text-area-1\" rows=\"4\" cols=\"20\"\r\n            placeholder=\"{{ 'INBOX_24.note_placeHolder' | translate }}\"></ion-textarea>\r\n        </ion-item>\r\n      </ion-item> -->\r\n    <ion-item lines=\"none\">\r\n      <ion-grid *ngIf=\"number_of_image != 0\" class=\"ion-grid-class\">\r\n        <ion-row>\r\n          <ion-col class=\"ion-col-class\" *ngFor=\"let image of list_image_1\" size=\"4\" size-md>\r\n            <ion-item lines=\"none\" class=\"ion-item-for-image\">\r\n              <img class=\"image-class\" src=\"{{image.src}}\" />\r\n              <button type=\"button\" *ngIf=\"number_of_image <= 4 || image.index < 3\" class=\"close-image-icon\" (click)=\"deleteImageToList(image.index)\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </ion-item>\r\n            <div *ngIf=\"number_of_image > 4 && image.index == 3\" class=\"mask-multiple-image\" (click)=\"showAllImage()\">\r\n              <label>+{{number_of_image - 4}}</label>\r\n            </div>\r\n          </ion-col>\r\n          <ion-col class=\"ion-col-class\" size=\"4\" size-md>\r\n            <ion-item lines=\"none\" class=\"ion-item-for-image ion-item-image-add\" (click)=\"selectImage()\">\r\n              <div class=\"image-add-item\">\r\n                <img class=\"image-class\" src=\"../assets/icon/request/add-image.svg\" />\r\n              </div>\r\n            </ion-item>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n      <ion-item lines=\"none\" class=\"ion-no-padding item-photo-grap background-fbfbfb\" *ngIf=\"number_of_image == 0\" (click)=\"selectImage()\">\r\n        <div class=\"icon-camera-container\">\r\n          <ion-icon class=\"icon-camera\" src=\"../assets/icon/request/image.svg\"></ion-icon>\r\n          <ion-label class=\"camera-label\">{{ 'INBOX_29.add_image_label' | translate }}</ion-label>\r\n          <ion-label class=\"camera-sub-label\">{{ 'INBOX_29.add_image_sub_label' | translate }}</ion-label>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n  </ion-list>\r\n  <section class=\"full-width function-section\">\r\n    <ion-button expand=\"block\" class=\"amo-button-custom inactive_button {{checkActiveButton()}}\">{{ 'INBOX_24.button_send' | translate }}\r\n    </ion-button>\r\n    <ion-button expand=\"block\" class=\"amo-button-custom active_button {{checkActiveButton()}}\" (click)=\"eventButtonRegisterNew()\">{{\r\n      'INBOX_24.button_send' | translate }}</ion-button>\r\n  </section>\r\n  <div *ngIf=\"flag_show_all_image == true\" class=\"modal-backdrop fade show\"></div>\r\n  <div *ngIf=\"flag_show_all_image == true\" class=\"modal popup-show-full-image\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"eventButtonClosePopupImage()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <div class=\"div-header-title\">\r\n            <!-- <label>{{ 'INBOX_29.popup_header_title' | translate }}</label> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <ion-item lines=\"none\" class=\"area-show-image\" id=\"area-show-image\">\r\n            <ion-grid>\r\n              <ion-row>\r\n                <ion-col class=\"ion-col-class\" *ngFor=\"let image of list_image\" size=\"4\" size-md>\r\n                  <ion-item lines=\"none\" class=\"ion-item-for-image\">\r\n                    <img class=\"image-class\" src=\"{{image.src}}\" />\r\n                    <button type=\"button\" class=\"close-image-icon\" (click)=\"deleteImageToList(image.index)\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </ion-item>\r\n                </ion-col>\r\n                <ion-col class=\"ion-col-class\" size=\"4\" size-md>\r\n                  <ion-item lines=\"none\" class=\"ion-item-for-image ion-item-image-add\" (click)=\"selectImage()\">\r\n                    <div class=\"image-add-item\">\r\n                      <img class=\"image-class\" src=\"../assets/icon/request/add-image.svg\" />\r\n                    </div>\r\n                  </ion-item>\r\n                </ion-col>\r\n              </ion-row>\r\n            </ion-grid>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ion-content>","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ActionSheetController, NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { DatePipe } from '@angular/common';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/Camera/ngx';\r\nimport { PopupRegistrationSuccessPage } from '../popup-registration-success/popup-registration-success.page';\r\n\r\n@Component({\r\n  selector: 'app-register-for-shipping',\r\n  templateUrl: './register-for-shipping.page.html',\r\n  styleUrls: ['./register-for-shipping.page.scss'],\r\n})\r\nexport class RegisterForShippingPage implements OnInit {\r\n  listDepartment: any;\r\n  listDepartmentByID: any;\r\n  check_box_1: boolean;\r\n  check_box_2: boolean;\r\n  tip_value: any;\r\n  show_popup_tip: any;\r\n  button_active: any;\r\n  button_1_class: any;\r\n  button_2_class: any;\r\n  form_apartment_id: any;\r\n  form_apartment_class: any;\r\n  form_start_time: any;\r\n  form_start_time_class: any;\r\n  form_end_time: any;\r\n  form_end_time_class: any;\r\n  list_product: any;\r\n  form_note: any;\r\n  // image dialog\r\n  flag_show_all_image = false;\r\n  list_image_select = [];\r\n  list_image = [];\r\n  list_image_1 = [];\r\n  number_of_image = 0;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private loading: LoadingService,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n    private datePipe: DatePipe,\r\n    private translate: TranslateService,\r\n    private alertService: AlertService,\r\n    public actionSheetController: ActionSheetController,\r\n    private camera: Camera\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.listDepartmentByID = {};\r\n    this.getListApartment();\r\n    this.button_active = 1;\r\n    this.check_class_button();\r\n    this.form_apartment_id = '';\r\n    this.form_apartment_class = '';\r\n    this.form_start_time = '';\r\n    this.form_start_time_class = '';\r\n    this.form_end_time = '';\r\n    this.form_end_time_class = '';\r\n    this.form_note = '';\r\n    this.list_product = [\r\n      { index: 1, name_product: '', number_of_product: 0, class: '' },\r\n      { index: 2, name_product: '', number_of_product: 0, class: '' },\r\n    ];\r\n  }\r\n  check_class_button() {\r\n    if (this.button_active == 1) {\r\n      this.button_1_class = 'button-active';\r\n      this.button_2_class = 'button-unactive';\r\n    } else {\r\n      this.button_2_class = 'button-active';\r\n      this.button_1_class = 'button-unactive';\r\n    }\r\n  }\r\n  ionChangePulldown1(event) {\r\n    if (this.form_apartment_id != '') {\r\n      this.form_apartment_class = 'has-input-value';\r\n    } else {\r\n      this.form_apartment_class = '';\r\n    }\r\n  }\r\n  ionChangeStartTime() {\r\n    if (this.form_start_time != '') {\r\n      this.form_start_time_class = 'has-input-value';\r\n    } else {\r\n      this.form_start_time_class = '';\r\n    }\r\n    // var date = new Date(this.form_start_time);\r\n    // this.form_start_time_label = this.datePipe.transform(date,\"dd/MM/yyyy HH:mm\");\r\n  }\r\n  ionChangeEndTime() {\r\n    if (this.form_end_time != '') {\r\n      this.form_end_time_class = 'has-input-value';\r\n    } else {\r\n      this.form_end_time_class = '';\r\n    }\r\n    // var date = new Date(this.form_end_time);\r\n    // this.form_end_time_label = this.datePipe.transform(date,\"dd/MM/yyyy HH:mm\");\r\n  }\r\n  getListApartment() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getListUserApartment().subscribe(\r\n      (result) => {\r\n        //self.listDepartment = result.userApartments;\r\n        self.listDepartment = []\r\n        for(var i =0;i<result.userApartments.length;i++){\r\n          if(result.userApartments[i].campaign.settingRequestTranferGood == \"active\"){\r\n            self.listDepartment.push(result.userApartments[i]);\r\n          }\r\n        }\r\n        self.listDepartment.forEach((data, index) => {\r\n          if(index == 0) {\r\n            this.form_apartment_id = data.apartment._id;\r\n            this.form_apartment_class = 'has-input-value';\r\n          }\r\n          self.listDepartmentByID[data.apartment._id] = data;\r\n        });\r\n        self.loading.dismiss();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n      }\r\n    );\r\n  }\r\n  eventButton1(value) {\r\n    this.button_active = value;\r\n    this.check_class_button();\r\n  }\r\n  addProduct() {\r\n    var self = this;\r\n    self.list_product.push({ index: self.list_product.length + 1, name_product: '', number_of_product: 0, class: '' });\r\n  }\r\n  downNumberProduct(index) {\r\n    var self = this;\r\n    self.list_product.forEach((product) => {\r\n      if (product.index == index && product.number_of_product > 0) {\r\n        product.number_of_product--;\r\n      }\r\n    });\r\n  }\r\n  upNumberProduct(index) {\r\n    var self = this;\r\n    self.list_product.forEach((product) => {\r\n      if (product.index == index && product.number_of_product < 10000) {\r\n        product.number_of_product++;\r\n      }\r\n    });\r\n  }\r\n  ionchangGroup1TextBox() {\r\n    var self = this;\r\n    self.list_product.forEach((product) => {\r\n      if (product.name_product != '') {\r\n        product.class = 'has-input-value';\r\n      } else {\r\n        product.class = '';\r\n      }\r\n    });\r\n  }\r\n  eventButtonRegisterNew() {\r\n    var self = this;\r\n    let dataApartment = self.listDepartmentByID[this.form_apartment_id];\r\n    let transferGoods = [];\r\n    self.list_product.forEach((product) => {\r\n      if (product.number_of_product > 0) {\r\n        transferGoods.push({\r\n          name: product.name_product,\r\n          number: product.number_of_product,\r\n        });\r\n      }\r\n    });\r\n    let list_attachment = [];\r\n    self.list_image.forEach((image) => {\r\n      list_attachment.push(image.media);\r\n    });\r\n    const params = {\r\n      // category: \"\",\r\n      title: this.translate.instant('INBOX_24.title'),\r\n      content: this.form_note,\r\n      campaign: dataApartment.campaign._id,\r\n      apartment: this.form_apartment_id,\r\n      // createdBy: \"\",\r\n      attachments: list_attachment,\r\n      type: 'transfer',\r\n      transferType: this.button_active == 1 ? 'income' : 'outcome',\r\n      transferDateStart: this.form_start_time,\r\n      transferDateEnd: this.form_start_time,\r\n      transferGoods: transferGoods,\r\n    };\r\n\r\n    this.loading.present();\r\n    this.apiService.addFeedbackNew(params).subscribe(\r\n      (result) => {\r\n        self.loading.dismiss();\r\n        // self.alertService.presentToast(this.translate.instant('ADD_REQUEST.message_add_request_sucess'));\r\n        // self.navCtrl.back();\r\n        this.registrationSuccessModal();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n        self.alertService.presentToast(this.translate.instant('ADD_REQUEST.message_add_request_fail'));\r\n      }\r\n    );\r\n  }\r\n  async registrationSuccessModal() {\r\n    const modal = await this.modalController.create({\r\n      component: PopupRegistrationSuccessPage,\r\n      componentProps: {\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n  checkActiveButton() {\r\n    var self = this;\r\n    // let is_input_product = false;\r\n    // self.list_product.forEach((product) => {\r\n    //   if (product.name_product != '' && product.number_of_product > 0) {\r\n    //     is_input_product = true;\r\n    //   }\r\n    // });\r\n    if (\r\n      this.form_apartment_id == '' ||\r\n      this.form_start_time == '' ||\r\n      // || this.form_end_time == ''\r\n      this.form_note == ''\r\n      //  || is_input_product == false\r\n    ) {\r\n      return 'button-inactive';\r\n    } else {\r\n      return 'button-active';\r\n    }\r\n  }\r\n  // image\r\n  breakListImage() {\r\n    var self = this;\r\n    var index = 0;\r\n    this.list_image_1 = [];\r\n    this.number_of_image = self.list_image.length;\r\n    for (var i = 0; i < self.number_of_image; i++) {\r\n      self.list_image[i].index = index;\r\n      index++;\r\n      if (index < 5) {\r\n        self.list_image_1.push(self.list_image[i]);\r\n      }\r\n    }\r\n  }\r\n  deleteImageToList(index) {\r\n    var self = this;\r\n    this.list_image.forEach((element) => {\r\n      if (element.index == index) {\r\n        self.list_image.splice(index, 1);\r\n      }\r\n    });\r\n    this.breakListImage();\r\n  }\r\n  showAllImage() {\r\n    this.flag_show_all_image = true;\r\n  }\r\n  eventButtonClosePopupImage() {\r\n    this.flag_show_all_image = false;\r\n  }\r\n\r\n  async selectImage() {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: this.translate.instant('COMMON.form_select_image_title'),\r\n      buttons: [\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_library'),\r\n          handler: () => {\r\n            this.checkPicturePermission(this.camera.PictureSourceType.PHOTOLIBRARY);\r\n          },\r\n        },\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_camera'),\r\n          handler: () => {\r\n            this.checkPicturePermission(this.camera.PictureSourceType.CAMERA);\r\n          },\r\n        },\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_cancel'),\r\n          role: 'cancel',\r\n        },\r\n      ],\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n\r\n  checkPicturePermission(sourceType: PictureSourceType) {\r\n    this.pickImage(sourceType);\r\n  }\r\n\r\n  blobToFile = (theBlob: Blob, fileName: string): any => {\r\n    var b: any = theBlob;\r\n    //A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n    b.lastModifiedDate = new Date();\r\n    b.name = fileName;\r\n\r\n    //Cast to a File() type\r\n    return theBlob;\r\n  };\r\n\r\n  pickImage(sourceType) {\r\n    var self = this;\r\n    const options: CameraOptions = {\r\n      quality: 80,\r\n      sourceType: sourceType,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      targetWidth: 800,\r\n      targetHeight: 800,\r\n      correctOrientation: true,\r\n    };\r\n\r\n    this.camera.getPicture(options).then(\r\n      (imageData) => {\r\n        const base64Define = 'data:image/jpeg;base64,';\r\n        var binaryBlob = this.convertBase64ToBlob(base64Define + imageData);\r\n        const date = new Date().valueOf();\r\n        const formData = new FormData();\r\n        var fileName = 'amoapp' + date + '.jpg';\r\n        var myFile = self.blobToFile(binaryBlob, fileName);\r\n        const payload = new FormData();\r\n        payload.append('media', binaryBlob, fileName);\r\n        this.loading.present();\r\n        this.apiService.uploadImage(payload).subscribe(\r\n          (result) => {\r\n            self.loading.dismiss();\r\n            self.list_image_select.push(result);\r\n            self.convertListImage();\r\n          },\r\n          (error) => {\r\n            self.loading.dismiss();\r\n          }\r\n        );\r\n      },\r\n      (err) => {}\r\n    );\r\n  }\r\n\r\n  private convertBase64ToBlob(base64: string) {\r\n    const info = this.getInfoFromBase64(base64);\r\n    const sliceSize = 512;\r\n    const byteCharacters = window.atob(info.rawBase64);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n      const byteNumbers = new Array(slice.length);\r\n\r\n      for (let i = 0; i < slice.length; i++) {\r\n        byteNumbers[i] = slice.charCodeAt(i);\r\n      }\r\n\r\n      byteArrays.push(new Uint8Array(byteNumbers));\r\n    }\r\n\r\n    return new Blob(byteArrays, { type: info.mime });\r\n  }\r\n\r\n  private getInfoFromBase64(base64: string) {\r\n    const meta = base64.split(',')[0];\r\n    const rawBase64 = base64.split(',')[1].replace(/\\s/g, '');\r\n    const mime = /:([^;]+);/.exec(meta)[1];\r\n    const extension = /\\/([^;]+);/.exec(meta)[1];\r\n\r\n    return {\r\n      mime,\r\n      extension,\r\n      meta,\r\n      rawBase64,\r\n    };\r\n  }\r\n  private convertListImage() {\r\n    var self = this;\r\n    for (var i = 0; i < self.list_image_select.length; i++) {\r\n      self.list_image.push({\r\n        index: 0,\r\n        src: self.list_image_select[i].media.url,\r\n        media: self.list_image_select[i].media,\r\n      });\r\n    }\r\n    self.list_image_select = [];\r\n    self.breakListImage();\r\n  }\r\n}\r\n"]}