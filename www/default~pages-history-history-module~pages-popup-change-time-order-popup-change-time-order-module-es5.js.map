{"version":3,"sources":["webpack:///src/app/pages/popup-change-time-order/popup-change-time-order.page.ts","webpack:///src/app/pages/popup-change-time-order/popup-change-time-order.page.html"],"names":["PopupChangeTimeOrderPage","modalController","translate","apiService","loading","navParams","alertService","message","orderHistory","timeDeliver","time_deliver_class","dateNow","Date","toJSON","data","ionChangeStartTime","dismiss","present","changeTimeDeliveryOrder","_id","subscribe","result","presentToast","instant","orderHistoryV2","error","closeModal","selector","templateUrl","styleUrls"],"mappings":"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","file":"default~pages-history-history-module~pages-popup-change-time-order-popup-change-time-order-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AlertService } from 'src/app/services/alert/alert.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\n\r\n@Component({\r\n  selector: 'app-popup-change-time-order',\r\n  templateUrl: './popup-change-time-order.page.html',\r\n  styleUrls: ['./popup-change-time-order.page.scss'],\r\n})\r\nexport class PopupChangeTimeOrderPage implements OnInit {\r\n  message: string = '';\r\n  orderHistory = null;\r\n  timeDeliver = '';\r\n  time_deliver_class = '';\r\n  dateNow = new Date().toJSON();\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private translate: TranslateService,\r\n    private apiService: ApiService,\r\n    private loading: LoadingService,\r\n    private navParams: NavParams,\r\n    private alertService: AlertService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.orderHistory = this.navParams.data.orderHistory;\r\n    this.timeDeliver =  this.orderHistory?.timeDeliver\r\n    this.ionChangeStartTime();\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  eventSendRating() {\r\n    this.loading.present();\r\n    \r\n    this.apiService.changeTimeDeliveryOrder(this.orderHistory._id, this.timeDeliver).subscribe(\r\n      (result) => {\r\n        this.alertService.presentToast(this.translate.instant('CHANGE_TIME_DELIVER_ORDER.success_alert'));\r\n        this.loading.dismiss();\r\n        this.modalController.dismiss(result.orderHistoryV2);\r\n      },\r\n      (error) => {\r\n        this.loading.dismiss();\r\n        this.alertService.presentToast(this.translate.instant('CHANGE_TIME_DELIVER_ORDER.error_alert'));\r\n      }\r\n    );\r\n  }\r\n  ionChangeStartTime(){\r\n    if (this.timeDeliver != '') {\r\n      this.time_deliver_class = 'has-input-value';\r\n    } else {\r\n      this.time_deliver_class = \"\";\r\n    }\r\n  }\r\n}\r\n","<ion-content class=\"content-wrap\">\r\n  <div class=\"content-container\">\r\n    <ion-item lines=\"none\" class=\"header-item ion-no-padding\">\r\n      <ion-title class=\"popup-title\">{{ 'CHANGE_TIME_DELIVER_ORDER.title' | translate }}</ion-title>\r\n      <ion-buttons slot=\"end\" (click)=\"closeModal()\" class=\"btn-close-popup\">\r\n        <ion-icon name=\"close\"></ion-icon>\r\n      </ion-buttons>\r\n    </ion-item>\r\n    <ion-item lines=\"none\" class=\"margin-top-10 item-time-select\">\r\n      <ion-item lines=\"none\" class=\"item-time\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/time.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"timeDeliver != ''\" class=\"pulldown-1-placeholder\">{{ 'PAYMENT_INFOR.payment_confirm_time_receive' | translate\r\n          }}</label>\r\n        <div class=\"width-100 {{time_deliver_class}}\">\r\n          <ion-datetime placeholder=\"{{ 'CHANGE_TIME_DELIVER_ORDER.time_placeHolder' | translate }}\" class=\"datetime-commom\" name=\"timeDeliver\"\r\n            [(ngModel)]=\"timeDeliver\" displayFormat=\"DD/MM/YYYY HH:mm\" (ionChange)=\"ionChangeStartTime()\" min=\"{{dateNow}}\" max=\"2050\">\r\n          </ion-datetime>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <ion-toolbar lines=\"none\" class=\"ion-text-center modal-toolbar\">\r\n      <ion-button class=\"change-time-button\"  *ngIf=\"!timeDeliver\">\r\n        <ion-label class=\"change-time-button-label\">{{ 'CHANGE_TIME_DELIVER_ORDER.btn_send' | translate }}</ion-label>\r\n      </ion-button>\r\n      <ion-button class=\"change-time-button\" *ngIf=\"timeDeliver\"  (click)=\"eventSendRating()\">\r\n        <ion-label class=\"change-time-button-label\">{{ 'CHANGE_TIME_DELIVER_ORDER.btn_send' | translate }}</ion-label>\r\n      </ion-button>\r\n    </ion-toolbar>\r\n  </div>\r\n</ion-content>"]}