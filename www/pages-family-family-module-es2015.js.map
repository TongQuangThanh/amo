{"version":3,"sources":["./src/app/pages/family/family.module.ts","./src/app/pages/family/family.page.ts","./src/app/pages/family/family.page.html"],"names":[],"mappings":"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","file":"pages-family-family-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FamilyPage } from './family.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FamilyPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [FamilyPage]\r\n})\r\nexport class FamilyPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Platform, NavController } from '@ionic/angular';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ConstService } from '../../utils/const.service';\r\nimport { UtilsService } from '../../utils/utils.service';\r\nimport { AlertService } from '../../services/alert/alert.service'\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ConfirmModalPage } from '../../components/confirm-modal/confirm-modal.page';\r\nimport { ApartmentCodeRegisterPage } from '../auth/apartment-code-register/apartment-code-register.page';\r\n\r\n@Component({\r\n  selector: 'app-family',\r\n  templateUrl: './family.page.html',\r\n  styleUrls: ['./family.page.scss'],\r\n})\r\nexport class FamilyPage implements OnInit {\r\n\r\n  heightScreen: number;\r\n  // data\r\n  currentPage: number;\r\n  numberRecordOnPage: number;\r\n  apartment: any;\r\n  listVehicle: any;\r\n  vehicleEnable: boolean= false;\r\n  listMembers:any;\r\n  apartmentTitle:string;\r\n  memberEnable: boolean= false;\r\n  _apartmentID: any;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private loading: LoadingService,\r\n    private platform: Platform,\r\n    private alertService: AlertService,\r\n    private apiService: ApiService,\r\n    private navCtrl: NavController,\r\n    private route: ActivatedRoute,\r\n    private nativePageTransitions: NativePageTransitions,\r\n    public modalController: ModalController) {\r\n\r\n    platform.ready().then((readySource) => {\r\n      this.heightScreen = platform.height() - 200 - 44 - 50;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    const apartmentID = this.route.snapshot.paramMap.get('id');\r\n    this._apartmentID = apartmentID;\r\n    this.getListUserApar(apartmentID);\r\n  }\r\n  getListUserApar(apartmentID: string){\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getUserApartment(apartmentID)\r\n      .subscribe(result => {\r\n        self.apartment = result.userApartment;\r\n        self.listMembers = self.convertData(self.apartment.apartment.members);\r\n        self.loading.dismiss()\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  convertData(listdata: any) {\r\n    listdata.forEach(element => {\r\n      if (element.dateOfBirth != undefined) {\r\n        var ageDifMs = Date.now() - new Date(element.dateOfBirth).getTime();\r\n        var ageDate = new Date(ageDifMs); // miliseconds from epoch\r\n        element['age'] = Math.abs(ageDate.getUTCFullYear() - 1970);\r\n      } else {\r\n        element['age'] = \"N/A\";\r\n      }\r\n    });\r\n    return listdata;\r\n  }\r\n  removeItem() {\r\n  }\r\n  goToFamilyMemberDetail(event) {\r\n    var user_id = \"0\";\r\n    if (event == '0') {\r\n      user_id = event;\r\n    } else {\r\n      if (event.currentTarget.className.indexOf(\"item-sliding-active-slide\") >= 0) {\r\n        return;\r\n      }\r\n      user_id = event.currentTarget.id;\r\n    }\r\n    this.navCtrl.navigateForward('/family-detail/' + this._apartmentID + \"/\" + user_id);\r\n  }\r\n\r\n  async presentModal() {\r\n    const modal = await this.modalController.create({\r\n      component: ConfirmModalPage,\r\n      componentProps: {\r\n      },\r\n      cssClass: \"custom-comfirm-modal\"\r\n    });\r\n    return await modal.present();\r\n  }\r\n}\r\n\r\n\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar>\r\n    <ion-title>{{ 'APARTMENT_FAMILY.title' | translate }}</ion-title>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button text=\"\"></ion-back-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"list-family-content\" [style.height.px]=\"heightScreen\">\r\n  <!-- <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\r\n      <ion-refresher-content\r\n      pullingIcon=\"arrow-dropdown\"\r\n      pullingText=\"{{ 'PAYMENT.pull_to_refresh' | translate }}\"\r\n      refreshingSpinner=\"circles\"\r\n      refreshingText=\"Refreshing...\">\r\n      </ion-refresher-content>\r\n  </ion-refresher> -->\r\n  <ion-list class=\"list-view-custom\">\r\n    <ion-item-sliding class=\"padding-left-x\" *ngFor=\"let item of listMembers\" (click)=\"goToFamilyMemberDetail($event)\" id=\"{{item._id}}\">\r\n      <ion-item>\r\n        <ion-avatar slot=\"start\">\r\n          <img src=\"../../../assets/icon/avatar-default.png\">\r\n        </ion-avatar>\r\n        <ion-label>\r\n          <!-- <ion-label class=\"name-family-item\">{{item.name}}<ion-icon class=\"phone-icon\" name=\"md-tablet-portrait\"></ion-icon></ion-label> -->\r\n          <ion-label class=\"name-family-item\">{{item.name}}</ion-label>\r\n          <ion-label class=\"gender-family-item\">{{item.gender}}</ion-label>\r\n          <ion-label class=\"flex-family-item\">\r\n            <ion-label class=\"years-family-item\">{{item.age}} {{'APARTMENT_FAMILY.title_age' | translate}}</ion-label>\r\n            <ion-label class=\"phone-family-item\"><ion-label class=\"float-right flex-family-item\"><ion-icon class=\"icon-phone\" name=\"call\"></ion-icon> {{item.phone}}</ion-label></ion-label>\r\n          </ion-label>\r\n        </ion-label>\r\n      </ion-item>\r\n      <ion-item-options>\r\n          <!-- <button primary class=\"btn-edit\"><p class=\"label-edit text-button\">{{'APARTMENT_FAMILY.btn_edit' | translate}}</p></button> -->\r\n          <button danger (click)=\"presentModal()\" class=\"btn-delete text-button\"><p>{{'APARTMENT_FAMILY.btn_delete' | translate}}</p></button>\r\n      </ion-item-options>\r\n    </ion-item-sliding>\r\n\r\n    <!-- <ion-item class=\"list-family-item\" lines=\"none\" *ngFor=\"let item of listMembers\"\r\n      (click)=\"detailPage($event)\" id=\"{{item._id}}\">\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"../../../assets/icon/avatar-default.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <ion-label class=\"name-family-item\">{{item.name}}<ion-icon class=\"phone-icon\" name=\"md-tablet-portrait\"></ion-icon></ion-label>\r\n        <ion-label class=\"gender-family-item\">{{item.gender}}</ion-label>\r\n        <ion-label class=\"flex-family-item\">\r\n          <ion-label class=\"years-family-item\">{{item.age}} {{'APARTMENT_FAMILY.title_age' | translate}}</ion-label>\r\n          <ion-label class=\"phone-family-item\"><ion-label class=\"float-right\">{{item.phone}}</ion-label></ion-label>\r\n        </ion-label>\r\n      </ion-label>\r\n    </ion-item> -->\r\n\r\n    \r\n  </ion-list>\r\n\r\n\r\n  <!-- <ion-infinite-scroll threshold=\"50px\" (ionInfinite)=\"loadData($event)\">\r\n    <ion-infinite-scroll-content class=\"custom-infinite-scroll\" loadingSpinner=\"bubbles\"\r\n      loadingText=\"{{ 'PAYMENT.loadding_more' | translate }}\">\r\n    </ion-infinite-scroll-content>\r\n  </ion-infinite-scroll> -->\r\n  <section class=\"full-width function-section\">\r\n    <ion-button expand=\"block\" class=\"amo-button-custom\" (click)=\"goToFamilyMemberDetail('0')\">{{ 'APARTMENT_FAMILY.btn_add_new' | translate }}</ion-button>\r\n  </section>\r\n</ion-content>\r\n\r\n"],"sourceRoot":"webpack:///"}