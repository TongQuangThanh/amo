{"version":3,"sources":["webpack:///src/app/pages/management-order/management-order.page.html","webpack:///src/app/pages/management-order/management-order.page.ts","webpack:///src/app/pages/management-order/management-order.module.ts"],"names":["id","ManagementOrderPage","modalController","camera","actionSheetController","loading","navCtrl","apiService","datePipe","translate","alertController","alertService","data_history","getAllOrderHistorysByProvider","message","self","create","cssClass","header","instant","buttons","alert","present","getListOrderHistorysByProvider","subscribe","result","id_tab","title","data","ordersHistory","forEach","product","is_groupon","orderInfor","length","promotionCode","status_order","status","userPromotionCodeConfirmText","index","getIndexCategoryInList","money","record","number","price","money_convert","convertFormatMoney","date","Date","orderAt","date_convert","transform","order_address","appartment","campaign","address","object","_id","text_rate","starsProvider","requestShopProduct","avatar","createdBy","name","displayName","role","code_orders","date_time","userComplain","push","index_all","dismiss","error","localStorage","setItem","JSON","stringify","navigateForward","value","toString","convert1","convert2","count1","i","count2","index_value","event","presentAlertComplain","preventDefault","selector","templateUrl","styleUrls","routes","path","component","ManagementOrderPageModule","forChild","imports","declarations","providers"],"mappings":"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","file":"pages-management-order-management-order-module-es5.js","sourcesContent":["<ion-header class=\"ion-no-border\">\r\n    <ion-toolbar>\r\n      <ion-title>{{ 'SERVICE_45.title' | translate }}</ion-title>\r\n      <ion-buttons slot=\"start\">\r\n        <ion-back-button text=\"\" icon=\"chevron-back\"></ion-back-button>\r\n      </ion-buttons>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n  \r\n  <ion-content>\r\n    <super-tabs class=\"class-super-tabs\" activeTabIndex=\"0\" [config]=\"{ debug: false, sideMenu: 'left', allowElementScroll: true, nativeSmoothScroll: true }\">\r\n      <super-tabs-toolbar slot=\"top\" scrollable=\"true\" scrollable-padding=\"false\">\r\n        <super-tab-button *ngFor=\"let object of data_history\">\r\n          <ion-label class=\"\">{{object.title}}</ion-label>\r\n        </super-tab-button>\r\n      </super-tabs-toolbar>\r\n      <super-tabs-container autoScrollTop>\r\n        <super-tab class=\"ion-padding hidden-overflow\" *ngFor=\"let object of data_history\">\r\n          <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding\">\r\n            <ion-grid class=\"ion-no-padding scroll-class line-bottom\" *ngFor=\"let data of object.data\" id=\"{{data.id}}\">\r\n              <ion-row class=\"ion-no-padding\">\r\n                <ion-col class=\"center-div\" size=\"8\">\r\n                  <ion-item lines=\"none\" class=\"ion-no-padding\">\r\n                    <div>\r\n                      <ion-label *ngIf=\"data.status == 'processing'\" class=\"ion-label-1\">{{ 'SERVICE_45.status_processing' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"data.status == 'accepted-provider'\" class=\"ion-label-2\">{{ 'SERVICE_45.status_accepted_provider' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"data.status == 'accepted-provider-groupon'\" class=\"ion-label-2\">{{ 'SERVICE_45.status_accepted_provider_groupon' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"data.status == 'confirm-user'\" class=\"ion-label-1\">{{ 'SERVICE_45.status_confirm_user' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"data.status == 'accepted-user'\" class=\"ion-label-2\">{{ 'SERVICE_45.status_accepted_user' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"data.status == 'finish'\" class=\"ion-label-3\">{{ 'SERVICE_45.status_finish' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"data.status == 'cancel-user'\" class=\"ion-label-4\">{{ 'SERVICE_45.status_cancel_user' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"data.status == 'cancel-provider'\" class=\"ion-label-4\">{{ 'SERVICE_45.status_cancel_provider' | translate }}</ion-label>\r\n                    </div>\r\n                    <div class=\"margin-left-10\" *ngIf=\"data.userComplain != ''\" (click)=\"showComplainText($event, data)\">\r\n                      <ion-img src=\"../assets/icon/svg/complaint.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n                    </div>\r\n                  </ion-item>\r\n                </ion-col>\r\n                <ion-col size=\"4\" (click)=\"gotoManagementOrderDetail(data)\">\r\n                  <ion-item class=\"item-date-time\">\r\n                    <ion-label class=\"\">{{data.date_time}}</ion-label>\r\n                  </ion-item>\r\n                </ion-col>\r\n              </ion-row>\r\n              <ion-row class=\"ion-no-padding\" (click)=\"gotoManagementOrderDetail(data)\">\r\n                <ion-col class=\"\" size=\"8\">\r\n                  <div class=\"div-title-row-2-col-1\">\r\n                    <ion-label class=\"font-weight-bold\">{{data.title}}</ion-label>\r\n                  </div>\r\n                  <div class=\"div-col-1\">\r\n                    <div class=\"order-address\">\r\n                        <ion-label class=\"\">{{ 'SERVICE_45.order_address' | translate }}:</ion-label>\r\n                    </div>\r\n                    <div>\r\n                        <ion-label class=\"\">{{data.order_address}}</ion-label>\r\n                    </div>\r\n                  </div>\r\n                </ion-col>\r\n                <ion-col class=\"\" size=\"4\">\r\n                  <div class=\"div-title-row-2-col-2\">\r\n                    <ion-label class=\"font-weight-bold\">{{data.money}}đ</ion-label>\r\n                    <ion-label class=\"label-number-product\">{{data.orderInfor.length}} {{ 'SERVICE_45.label_product' | translate }}</ion-label>\r\n                  </div>\r\n                </ion-col>\r\n              </ion-row>\r\n            </ion-grid>\r\n          </ion-list>\r\n        </super-tab>\r\n      </super-tabs-container>\r\n    </super-tabs>\r\n  </ion-content>\r\n  ","import { Component, OnInit } from '@angular/core';\r\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/Camera/ngx';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ActionSheetController, NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ModalController, AlertController } from '@ionic/angular';\r\nimport { DatePipe } from '@angular/common';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\n\r\n@Component({\r\n  selector: 'app-management-order',\r\n  templateUrl: './management-order.page.html',\r\n  styleUrls: ['./management-order.page.scss'],\r\n})\r\nexport class ManagementOrderPage implements OnInit {\r\n  data_history: any;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private camera: Camera,\r\n    public actionSheetController: ActionSheetController,\r\n    private loading: LoadingService,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n    private datePipe: DatePipe,\r\n    private translate: TranslateService,\r\n    public alertController: AlertController,\r\n    private alertService: AlertService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ionViewWillEnter() {\r\n    this.data_history = [];\r\n    this.getAllOrderHistorysByProvider();\r\n  }\r\n  async presentAlert(message) {\r\n    var self = this;\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: self.translate.instant('COMMON.information'),\r\n      message: message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  async presentAlertComplain(message) {\r\n    var self = this;\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: self.translate.instant('COMMON.complain'),\r\n      message: message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  getAllOrderHistorysByProvider() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getListOrderHistorysByProvider()\r\n      .subscribe(result => {\r\n        self.data_history = [\r\n          {\r\n            id_tab: \"0\",\r\n            title: self.translate.instant('SERVICE_45.tab_all_title'),\r\n            data: []\r\n          },\r\n          {\r\n            id_tab: \"processing\",\r\n            title: self.translate.instant('SERVICE_45.tab_processing_title'),\r\n            data: []\r\n          },\r\n          {\r\n            id_tab: \"groupon\",\r\n            title: self.translate.instant('SERVICE_45.tab_groupon_title'),\r\n            data: []\r\n          },\r\n          {\r\n            id_tab: \"delivery\",\r\n            title: self.translate.instant('SERVICE_45.tab_accepted_title'),\r\n            data: []\r\n          },\r\n          {\r\n            id_tab: \"finish\",\r\n            title: self.translate.instant('SERVICE_45.tab_finish_title'),\r\n            data: []\r\n          },\r\n          {\r\n            id_tab: \"cancel\",\r\n            title: self.translate.instant('SERVICE_45.tab_cancel_title'),\r\n            data: []\r\n          }\r\n        ];\r\n        result.ordersHistory.forEach(product => {\r\n          var is_groupon = false;\r\n          if (product.orderInfor.length == 1 && product.orderInfor[0].promotionCode) {\r\n            is_groupon = true;\r\n          }\r\n          let status_order = product.status;\r\n          let id_tab = 'processing';\r\n\r\n          if (status_order == 'processing') {\r\n            id_tab = \"processing\";\r\n          } else if (status_order == 'accepted-provider') {\r\n            if (is_groupon) {\r\n              id_tab = \"groupon\";\r\n              if (product.userPromotionCodeConfirmText) {\r\n                status_order = \"confirm-user\";\r\n              } else {\r\n                status_order = \"accepted-provider-groupon\";\r\n              }\r\n            } else {\r\n              id_tab = \"delivery\";\r\n            }\r\n          } else if (status_order == 'accepted-user') {\r\n            id_tab = \"delivery\";\r\n          } else if (status_order == 'finish') {\r\n            id_tab = \"finish\";\r\n          } else if (status_order == 'cancel-user') {\r\n            id_tab = \"cancel\";\r\n          } else if (status_order == 'cancel-provider') {\r\n            id_tab = \"cancel\";\r\n          }\r\n          let index = self.getIndexCategoryInList(id_tab);\r\n          if (index > -1) {\r\n            let money = 0;\r\n            if (product.orderInfor && product.orderInfor.length > 0) {\r\n              product.orderInfor.forEach(record => {\r\n                money = money + record.number * record.price;\r\n              })\r\n            }\r\n            let money_convert = self.convertFormatMoney(money);\r\n            var date = new Date(product.orderAt);\r\n            var date_convert = this.datePipe.transform(date,\"dd/MM/yyyy\");\r\n            var order_address = product.appartment.title + ' - ' + product.appartment.campaign.title + ', ' + product.appartment.campaign.address;\r\n            let object = {\r\n              _id: product._id,\r\n              id_tab: id_tab,\r\n              status: status_order,\r\n              text_rate: product.starsProvider,\r\n              title: product.requestShopProduct ? product.requestShopProduct.title : \"\",\r\n              money: money_convert,\r\n              avatar: product.createdBy.avatar,\r\n              name: product.createdBy.displayName,\r\n              role: \"CEO\",\r\n              code_orders: product._id,\r\n              date_time: date_convert,\r\n              orderInfor: product.orderInfor,\r\n              createdBy: product.createdBy,\r\n              order_address: order_address,\r\n              is_groupon: is_groupon,\r\n              message: product.userPromotionCodeConfirmText ? product.userPromotionCodeConfirmText : \"\",\r\n              userComplain: product.userComplain ? product.userComplain : \"\"\r\n            }\r\n            self.data_history[index]['data'].push(object);\r\n            let index_all = self.getIndexCategoryInList(\"0\");\r\n            self.data_history[index_all]['data'].push(object);\r\n          }\r\n        });\r\n        self.loading.dismiss();\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n\r\n  gotoManagementOrderDetail(object) {\r\n    localStorage.setItem('data-management-order', JSON.stringify(object));\r\n    this.navCtrl.navigateForward('/management-order-detail');\r\n  }\r\n  convertFormatMoney(value) {\r\n    value = value.toString();\r\n    let convert1 = \"\";\r\n    let convert2 = \"\";\r\n    let count1 = value.length;\r\n    for(let i = 1; i <= count1; i++) {\r\n      if (i % 3 == 0 && i != count1) {\r\n        convert1 = convert1 + value[count1 - i] + '.';\r\n      } else {\r\n        convert1 = convert1 + value[count1 - i];\r\n      }\r\n    }\r\n    let count2 = convert1.length\r\n    for(let i = 1; i <= count2; i++) {\r\n      convert2 = convert2 + convert1[count2 - i];\r\n    }\r\n    return convert2;\r\n  }\r\n  getIndexCategoryInList(id_tab) {\r\n    var self = this;\r\n    let index = -1;\r\n    let index_value = -1;\r\n    self.data_history.forEach(object => {\r\n      index++;\r\n      if (object.id_tab == id_tab) {\r\n        index_value = index;\r\n      }\r\n    });\r\n    return index_value;\r\n  }\r\n  moveToChatToShopPage(object) {\r\n    localStorage.setItem('data-management-order', JSON.stringify(object));\r\n    this.navCtrl.navigateForward('/chat-to-shop');\r\n  }\r\n  showComplainText(event, data) {\r\n    this.presentAlertComplain(data.userComplain);\r\n    event.preventDefault();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe} from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { ManagementOrderPage } from './management-order.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ManagementOrderPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    SuperTabsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ManagementOrderPage],\r\n  providers: [DatePipe]\r\n})\r\nexport class ManagementOrderPageModule {}\r\n"]}