{"version":3,"sources":["./src/app/pages/user-shop-by-category/user-shop-by-category.page.ts","./src/app/pages/user-shop-by-category/user-shop-by-category.page.html","./src/app/pages/user-shop-by-category/user-shop-by-category.module.ts"],"names":[],"mappings":"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","file":"pages-user-shop-by-category-user-shop-by-category-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavController } from '@ionic/angular';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ConstService } from '../../utils/const.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BookingShopHousePage } from '../booking-shop-house/booking-shop-house.page';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-user-shop-by-category',\r\n  templateUrl: './user-shop-by-category.page.html',\r\n  styleUrls: ['./user-shop-by-category.page.scss'],\r\n})\r\nexport class UserShopByCategoryPage implements OnInit {\r\n  data_shop_house: any;\r\n  listDataMarket: any;\r\n  category_id: any;\r\n  category_name: any;\r\n  currentPageSearch = 1;\r\n  numberRecordOnPage = ConstService.NUMBER_RECORD_ON_PAGE;\r\n  slideOpts = {\r\n    // initialSlide: 0,\r\n    slidesPerView: 4.1,\r\n    centeredSlides: false,\r\n    spaceBetween: 0,\r\n    autoplay: false,\r\n  };\r\n  listCategories = [];\r\n  selected_category: string = '';\r\n  listTagShop = [];\r\n  shopTagSelect = [];\r\n\r\n  listSearchTag = [\r\n    { name: 'Giá rẻ nhất', value: 1, selected: false },\r\n    { name: 'Đánh giá cao nhất', value: 2, selected: false },\r\n    { name: 'Ưa chuộng nhất', value: 3, selected: false },\r\n  ]\r\n\r\n  orderMode: number;\r\n\r\n  constructor(\r\n    private loading: LoadingService,\r\n    private apiService: ApiService,\r\n    private navCtrl: NavController,\r\n    private route: ActivatedRoute,\r\n    public modalController: ModalController,\r\n    private translate: TranslateService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.shopTagSelect = [];\r\n    this.data_shop_house = {};\r\n    this.selected_category = this.route.snapshot.paramMap.get('selected_category');\r\n    this.category_id = this.route.snapshot.paramMap.get('category');\r\n    this.category_name = this.route.snapshot.paramMap.get('category_name');\r\n    this.listDataMarket = [];\r\n    this.getListCategories(this.category_id);\r\n    this.searchShopByTagsAndCateV2();\r\n    // this.getTagsOfShopV2();\r\n  }\r\n\r\n  ionViewWillEnter() { }\r\n\r\n  getListCategories(categoryGroupId: string) {\r\n    this.apiService.getListSubCateV2(categoryGroupId).subscribe(\r\n      (res) => {\r\n        this.listCategories = res.shopHouseSubCategoriesV2;\r\n        this.slideOpts.slidesPerView = this.listCategories.length;\r\n      },\r\n      () => { }\r\n    );\r\n  }\r\n\r\n  getTagsOfShopV2() {\r\n    this.apiService.getTagsOfShopV2().subscribe(\r\n      (res) => { },\r\n      (err) => { }\r\n    );\r\n  }\r\n\r\n  // getBySubCategory() {\r\n  //   const self = this;\r\n  //   this.loading.present();\r\n  //   this.apiService.getListShopV2(this.selected_category).subscribe(\r\n  //     (result) => {\r\n  //       let data_shop_product = result.shopHousesV2;\r\n  //       this.mappingShopProduct(data_shop_product);\r\n  //       self.loading.dismiss();\r\n  //     },\r\n  //     (error) => {\r\n  //       self.loading.dismiss();\r\n  //     }\r\n  //   );\r\n  // }\r\n  loadData(event) {\r\n    this.currentPageSearch++;\r\n    this.searchShopByTagsAndCateV2(event);\r\n  }\r\n  moveShopHousePage(object) {\r\n    if (object.carServiceType == 'technologyCar') {\r\n      this.navCtrl.navigateForward('/call-the-car-detail/' + object._id);\r\n    } else if (object.carServiceType == 'oneTurn') {\r\n      this.moveToBookingShopHouse(object);\r\n    } else {\r\n      this.navCtrl.navigateForward('/shop-house/' + object._id);\r\n    }\r\n  }\r\n  moveToBookingShopHouse(object) {\r\n    var self = this;\r\n    this.getShopProducts(object, function () {\r\n      if (self.data_shop_house['group_2'].length > 0) {\r\n        self.data_shop_house['group_2'][0]['data'][0].number = 1;\r\n        localStorage.setItem('data-shop-house', JSON.stringify(self.data_shop_house));\r\n        this.goToPageBookingShopHouse();\r\n      }\r\n    });\r\n  }\r\n  async goToPageBookingShopHouse() {\r\n    const modal = await this.modalController.create({\r\n      component: BookingShopHousePage,\r\n      cssClass: 'booking-shop-house-modal-css',\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  getShopProducts(objectShop, callBack) {\r\n    const self = this;\r\n    this.data_shop_house = {};\r\n    this.data_shop_house['carServiceType'] = objectShop.carServiceType;\r\n    this.data_shop_house['group_1'] = [];\r\n    this.data_shop_house['group_2'] = [];\r\n    this.loading.present();\r\n    this.apiService.getDataServiceShopProduct(objectShop._id).subscribe(\r\n      (result) => {\r\n        let data_shop_product = result.shopProducts;\r\n        data_shop_product.forEach((product) => {\r\n          if (product.requestShopProduct) {\r\n            self.data_shop_house['_id'] = product.requestShopProduct._id;\r\n            self.data_shop_house['text_title'] = product.requestShopProduct.title;\r\n            if (product.requestShopProduct.apartment) {\r\n              self.data_shop_house['text_place'] =\r\n                product.requestShopProduct.apartment.title + ' - ' + product.requestShopProduct.apartment.campaign.title;\r\n            } else {\r\n              self.data_shop_house['text_place'] = 'AMO';\r\n            }\r\n            self.data_shop_house['text_star_rate'] = product.requestShopProduct.stars;\r\n            let thumbnail = product.requestShopProduct.thumbnail;\r\n            let logo = product.requestShopProduct.thumbnail;\r\n            if (product.requestShopProduct.attachments && product.requestShopProduct.attachments.length > 1) {\r\n              logo = product.requestShopProduct.attachments[0].url;\r\n              thumbnail = product.requestShopProduct.attachments[1].url;\r\n            }\r\n            self.data_shop_house['thumbnail'] = thumbnail;\r\n            self.data_shop_house['logo'] = logo;\r\n            let time_open = 'Luôn mở cửa';\r\n            if (product.requestShopProduct.timeOpen) {\r\n              time_open = product.requestShopProduct.timeOpen;\r\n            }\r\n            self.data_shop_house['time_open'] = time_open;\r\n            if (product.promotionCodes && product.promotionCodes.length > 0 && product.promotionCodes[0].type == 'groupon') {\r\n              let promotionCodes = product.promotionCodes[0];\r\n              let deadline_convert = '';\r\n              if (promotionCodes.endAt) {\r\n                let today = new Date();\r\n                let endAt = new Date(promotionCodes.endAt);\r\n                var ageDate = Math.abs(endAt.getTime() - today.getTime());\r\n                let deadline = Math.ceil(ageDate / (1000 * 3600 * 24));\r\n                deadline = deadline ? deadline : 0;\r\n                deadline_convert = deadline == 0 ? 'Khuyến mại' : 'Còn ' + deadline + '   ngày';\r\n              }\r\n\r\n              let title = product.title;\r\n              let money = product.price;\r\n              if (product.discountProducts && product.discountProducts.length > 0) {\r\n                let today = new Date();\r\n                let startAt = new Date(product.discountProducts[0].startAt);\r\n                let endAt = new Date(product.discountProducts[0].endAt);\r\n                if (startAt <= today && today <= endAt) {\r\n                  money = product.discountProducts[0].discountValue;\r\n                }\r\n              }\r\n\r\n              let slider_value = (promotionCodes.numberOrder * 100) / promotionCodes.promotion2;\r\n              let range_position_value = (promotionCodes.promotion1 * 100) / promotionCodes.promotion2;\r\n              let discount = 0;\r\n              if (promotionCodes.numberOrder >= promotionCodes.promotion1 && promotionCodes.numberOrder < promotionCodes.promotion2) {\r\n                discount = promotionCodes.promotionPercent1 / 100;\r\n              } else if (promotionCodes.numberOrder == promotionCodes.promotion2) {\r\n                discount = promotionCodes.promotionPercent2 / 100;\r\n              }\r\n              money = money - money * discount;\r\n              let detail = promotionCodes.title;\r\n              let actual_order = promotionCodes.numberOrder + '/' + promotionCodes.promotion2;\r\n\r\n              let moc_1 = '-0%';\r\n              let moc_2 = '-' + promotionCodes.promotionPercent1 + '%';\r\n              let moc_3 = '-' + promotionCodes.promotionPercent2 + '%';\r\n              let background_image = '';\r\n              let object = {\r\n                _id: product._id,\r\n                _id_requestShopProduct: product.requestShopProduct._id,\r\n                thumbnail: product.thumbnail,\r\n                bg_url: '../assets/images/services/1.png',\r\n                deadline: deadline_convert,\r\n                title: title,\r\n                money: self.convertFormatMoney(money),\r\n                detail: detail,\r\n                excerpt: product.excerpt,\r\n                actual_order: actual_order,\r\n                slider_value: slider_value,\r\n                range_position_value: range_position_value,\r\n                moc_1: moc_1,\r\n                moc_2: moc_2,\r\n                moc_3: moc_3,\r\n                number: 0,\r\n                background_image: background_image,\r\n              };\r\n              self.data_shop_house.group_1.push(object);\r\n            } else {\r\n              let index = self.getIndexCategoryInList(product.category._id);\r\n              if (index < 0) {\r\n                self.data_shop_house['group_2'].push({\r\n                  id_tab: product.category._id,\r\n                  title: product.category.title,\r\n                  data: [],\r\n                });\r\n                index = self.data_shop_house['group_2'].length - 1;\r\n              }\r\n              let title = product.title;\r\n              let money = product.price;\r\n              if (product.discountProducts && product.discountProducts.length > 0) {\r\n                let today = new Date();\r\n                let startAt = new Date(product.discountProducts[0].startAt);\r\n                let endAt = new Date(product.discountProducts[0].endAt);\r\n                if (startAt <= today && today <= endAt) {\r\n                  money = product.discountProducts[0].discountValue;\r\n                }\r\n              }\r\n              let object = {\r\n                _id: product._id,\r\n                image: product.thumbnail,\r\n                title: title,\r\n                money: self.convertFormatMoney(money),\r\n                note: product.excerpt,\r\n                number: 0,\r\n              };\r\n              self.data_shop_house.group_2[index].data.push(object);\r\n            }\r\n          }\r\n        });\r\n        self.loading.dismiss();\r\n        callBack();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n        callBack();\r\n      }\r\n    );\r\n  }\r\n  getIndexCategoryInList(id_tab) {\r\n    var self = this;\r\n    let index = -1;\r\n    let index_value = -1;\r\n    self.data_shop_house.group_2.forEach((object) => {\r\n      index++;\r\n      if (object.id_tab == id_tab) {\r\n        index_value = index;\r\n      }\r\n    });\r\n    return index_value;\r\n  }\r\n  convertFormatMoney(value) {\r\n    if (value.toString() == '') {\r\n      return '';\r\n    }\r\n    value = value.toString();\r\n    let convert1 = '';\r\n    let convert2 = '';\r\n    let count1 = value.length;\r\n    for (let i = 1; i <= count1; i++) {\r\n      if (i % 3 == 0 && i != count1) {\r\n        convert1 = convert1 + value[count1 - i] + '.';\r\n      } else {\r\n        convert1 = convert1 + value[count1 - i];\r\n      }\r\n    }\r\n    let count2 = convert1.length;\r\n    for (let i = 1; i <= count2; i++) {\r\n      convert2 = convert2 + convert1[count2 - i];\r\n    }\r\n    return convert2;\r\n  }\r\n  categoryClick(cateId: string) {\r\n    this.selected_category = cateId;\r\n    this.shopTagSelect = [];\r\n    this.currentPageSearch = 1;\r\n    this.listDataMarket = [];\r\n    this.searchShopByTagsAndCateV2();\r\n  }\r\n  shopTagClick(tagId: string) {\r\n    console.warn(tagId);\r\n\r\n    const tagIndex = this.shopTagSelect.findIndex((item) => item == tagId);\r\n    if (tagIndex != -1) {\r\n      this.shopTagSelect.splice(tagIndex, 1);\r\n    } else {\r\n      this.shopTagSelect.push(tagId);\r\n    }\r\n    this.listDataMarket = [];\r\n    this.currentPageSearch = 1;\r\n    this.searchShopByTagsAndCateV2();\r\n  }\r\n\r\n  searchShopByTagsAndCateV2(event = null) {\r\n    this.loading.present();\r\n    this.apiService\r\n      .searchShopByTagsAndCateV2(this.currentPageSearch, this.numberRecordOnPage, this.shopTagSelect, [this.selected_category], this.orderMode)\r\n      .subscribe(\r\n        (result) => {\r\n          const data_shop_product = result.shopHousesV2;\r\n          this.mappingShopProduct(data_shop_product);\r\n          this.loading.dismiss();\r\n          if (event) {\r\n            event.target.complete();\r\n          }\r\n        },\r\n        (error) => {\r\n          this.loading.dismiss();\r\n          if (event) {\r\n            event.target.complete();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  mappingShopProduct(data_shop_product: any) {\r\n    data_shop_product.forEach((product) => {\r\n      let text_note = product.promotionKM ? product.promotionKM : '';\r\n      if (text_note && text_note != 'KM') {\r\n        text_note = '-' + text_note;\r\n      } else if (text_note == 'KM') {\r\n        text_note = this.translate.instant('SHOP_BY_CATE.promotion');\r\n      }\r\n      let type_note = product.promotionKM == 'KM' ? 2 : 1;\r\n      let text_place = 'AMO';\r\n      if (product.apartment) {\r\n        text_place = product.apartment.title + ' - ' + product.apartment.campaign.title;\r\n      }\r\n      let text_tag = product.promotion ? product.promotion : '';\r\n      const content = product.promotion || product.content.replace(/(<([^>]+)>)/gi, '');\r\n      let thumbnailUrl = product.thumbnail;\r\n      if (!thumbnailUrl && product.attachments && product.attachments.length > 1) {\r\n        thumbnailUrl = product.attachments[1].url;\r\n      }\r\n      const shopHouseTagList = product.shopHouseTag.map((item) => {\r\n        const tagSelect = this.shopTagSelect.find((tag) => tag == item._id);\r\n        if (tagSelect) {\r\n          item.isSelected = true;\r\n        } else {\r\n          item.isSelected = false;\r\n        }\r\n        return item;\r\n      });\r\n      this.listDataMarket.push({\r\n        _id: product._id,\r\n        thumbnail: thumbnailUrl ? thumbnailUrl : 'assets/common/no-thumbnail.png',\r\n        title: product.title,\r\n        text_note: text_note,\r\n        type_note: type_note,\r\n        text_place: text_place,\r\n        text_star_rate: product.stars,\r\n        text_tag: text_tag,\r\n        carServiceType: product.carServiceType,\r\n        time_open: product.timeOpen || '',\r\n        content: content,\r\n        numberOrder: product.numberOrder || 0,\r\n        numberEvaluation: product.numberEvaluation || 0,\r\n        shopHouseTag: shopHouseTagList,\r\n        lowestPrice: product.lowestPrice\r\n      });      \r\n    });\r\n  }\r\n\r\n  searchByTag(tagType: number) {\r\n    const selectedTag = this.listSearchTag.find(el => el.value === tagType);\r\n    if (selectedTag.selected === true) {\r\n      selectedTag.selected = false;\r\n      this.orderMode = undefined;\r\n      this.listDataMarket = [];\r\n      this.currentPageSearch = 1;\r\n    } else if (selectedTag.selected == false) {\r\n      this.unselectSearchTag(tagType);\r\n      selectedTag.selected = true\r\n      this.orderMode = tagType;\r\n      this.listDataMarket = [];\r\n      this.currentPageSearch = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    this.searchShopByTagsAndCateV2();\r\n  }\r\n\r\n  private unselectSearchTag(val) {\r\n    this.listSearchTag.forEach(element => {\r\n      if (element.value !== val) {\r\n        element.selected = false;\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\r\n","<ion-header class=\"service-cate-header\">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ category_name }}</ion-label>\r\n  <div class=\"categories-wrapper\">\r\n    <ion-slides pager=\"false\" [options]=\"slideOpts\" class=\"header-slider\">\r\n      <ion-slide class=\"category-slide\" *ngFor=\"let cate of listCategories\" (click)=\"categoryClick(cate._id)\">\r\n        <div class=\"category-item active\" [ngClass]=\"{'active': selected_category == cate._id}\">\r\n          <img class=\"category-img\" src=\"{{ cate.thumbnail }}\" />\r\n          <div class=\"cate-title\">{{ cate.title }}</div>\r\n          <img class=\"category-img-checked\" src=\"assets/icon/service-info/checked.svg\"\r\n            *ngIf=\"selected_category == cate._id\" />\r\n        </div>\r\n      </ion-slide>\r\n    </ion-slides>\r\n  </div>\r\n  <div class=\"curve-header\"></div>\r\n</ion-header>\r\n\r\n<ion-content [scrollEvents]=\"false\" class=\"shop-content\" slot=\"fixed\">\r\n  <!-- tags container -->\r\n  <div class=\"tag-container row\">\r\n    <span *ngFor=\"let tagSearch of listSearchTag\" class=\"tag-text {{ tagSearch.selected ? 'selected' : ''  }}\"\r\n      (click)=\"searchByTag(tagSearch.value)\">{{ tagSearch.name }}</span>\r\n  </div>\r\n  <!-- end tags container -->\r\n  <div class=\"list-title\">{{ 'SHOP_BY_CATE.supplier_highlight' | translate }}</div>\r\n  <ion-list class=\"list-view-custom\">\r\n    <ion-item *ngIf=\"listDataMarket.length == 0\" class=\"ion-item-class\">\r\n      <ion-label>\r\n        {{ 'SHOP_BY_CATE.no_service' | translate }}\r\n      </ion-label>\r\n    </ion-item>\r\n    <ion-item *ngFor=\"let object of listDataMarket\" id=\"{{object._id}}\" class=\"ion-item-class ion-no-padding\">\r\n      <ion-grid class=\"ion-no-padding category-item-grid\">\r\n        <ion-row>\r\n          <ion-col size=\"3\" class=\"ion-no-padding\" (click)=\"moveShopHousePage(object)\">\r\n            <div class=\"div-logo\">\r\n              <img src=\"{{object?.thumbnail}}\" class=\"shop-image\" />\r\n              <div class=\"note-2\">{{object.text_note}}</div>\r\n            </div>\r\n          </ion-col>\r\n          <ion-col size=\"9\" class=\"ion-no-padding\">\r\n            <div (click)=\"moveShopHousePage(object)\">\r\n              <div class=\"group-1-text-title\">\r\n                <ion-label class=\"font-weight-bold\">{{object.title}}</ion-label>\r\n              </div>\r\n              <!-- Mô tả gian hàng -->\r\n              <div class=\"group-1-shop-description\">\r\n                {{ object?.content }}\r\n              </div>\r\n              <!-- =========== -->\r\n              <!-- <div class=\"group-1-text-place\">\r\n                <img class=\"group-1-icon-place\" src=\"../assets/icon/svg/icon-place.svg\" />\r\n                <ion-label>{{object.text_place}}</ion-label>\r\n              </div> -->\r\n              <div class=\"group-1-text-star\">\r\n                <div class=\"group-1-text-star-1\" *ngIf=\"object.text_star_rate != ''\">\r\n                  <img class=\"group-1-icon-star\" src=\"../assets/icon/svg/icon-star.svg\" />\r\n                  <ion-label class=\"class-label-rate\">{{object.text_star_rate}}</ion-label>\r\n                </div>\r\n                <div class=\"group-1-text-sold\">\r\n                  <span class=\"margin-right-10\">{{object?.numberEvaluation}} {{ 'SHOP_BY_CATE.rating' | translate\r\n                    }}</span>|<span class=\"margin-left-10\">{{object?.numberOrder}} {{ 'SHOP_BY_CATE.setup' | translate\r\n                    }}</span>\r\n                </div>\r\n              </div>\r\n              <!-- Mốc giá -->\r\n              <div class=\"group-1-price\">\r\n                <div class=\"price-from\">\r\n                  {{ 'SHOP_BY_CATE.price_from' | translate }} {{ object.lowestPrice }} đ\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- ================= -->\r\n            <!-- List tags -->\r\n            <div class=\"group-1-list-tag row\">\r\n              <span class=\"tag-text {{ shopTag?.isSelected ? 'tag-selected-highlight' : ''}}\"\r\n                *ngFor=\"let shopTag of object.shopHouseTag\" (click)=\"shopTagClick(shopTag._id)\">\r\n                #{{shopTag.title}}\r\n              </span>\r\n            </div>\r\n            <!-- ================== -->\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-infinite-scroll threshold=\"50px\" (ionInfinite)=\"loadData($event)\" class=\"infinite-scroll-block\">\r\n    <ion-infinite-scroll-content loadingSpinner=\"\" loadingText=\"\"></ion-infinite-scroll-content>\r\n  </ion-infinite-scroll>\r\n</ion-content>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { UserShopByCategoryPage } from './user-shop-by-category.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UserShopByCategoryPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    MatTabsModule,\r\n    SuperTabsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [UserShopByCategoryPage]\r\n})\r\nexport class UserShopByCategoryPageModule {}\r\n\r\n"],"sourceRoot":"webpack:///"}