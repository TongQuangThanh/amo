{"version":3,"sources":["webpack:///src/app/pages/booking-shop-house/booking-shop-house.page.ts","webpack:///src/app/pages/booking-shop-house/booking-shop-house.page.html"],"names":["BookingShopHousePage","modalController","loading","navCtrl","apiService","dateNow","Date","toJSON","listDepartmentByID","getListApartment","check_class_button","form_apartment_id","form_apartment_class","form_start_time","form_start_time_class","form_end_time","form_end_time_class","form_note","list_product","orderInfor","paymentMode","customerInfor","appartment","timeDeliver","note","data","JSON","parse","localStorage","getItem","carServiceType","is_change_number","data_shop_house","form_phone_number","form_phone_number_class","getListProduct","flag_show_hide_popup","total_money","getTotalMoney","self","shop_info","shopInfo","console","warn","group_2","forEach","object","product","number","money","parseInt","replace","convertFormatMoney","push","button_active","button_1_class","button_2_class","event","checkStatusButtonSend","id","_id","present","getListUserApartment","subscribe","result","listDepartment","userApartments","index","apartment","dismiss","error","total","value","dataApartment","owner","phone","shopProduct","price","params","address","campaign","title","location","latlng","toString","shopHouse","requestionOrderProductV2","navigateForward","convert1","convert2","count1","length","i","count2","goBack","ionChangePulldownApartment","ionChangeStartTime","eventButton1","eventButtonSend","selector","templateUrl","styleUrls"],"mappings":"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","file":"default~pages-booking-shop-house-booking-shop-house-module~pages-repair-service-repair-service-modul~433919b2-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-booking-shop-house',\r\n  templateUrl: './booking-shop-house.page.html',\r\n  styleUrls: ['./booking-shop-house.page.scss'],\r\n})\r\nexport class BookingShopHousePage implements OnInit {\r\n  listDepartment: any;\r\n  listDepartmentByID: any;\r\n  check_box_1: boolean;\r\n  check_box_2: boolean;\r\n  tip_value: any;\r\n  show_popup_tip: any;\r\n  button_active: any;\r\n  button_1_class: any;\r\n  button_2_class: any;\r\n  form_apartment_id:any;\r\n  form_apartment_class:any;\r\n  form_start_time: any;\r\n  form_start_time_class: any;\r\n  form_end_time: any;\r\n  form_end_time_class: any;\r\n  list_product: any;\r\n  form_note:any;\r\n  is_change_number: any;\r\n\r\n\r\n  data_shop_house: any;\r\n  form_phone_number:any;\r\n  form_phone_number_class:any;\r\n  flag_show_hide_popup: any;\r\n  total_money: any;\r\n  shop_info: any;\r\n\r\n  orderInfor: any;\r\n  paymentMode: any;\r\n  customerInfor: any;\r\n  dateNow = new Date().toJSON();\r\n  \r\n  constructor(\r\n    public modalController: ModalController,\r\n    private loading: LoadingService,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.listDepartmentByID = {};\r\n    this.getListApartment();\r\n    // this.button_active = 0;\r\n    this.check_class_button();\r\n    this.form_apartment_id = \"\";\r\n    this.form_apartment_class = \"\";\r\n    this.form_start_time = \"\";\r\n    this.form_start_time_class = \"\";\r\n    this.form_end_time = \"\";\r\n    this.form_end_time_class = \"\";\r\n    this.form_note = \"\";\r\n    this.list_product = [];\r\n    this.orderInfor = [];\r\n    this.paymentMode = 0;\r\n    this.customerInfor = {\r\n      appartment: '',\r\n      timeDeliver: '',\r\n      note: '',\r\n    };\r\n\r\n    let data = JSON.parse(localStorage.getItem('data-shop-house'));\r\n    \r\n    if (data.carServiceType && data.carServiceType == 'oneTurn') {\r\n      this.is_change_number = false;\r\n    } else {\r\n      this.is_change_number = true;\r\n    }\r\n    this.data_shop_house = data;\r\n    this.form_phone_number = \"\";\r\n    this.form_phone_number_class = \"\";\r\n    this.getListProduct();\r\n    this.flag_show_hide_popup = false;\r\n    this.total_money = \"\";\r\n    this.getTotalMoney();\r\n  }\r\n  getListProduct() {\r\n    let self = this;\r\n    this.list_product = [];\r\n    self.shop_info = self.data_shop_house.shopInfo;\r\n    console.warn(self.shop_info);\r\n    self.data_shop_house.group_2.forEach(object => {\r\n      object.data.forEach(product => {\r\n        if (product.number > 0) {\r\n          let money = parseInt(product.money.replace(/\\./g, \"\").replace(/đ/g, \"\"));\r\n          product['money_convert'] = self.convertFormatMoney(money);\r\n          self.list_product.push(product);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  check_class_button (){\r\n    if (this.button_active == 0) {\r\n      this.button_1_class = \"button-active\";\r\n      this.button_2_class = \"button-unactive\";\r\n    } else if(this.button_active == 1) {\r\n      this.button_2_class = \"button-active\";\r\n      this.button_1_class = \"button-unactive\";\r\n    } else {\r\n      this.button_2_class = \"button-unactive\";\r\n      this.button_1_class = \"button-unactive\";\r\n    }\r\n  }\r\n  ionChangePulldownApartment(event){\r\n    if (this.form_apartment_id != '') {\r\n      this.form_apartment_class = 'has-input-value';\r\n    } else {\r\n      this.form_apartment_class = \"\";\r\n    }\r\n    this.checkStatusButtonSend();\r\n  }\r\n  downNumberProduct(id) {\r\n    let self = this;\r\n    self.list_product.forEach(object => {\r\n      if (object._id == id && object.number > 0) {\r\n        object.number--;\r\n      }\r\n    });\r\n    this.getTotalMoney();\r\n  }\r\n  upNumberProduct(id) {\r\n    let self = this;\r\n    self.list_product.forEach(object => {\r\n      if (object._id == id && object.number < 1000) {\r\n        object.number++;\r\n      }\r\n    });\r\n    this.getTotalMoney();\r\n  }\r\n  ionChangeStartTime(){\r\n    if (this.form_start_time != '') {\r\n      this.form_start_time_class = 'has-input-value';\r\n    } else {\r\n      this.form_start_time_class = \"\";\r\n    }\r\n    this.checkStatusButtonSend();\r\n    // let date = new Date(this.form_start_time);\r\n    // this.form_start_time_label = this.datePipe.transform(date,\"dd/MM/yyyy HH:mm\");\r\n  }\r\n  ionChangeEndTime(){\r\n    if (this.form_end_time != '') {\r\n      this.form_end_time_class = 'has-input-value';\r\n    } else {\r\n      this.form_end_time_class = \"\";\r\n    }\r\n    this.checkStatusButtonSend();\r\n    // let date = new Date(this.form_end_time);\r\n    // this.form_end_time_label = this.datePipe.transform(date,\"dd/MM/yyyy HH:mm\");\r\n  }\r\n  getListApartment(){\r\n    let self = this;\r\n    this.loading.present();\r\n    this.apiService.getListUserApartment()\r\n      .subscribe(result => {\r\n        self.listDepartment = result.userApartments;\r\n        self.listDepartment.forEach((data, index) =>{\r\n          if(index == 0) {\r\n            this.form_apartment_id = data.apartment._id;\r\n          }\r\n          self.listDepartmentByID[data.apartment._id] = data;\r\n        });\r\n        self.loading.dismiss()\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n\r\n  ionChangeTextBox1() {\r\n    if (this.form_phone_number != '') {\r\n      this.form_phone_number_class = 'has-input-value';\r\n    } else {\r\n      this.form_phone_number_class = '';\r\n    }\r\n    this.checkStatusButtonSend();\r\n  }\r\n  getTotalMoney(){\r\n    let self = this;\r\n    this.total_money = \"\";\r\n    let total = 0;\r\n    self.list_product.forEach(object => {\r\n      if (object.number > 0) {\r\n        total = total + object.number * parseInt(object.money.replace(/\\./g, \"\").replace(/đ/g, \"\"));\r\n      }\r\n    });\r\n    if (total > 0) {\r\n      this.total_money =  this.convertFormatMoney(total) + 'đ';\r\n    }\r\n  }\r\n  eventButton1(value) {\r\n    this.button_active = value;\r\n    this.check_class_button();\r\n  }\r\n  eventButtonSend() {\r\n    let self = this;\r\n    let dataApartment = self.listDepartmentByID[this.form_apartment_id];\r\n    this.form_phone_number = dataApartment.apartment.owner.phone;\r\n    this.loading.present();\r\n    this.paymentMode = this.button_active;\r\n    // let requestShopProduct = self.data_shop_house._id;\r\n    this.orderInfor = [];\r\n    self.list_product.forEach(object => {\r\n      if (object.number > 0) {\r\n        let money = parseInt(object.money.replace(/\\./g, \"\").replace(/đ/g, \"\"));\r\n        self.orderInfor.push({\r\n          shopProduct: object._id,\r\n          price: money,\r\n          number: object.number\r\n        });\r\n      }\r\n    });\r\n    const params = {\r\n      orderInfor: this.orderInfor,\r\n      timeDeliver: this.form_start_time,\r\n      note:  this.form_note,\r\n      phone:  this.form_phone_number,\r\n      address: dataApartment.campaign.title + \" ,\" + dataApartment.campaign.address,\r\n      location: dataApartment.campaign.latlng,\r\n      paymentMode: this.paymentMode.toString(),\r\n      appartment: this.form_apartment_id,\r\n      shopHouse: this.data_shop_house.shopInfo._id\r\n    };\r\n    this.apiService.requestionOrderProductV2(params).subscribe(result => {\r\n      self.loading.dismiss();\r\n      this.modalController.dismiss();\r\n      this.navCtrl.navigateForward('order-service-success');\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  // eventButtonClosePopup() {\r\n  //   this.flag_show_hide_popup = false;\r\n  //   this.location.back();\r\n  // }\r\n\r\n  // async orderResultModal() {\r\n  //   const modal = await this.modalController.create({\r\n  //     component: PopupShopOrderResultPage,\r\n  //   });\r\n  //   return await modal.present();\r\n  // }\r\n\r\n  convertFormatMoney(value) {\r\n    value = value.toString();\r\n    let convert1 = \"\";\r\n    let convert2 = \"\";\r\n    let count1 = value.length;\r\n    for(let i = 1; i <= count1; i++) {\r\n      if (i % 3 == 0 && i != count1) {\r\n        convert1 = convert1 + value[count1 - i] + '.';\r\n      } else {\r\n        convert1 = convert1 + value[count1 - i];\r\n      }\r\n    }\r\n    let count2 = convert1.length\r\n    for(let i = 1; i <= count2; i++) {\r\n      convert2 = convert2 + convert1[count2 - i];\r\n    }\r\n    return convert2;\r\n  }\r\n  checkStatusButtonSend() {\r\n    if (this.form_apartment_id != \"\" && this.form_start_time != \"\" && this.total_money != \"\" && (this.button_active === 1 || this.button_active === 0)) {\r\n      return \"\";\r\n    } else {\r\n      return \"button-disable\";\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.modalController.dismiss();\r\n  }\r\n}\r\n","\r\n<ion-header class=\"payment-confirm-header\">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"#666666\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\" (click)=\"goBack()\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ 'PAYMENT_INFOR.payment_confirm_booking' | translate }}</ion-label>\r\n  <!-- <ion-label class=\"header-sub-title\">{{ 'PAYMENT_INFOR.payment_confirm_sub_title' | translate }}</ion-label> -->\r\n</ion-header>\r\n\r\n<ion-content class=\"payment-confirm-content\">\r\n  <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding ion-list\">\r\n    <ion-grid class=\"ion-grid-class ion-no-padding\">\r\n      <ion-row>\r\n        <ion-col class=\"ion-col-class\" size=\"12\">\r\n          <img class=\"shop-icon\" src=\"{{ shop_info.thumbnail }}\">\r\n          <ion-label class=\"shop-name\">{{ shop_info.title }}</ion-label>\r\n        </ion-col> \r\n      </ion-row>\r\n      <ion-row *ngFor=\"let object of list_product; last as isLast\" id=\"{{object._id}}\">\r\n        <ion-col class=\"ion-col-class\" size=\"12\">\r\n          <ion-label class=\"title-product\">{{object.title}}</ion-label>\r\n        </ion-col>\r\n        <ion-col size=\"12\">\r\n          <ion-row>\r\n            <ion-col size=\"7\" class=\"col-data-money\">\r\n              <ion-label class=\"font-weight-bold white-space-normal\">{{object.money_convert}}đ</ion-label>\r\n            </ion-col>\r\n            <ion-col class=\"group-1-button-change-number\" size=\"5\">\r\n              <img class=\"icon-button-3\" src=\"../assets/common/minus.svg\" (click)=\"downNumberProduct(object._id)\" />\r\n              <label class=\"booking-product-number\">{{object.number}}</label>\r\n              <img class=\"icon-button-3\" src=\"../assets/common/plus.svg\" (click)=\"upNumberProduct(object._id)\" />\r\n            </ion-col>\r\n          </ion-row>\r\n        </ion-col>\r\n        <div class=\"devider-line-confirm-item\" *ngIf=\"!isLast\"></div>\r\n      </ion-row>\r\n      <div class=\"devider-line-info-payment\"></div>\r\n      <ion-row>\r\n        <ion-col size=\"5\" class=\"col-total-title\">\r\n          <ion-label class=\"payment-confirm-total-title\">{{'PAYMENT_INFOR.payment_confirm_total' | translate}}</ion-label>\r\n        </ion-col>\r\n        <ion-col size=\"7\" class=\"col-total-money\">\r\n          <label class=\"payment-confirm-total-money\">{{total_money}}</label>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n\r\n    <ion-item lines=\"none\" class=\"payment-more-info booking-padding-12\">\r\n      <label class=\"payment-more-info-title\">{{ 'SEVICE_05.detail_title' | translate }}</label>\r\n    </ion-item>\r\n\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-common booking-padding-12\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/home.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_apartment_id != ''\" class=\"pulldown-1-placeholder\">{{ 'SEVICE_05.apartment_placeHolder_1' | translate }}</label>\r\n        <div class=\"width-100 {{form_apartment_class}}\">\r\n          <ion-select class=\"pulldown-apartment-select\" placeholder=\"{{ 'SEVICE_05.apartment_placeHolder_2' | translate }}\"\r\n            interface=\"action-sheet\" name=\"form_apartment_id\" [(ngModel)]=\"form_apartment_id\"\r\n            (ionChange)=\"ionChangePulldownApartment($event)\">\r\n            <ion-select-option *ngFor=\"let item of listDepartment\" value=\"{{item.apartment._id}}\">{{item.apartment.title + ' - ' +\r\n              item.campaign.title}}</ion-select-option>\r\n          </ion-select>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n\r\n    <ion-item lines=\"none\" class=\"margin-top-10 booking-padding-12\">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/time.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_start_time != ''\" class=\"pulldown-1-placeholder\">{{ 'PAYMENT_INFOR.payment_confirm_time_receive' | translate\r\n          }}</label>\r\n        <div class=\"width-100 {{form_start_time_class}}\">\r\n          <ion-datetime placeholder=\"{{ 'SEVICE_05.datetime_placeHolder' | translate }}\" class=\"datetime-commom\" name=\"form_start_time\"\r\n            [(ngModel)]=\"form_start_time\" displayFormat=\"DD/MM/YYYY HH:mm\" (ionChange)=\"ionChangeStartTime()\" min=\"{{dateNow}}\" max=\"2050\">\r\n          </ion-datetime>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <ion-item lines=\"none\" class=\"margin-top-10 margin-bottom-30\">\r\n      <ion-item lines=\"none\" class=\"item-common booking-padding-12\">\r\n        <ion-textarea class=\"text-area-1\" rows=\"4\" cols=\"20\" placeholder=\"{{ 'SEVICE_05.note_placeHolder' | translate }}\"\r\n          [(ngModel)]=\"form_note\"></ion-textarea>\r\n      </ion-item>\r\n    </ion-item>\r\n  </ion-list>\r\n</ion-content>\r\n<ion-footer class=\"full-width function-section\">\r\n  <ion-item lines=\"none\">\r\n    <ion-item lines=\"none\" class=\"item-common no-border margin-right-5\" (click)=\"eventButton1(0)\">\r\n      <div class=\"{{button_1_class}}\"></div>\r\n      <img class=\"image-button-payment\" src=\"../assets/icon/svg/money-1.svg\" />\r\n      <label class=\"button-1-text padding-right-10\">{{ 'SEVICE_05.payment_methods_transfer' | translate }}</label>\r\n      <img *ngIf=\"button_active == 0\" class=\"button-1-icon\" src=\"../assets/icon/svg/Fill.svg\" />\r\n    </ion-item>\r\n    <ion-item lines=\"none\" class=\"item-common no-border margin-left-5\" (click)=\"eventButton1(1)\">\r\n      <div class=\"{{button_2_class}}\"></div>\r\n      <img class=\"image-button-payment\" src=\"../assets/icon/svg/money-2.svg\" />\r\n      <label class=\"button-1-text padding-right-10\">{{ 'SEVICE_05.payment_methods_cash' | translate }}</label>\r\n      <img *ngIf=\"button_active == 1\" class=\"button-1-icon\" src=\"../assets/icon/svg/Fill.svg\" />\r\n    </ion-item>\r\n  </ion-item>\r\n  <ion-button (click)=\"eventButtonSend()\" expand=\"block\" class=\"amo-button-custom {{checkStatusButtonSend()}}\">\r\n    {{ 'PAYMENT_INFOR.payment_confirm_btn_send' | translate }}\r\n  </ion-button>\r\n</ion-footer>"]}