{"version":3,"sources":["./src/app/pages/popup-rating-shop/popup-rating-shop.page.ts","./src/app/pages/popup-rating-shop/popup-rating-shop.page.html"],"names":[],"mappings":"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","file":"default~pages-history-history-module~pages-popup-rating-shop-popup-rating-shop-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AlertService } from 'src/app/services/alert/alert.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\n\r\n@Component({\r\n  selector: 'app-popup-rating-shop',\r\n  templateUrl: './popup-rating-shop.page.html',\r\n  styleUrls: ['./popup-rating-shop.page.scss'],\r\n})\r\nexport class PopupRatingShopPage implements OnInit {\r\n  message: string = '';\r\n  orderHistoryId = '';\r\n  rating_value_popup = 50;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private translate: TranslateService,\r\n    private apiService: ApiService,\r\n    private loading: LoadingService,\r\n    private navParams: NavParams,\r\n    private alertService: AlertService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.orderHistoryId = this.navParams.data.orderHistoryId;\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  convertFormatMoney(value) {\r\n    value = value.toString();\r\n    let convert1 = '';\r\n    let convert2 = '';\r\n    let count1 = value.length;\r\n    for (let i = 1; i <= count1; i++) {\r\n      if (i % 3 == 0 && i != count1) {\r\n        convert1 = convert1 + value[count1 - i] + '.';\r\n      } else {\r\n        convert1 = convert1 + value[count1 - i];\r\n      }\r\n    }\r\n    let count2 = convert1.length;\r\n    for (let i = 1; i <= count2; i++) {\r\n      convert2 = convert2 + convert1[count2 - i];\r\n    }\r\n    return convert2;\r\n  }\r\n\r\n  eventSendRating() {\r\n    var self = this;\r\n    this.loading.present();\r\n    var data_rate = 0;\r\n    if (self.rating_value_popup > 87) {\r\n      data_rate = 5;\r\n    } else if (self.rating_value_popup > 67) {\r\n      data_rate = 4;\r\n    } else if (self.rating_value_popup > 47) {\r\n      data_rate = 3;\r\n    } else if (self.rating_value_popup > 27) {\r\n      data_rate = 2;\r\n    } else if (self.rating_value_popup > 7) {\r\n      data_rate = 1;\r\n    } else {\r\n      data_rate = 0;\r\n    }\r\n    this.apiService.putOrderProductRateStarShop(self.orderHistoryId, data_rate, self.message).subscribe(\r\n      (result) => {\r\n        self.alertService.presentToast(this.translate.instant('COMMON.message_rate_user_success'));\r\n        self.loading.dismiss();\r\n        this.modalController.dismiss();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n      }\r\n    );\r\n  }\r\n}\r\n","<ion-content class=\"content-wrap\">\r\n  <div class=\"content-container\">\r\n    <ion-item lines=\"none\" class=\"header-item ion-no-padding\">\r\n      <ion-title class=\"popup-title\">{{ 'RATING_SHOP.title' | translate }}</ion-title>\r\n      <ion-buttons slot=\"end\" (click)=\"closeModal()\" class=\"btn-close-popup\">\r\n        <ion-icon name=\"close\"></ion-icon>\r\n      </ion-buttons>\r\n    </ion-item>\r\n    <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding margin-top-10\">\r\n      <ion-grid class=\"ion-no-padding\">\r\n        <ion-row class=\"ion-no-padding padding-0 margin-top-10\">\r\n          <ion-item lines=\"none\" class=\"width-100 group_stars_rate\">\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value_popup > 7\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value_popup > 27\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value_popup > 47\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value_popup > 67\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value_popup > 87\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n          </ion-item>\r\n          <ion-item lines=\"none\" class=\"ion-item-range\">\r\n            <ion-range color=\"danger\" pin=\"true\" [(ngModel)]=\"rating_value_popup\"></ion-range>\r\n          </ion-item>\r\n        </ion-row>\r\n      </ion-grid>\r\n  </ion-list>\r\n    <ion-item class=\"modal-item feedback-textarea\" lines=\"none\">\r\n      <ion-textarea class=\"feedback-textarea-placeholder\" rows=\"4\"\r\n        placeholder=\"{{ 'RATING_SHOP.note_placeHolder' | translate }}\" [(ngModel)]=\"message\"></ion-textarea>\r\n    </ion-item>\r\n    <ion-toolbar lines=\"none\" class=\"ion-text-center modal-toolbar\">\r\n      <ion-button class=\"delete-button\"  *ngIf=\"rating_value_popup < 8 \r\n      || (rating_value_popup >= 8 && rating_value_popup < 68 && message == '')\">\r\n        <ion-label class=\"delete-button-label\">{{ 'RATING_SHOP.btn_send' | translate }}</ion-label>\r\n      </ion-button>\r\n      <ion-button class=\"delete-button\" *ngIf=\"rating_value_popup >= 68 \r\n        || (rating_value_popup >= 8 && rating_value_popup < 68 && message != '')\"  (click)=\"eventSendRating()\">\r\n        <ion-label class=\"delete-button-label\">{{ 'RATING_SHOP.btn_send' | translate }}</ion-label>\r\n      </ion-button>\r\n    </ion-toolbar>\r\n  </div>\r\n</ion-content>"],"sourceRoot":"webpack:///"}