{"version":3,"sources":["webpack:///src/app/pages/popup-payment-function/popup-payment-function.page.ts","webpack:///src/app/pages/popup-payment-function/popup-payment-function.page.html"],"names":["PopupPaymentFunctionPage","modalController","clipboard","alertService","translate","translateConfigService","navParams","paymentMethodList","getDefaultLanguage","paymentCate","data","paymentType","id","forEach","item","key","isSelected","dismiss","paymentSelected","confirm","copy","transfer","bankAccountNumber","presentToast","instant","transfer1","stringValue","n","parseInt","toFixed","replace","c","i","a","length","closeModal","acceptPayment","selector","templateUrl","styleUrls"],"mappings":"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","file":"default~pages-payment-confirm-payment-confirm-module~pages-popup-payment-function-popup-payment-func~ed31a5a5-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { AlertService } from 'src/app/services/alert/alert.service';\r\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TranslateConfigService } from 'src/app/translate-config.service';\r\n\r\n@Component({\r\n  selector: 'app-popup-payment-function',\r\n  templateUrl: './popup-payment-function.page.html',\r\n  styleUrls: ['./popup-payment-function.page.scss'],\r\n})\r\nexport class PopupPaymentFunctionPage implements OnInit {\r\n  paymentMethodList = [];\r\n  paymentCate: any;\r\n  paymentType: any;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private clipboard: Clipboard,\r\n    private alertService: AlertService,\r\n    private translate: TranslateService,\r\n    private translateConfigService: TranslateConfigService,\r\n    private navParams: NavParams\r\n  ) {\r\n    this.translateConfigService.getDefaultLanguage();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.paymentCate = this.navParams.data.paymentCate;\r\n    this.paymentMethodList = this.navParams.data.paymentMethodList || [];\r\n    this.paymentType = this.navParams.data.paymentType;\r\n  }\r\n\r\n  changeBanksMethod(id: number) {\r\n    this.paymentMethodList.forEach((item) => {\r\n      if (item.key == id) {\r\n        item.isSelected = true;\r\n      } else {\r\n        item.isSelected = false;\r\n      }\r\n    });\r\n  }\r\n  \r\n\r\n  closeModal() {\r\n    this.modalController.dismiss({ });\r\n  }\r\n\r\n  acceptPayment() {\r\n    let paymentType = \"cash\";\r\n    if(this.paymentType == 'payment_transfer'){\r\n      paymentType = \"transfer\"\r\n    }else if(this.paymentType == 'payment_online'){\r\n      paymentType = \"online\"\r\n    }\r\n\r\n    this.modalController.dismiss({ \r\n      paymentSelected: paymentType,\r\n      confirm: \"ok\"\r\n    });\r\n  }\r\n\r\n  copyBankNumber() {\r\n    this.clipboard.copy(this.paymentCate?.transfer?.bankAccountNumber || '');\r\n    this.alertService.presentToast(this.translate.instant('PAYMENT_INFOR.message_copy'));\r\n  }\r\n\r\n  copyBankNumber1() {\r\n    this.clipboard.copy(this.paymentCate?.transfer1?.bankAccountNumber || '');\r\n    this.alertService.presentToast(this.translate.instant('PAYMENT_INFOR.message_copy'));\r\n  }\r\n\r\n  formatMoney(stringValue) {\r\n    let n = parseInt(stringValue);\r\n    return n.toFixed(0).replace(/./g, function (c, i, a) {\r\n      return i > 0 && c !== ',' && (a.length - i) % 3 === 0 ? '.' + c : c;\r\n    });\r\n  }\r\n}\r\n","<!-- <ion-backdrop></ion-backdrop> -->\r\n<ion-content class=\"modal-content-wrap\">\r\n  <div class=\"modal-content-container\">\r\n    <ion-item lines=\"none\" class=\"header-item\">\r\n      <ion-buttons slot=\"end\" class=\"\" (click)=\"closeModal()\" class=\"btn-close-popup\">\r\n        <ion-icon name=\"close\"></ion-icon>\r\n      </ion-buttons>\r\n    </ion-item>\r\n    <ion-toolbar lines=\"none\" class=\"modal-title\">\r\n      <!-- <ion-label>{{'PAYMENT_INFOR.modal_change_title' | translate}}</ion-label> -->\r\n      <ion-button class=\"amo-button btn-default\" (click)=\"acceptPayment()\">{{'PAYMENT_INFOR.confirm' | translate }}</ion-button>\r\n    </ion-toolbar>\r\n    <!-- <ng-container *ngFor=\"let item of paymentMethodList\">\r\n      <ion-item lines=\"none\" class=\"ion-no-padding modal-ion-item {{item.isSelected ? 'modal-ion-item-active' : ''}}\"\r\n        (click)=\"changeBanksMethod(item.key)\">\r\n        <ion-icon [src]=\"'../assets/icon/payment/wallet.svg'\" class=\"item-icon\"></ion-icon>\r\n        <ion-label class=\"item-title\">{{item.name}}</ion-label>\r\n        <ion-text class=\"item-sub-title\">{{item.content}}</ion-text>\r\n        <ion-label class=\"item-right\" *ngIf=\"item.isSelected\">\r\n          <ion-icon [src]=\"'../assets/icon/payment/selected.svg'\"></ion-icon>\r\n          {{\"PAYMENT_INFOR.modal_change_selected\" | translate}}\r\n        </ion-label>\r\n      </ion-item>\r\n    </ng-container> -->\r\n    <!-- <ion-label class=\"other-bank\">{{\"PAYMENT_INFOR.modal_change_other\" | translate}}</ion-label> -->\r\n\r\n    <ion-card class=\"ion-no-padding modal-card-item\" *ngIf=\"paymentType == 'payment_transfer' && paymentCate?.transfer\">\r\n      <ion-item lines=\"none\" class=\"card-ion-item\">\r\n        <ion-icon [src]=\"'../assets/icon/payment/money2.svg'\" class=\"card-item-icon\" slot=\"start\"></ion-icon>\r\n        <ion-label class=\"card-item-title\">\r\n          {{\"PAYMENT_INFOR.modal_change_account_number\" | translate}}{{paymentCate?.transfer?.bankAccountNumber}}\r\n        </ion-label>\r\n        <ion-icon [src]=\"'../assets/icon/payment/copy.svg'\" class=\"card-icon-copy\" (click)=\"copyBankNumber()\"></ion-icon>\r\n      </ion-item>\r\n      <ion-text>\r\n        <p class=\"card-item-sub-title\">{{paymentCate?.transfer?.bankAccountHolder}} - {{paymentCate?.transfer?.bankName}}</p>\r\n      </ion-text>\r\n    </ion-card>\r\n    <ion-card class=\"ion-no-padding modal-card-item\" *ngIf=\"paymentType == 'payment_transfer' && paymentCate?.transfer1\">\r\n      <ion-item lines=\"none\" class=\"card-ion-item\">\r\n        <ion-icon [src]=\"'../assets/icon/payment/money2.svg'\" class=\"card-item-icon\" slot=\"start\"></ion-icon>\r\n        <ion-label class=\"card-item-title\">\r\n          {{\"PAYMENT_INFOR.modal_change_account_number\" | translate}}{{paymentCate?.transfer1?.bankAccountNumber}}\r\n        </ion-label>\r\n        <ion-icon [src]=\"'../assets/icon/payment/copy.svg'\" class=\"card-icon-copy\" (click)=\"copyBankNumber1()\"></ion-icon>\r\n      </ion-item>\r\n      <ion-text>\r\n        <p class=\"card-item-sub-title\">{{paymentCate?.transfer1?.bankAccountHolder}} - {{paymentCate?.transfer1?.bankName}}</p>\r\n      </ion-text>\r\n    </ion-card>\r\n    <ion-card class=\"ion-no-padding modal-card-item\" *ngIf=\"paymentType == 'payment_cash'\">\r\n      <ion-item lines=\"none\" class=\"card-ion-item\">\r\n        <ion-icon [src]=\"'../assets/icon/payment/money1.svg'\" class=\"card-item-icon\" slot=\"start\"></ion-icon>\r\n        <ion-label class=\"card-item-title\">{{\"PAYMENT_INFOR.modal_change_cash\" | translate}}</ion-label>\r\n      </ion-item>\r\n      <ion-text>\r\n        <p class=\"card-item-sub-title\">{{paymentCate?.cash?.description}}</p>\r\n      </ion-text>\r\n    </ion-card>\r\n  </div>\r\n</ion-content>"]}