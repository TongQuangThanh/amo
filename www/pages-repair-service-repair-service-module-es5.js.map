{"version":3,"sources":["webpack:///src/app/pages/repair-service/repair-service.module.ts","webpack:///src/app/pages/repair-service/repair-service.page.html","webpack:///src/app/pages/repair-service/repair-service.page.ts"],"names":["routes","path","component","RepairServicePageModule","forChild","imports","declarations","RepairServicePage","modalController","camera","actionSheetController","loading","navCtrl","apiService","route","data_shop_house","listDataMarket","listDataMarketSearch","category_id","snapshot","paramMap","get","category_name","isItemAvailable","search_value","currentPage","numberRecordOnPage","NUMBER_RECORD_ON_PAGE","getDataUserShopByCategory","page","limit","search","event","isRefresh","self","getShopProductSubscriber","unsubscribe","present","subscribe","result","data_shop_product","requestShopProducts","forEach","product","title","text_note","promotionKM","type_note","text_place","apartment","campaign","e","text_star_rate","stars","text_tag","promotion","object","_id","thumbnail","carServiceType","push","concat","eventSearchData","target","complete","dismiss","error","navigateForward","moveToBookingShopHouse","getShopProducts","length","number","localStorage","setItem","JSON","stringify","goToPageBookingShopHouse","create","cssClass","modal","objectShop","callBack","getDataServiceShopProduct","shopProducts","requestShopProduct","logo","attachments","url","time_open","timeOpen","promotionCodes","type","deadline_convert","endAt","today","Date","ageDate","Math","abs","getTime","deadline","ceil","money","price","discountProducts","startAt","discountValue","slider_value","numberOrder","promotion2","range_position_value","promotion1","discount","promotionPercent1","promotionPercent2","detail","actual_order","moc_1","moc_2","moc_3","background_image","convertFormatMoney","excerpt","group_1","index","getIndexCategoryInList","category","id_tab","data","image","note","group_2","index_value","value","toString","convert1","convert2","count1","i","count2","val","convertTextVietnames","trim","filter","item","toLowerCase","indexOf","str","replace","loadData","selector","templateUrl","styleUrls"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAUA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAkBaC,uB;;;;;cAAAA;;;;2BAAAA,uB;AAAuB,S;AAAA,kBAVzB,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mEAJO,EAKP,yEALO,EAMP,6DAAaC,QAAb,CAAsBJ,MAAtB,CANO,CAUyB;;;;4HAAvBG,uB,EAAuB;AAAA,yBAFnB,sEAEmB;AAFF,oBAP9B,4DAO8B,EAN9B,0DAM8B,EAL9B,0DAK8B,EAJ9B,mEAI8B,EAH9B,yEAG8B,EAHf,4DAGe;AAEE,S;AALjB,O;;;;;wEAKNA,uB,EAAuB;gBAXnC,sDAWmC;iBAX1B;AACRE,mBAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mEAJO,EAKP,yEALO,EAMP,6DAAaD,QAAb,CAAsBJ,MAAtB,CANO,CADD;AASRM,wBAAY,EAAE,CAAC,sEAAD;AATN,W;AAW0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACF9B;;AACE;;AAA0B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACxB;;AAAmB;;AAA4D;;AAC/E;;AAAiC;;AAA+B;;AAAgB;;AAAY;;AAC9F;;AACF;;;;;;AAHuD;;AAAA;;AACa;;AAAA;;;;UCb7DC,iB;AAYX,mCACSC,eADT,EAEUC,MAFV,EAGSC,qBAHT,EAKUC,OALV,EAMUC,OANV,EAOUC,UAPV,EAQUC,KARV,EAQ+B;AAAA;;AAPtB,eAAAN,eAAA,GAAAA,eAAA;AACC,eAAAC,MAAA,GAAAA,MAAA;AACD,eAAAC,qBAAA,GAAAA,qBAAA;AAEC,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,UAAA,GAAAA,UAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACL;;;;qCAEM;AACT,iBAAKC,eAAL,GAAuB,EAAvB;AACA,iBAAKC,cAAL,GAAsB,EAAtB;AACA,iBAAKC,oBAAL,GAA4B,EAA5B;AACA,gBAAMC,WAAW,GAAG,KAAKJ,KAAL,CAAWK,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,UAAjC,CAApB;AACA,gBAAMC,aAAa,GAAG,KAAKR,KAAL,CAAWK,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,eAAjC,CAAtB;AACA,iBAAKH,WAAL,GAAmBA,WAAnB;AACA,iBAAKI,aAAL,GAAqBA,aAArB;AACA,iBAAKC,eAAL,GAAuB,KAAvB;AACA,iBAAKC,YAAL,GAAoB,EAApB;AACA,iBAAKC,WAAL,GAAmB,CAAnB;AACA,iBAAKC,kBAAL,GAA0B,kEAAaC,qBAAvC;AACA,iBAAKC,yBAAL,CAA+B,KAAKH,WAApC,EAAiD,KAAKC,kBAAtD,EAA0E,EAA1E,EAA8E,IAA9E,EAAoF,IAApF;AACD;;;6CACe,CAAI;;;oDACMG,I,EAAcC,K,EAAeC,M,EAAgBC,K,EAAYC,S,EAAoB;AACrG,gBAAMC,IAAI,GAAG,IAAb;;AACA,gBAAID,SAAJ,EAAe;AACb,mBAAKjB,cAAL,GAAsB,EAAtB;AACA,mBAAKC,oBAAL,GAA4B,EAA5B;AACD;;AACD,gBAAI,KAAKkB,wBAAT,EAAmC;AACjC,mBAAKA,wBAAL,CAA8BC,WAA9B;AACD;;AACD,iBAAKzB,OAAL,CAAa0B,OAAb;AACA,iBAAKF,wBAAL,GAAgC,KAAKtB,UAAL,CAAgBe,yBAAhB,CAA0CC,IAA1C,EAAgD,IAAhD,EAAsD,KAAKX,WAA3D,EAC7BoB,SAD6B,CACnB,UAAAC,MAAM,EAAI;AACnB,kBAAIC,iBAAiB,GAAGD,MAAM,CAACE,mBAA/B;AACAD,+BAAiB,CAACE,OAAlB,CAA0B,UAAAC,OAAO,EAAI;AACnC,oBAAIC,KAAK,GAAGD,OAAO,CAACC,KAApB;AACA,oBAAIC,SAAS,GAAGF,OAAO,CAACG,WAAR,GAAsBH,OAAO,CAACG,WAA9B,GAA4C,EAA5D;;AACA,oBAAID,SAAS,IAAI,IAAb,IAAqBA,SAAS,IAAI,EAAtC,EAA0C;AACxCA,2BAAS,GAAG,MAAIA,SAAhB;AACD;;AACD,oBAAIE,SAAS,GAAGJ,OAAO,CAACG,WAAR,IAAuB,IAAvB,GAA8B,CAA9B,GAAkC,CAAlD;AACA,oBAAIE,UAAU,GAAG,KAAjB;;AACA,oBAAGL,OAAO,CAACM,SAAX,EAAqB;AACnB,sBAAI;AACFD,8BAAU,GAAGL,OAAO,CAACM,SAAR,CAAkBL,KAAlB,GAA0B,KAA1B,GAAkCD,OAAO,CAACM,SAAR,CAAkBC,QAAlB,CAA2BN,KAA1E;AACD,mBAFD,CAEE,OAAOO,CAAP,EAAU,CAAE;AACf;;AACD,oBAAIC,cAAc,GAAGT,OAAO,CAACU,KAA7B;AACA,oBAAIC,QAAQ,GAAGX,OAAO,CAACY,SAAR,GAAoBZ,OAAO,CAACY,SAA5B,GAAwC,EAAvD;AACA,oBAAIC,MAAM,GAAG;AACX,yBAAQb,OAAO,CAACc,GADL;AAEX,+BAAad,OAAO,CAACe,SAAR,GAAoBf,OAAO,CAACe,SAA5B,GAAwC,mCAF1C;AAGX,2BAASd,KAHE;AAIX,+BAAaC,SAJF;AAKX,+BAAaE,SALF;AAMX,gCAAcC,UANH;AAOX,oCAAkBI,cAPP;AAQX,8BAAYE,QARD;AASX,oCAAkBX,OAAO,CAACgB;AATf,iBAAb;AAWAzB,oBAAI,CAACjB,oBAAL,CAA0B2C,IAA1B,CAA+BJ,MAA/B;AACAtB,oBAAI,CAAClB,cAAL,GAAsB,GAAG6C,MAAH,CAAU3B,IAAI,CAACjB,oBAAf,CAAtB;;AACA,oBAAIiB,IAAI,CAACX,eAAT,EAA0B;AACxBW,sBAAI,CAAC4B,eAAL;AACD;AACF,eA/BD;;AAgCA,kBAAI9B,KAAJ,EAAW;AACTA,qBAAK,CAAC+B,MAAN,CAAaC,QAAb;AACD;;AACD9B,kBAAI,CAACvB,OAAL,CAAasD,OAAb;AACH,aAvC+B,EAwChC,UAAAC,KAAK,EAAI;AACPhC,kBAAI,CAACvB,OAAL,CAAasD,OAAb;AACD,aA1C+B,CAAhC;AA4CD;;;mCACQjC,K,EAAO;AACd,iBAAKP,WAAL;AACA,iBAAKG,yBAAL,CAA+B,KAAKH,WAApC,EAAiD,KAAKC,kBAAtD,EAA0E,EAA1E,EAA8EM,KAA9E,EAAqF,KAArF;AACD;;;4CACiBwB,M,EAAQ;AACxB,gBAAIA,MAAM,CAACG,cAAP,IAAyB,eAA7B,EAA8C;AAC5C,mBAAK/C,OAAL,CAAauD,eAAb,CAA6B,0BAA0BX,MAAM,CAACC,GAA9D;AACD,aAFD,MAEO,IAAID,MAAM,CAACG,cAAP,IAAyB,SAA7B,EAAwC;AAC7C,mBAAKS,sBAAL,CAA4BZ,MAA5B;AACD,aAFM,MAEA;AACL,mBAAK5C,OAAL,CAAauD,eAAb,CAA6B,iBAAiBX,MAAM,CAACC,GAArD;AACD;AACF;;;iDACsBD,M,EAAQ;AAC7B,gBAAItB,IAAI,GAAG,IAAX;AACA,iBAAKmC,eAAL,CAAqBb,MAArB,EAA6B;AAC3B,kBAAItB,IAAI,CAACnB,eAAL,CAAqB,SAArB,EAAgCuD,MAAhC,GAAyC,CAA7C,EAAgD;AAC9CpC,oBAAI,CAACnB,eAAL,CAAqB,SAArB,EAAgC,CAAhC,EAAmC,MAAnC,EAA2C,CAA3C,EAA8CwD,MAA9C,GAAuD,CAAvD;AACAC,4BAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAezC,IAAI,CAACnB,eAApB,CAAxC;AACA,qBAAK6D,wBAAL;AACD;AACF,aAND;AAOD;;;qDACgC;;;;;;;;AACjB,6BAAM,KAAKpE,eAAL,CAAqBqE,MAArB,CAA4B;AAC9C3E,iCAAS,EAAE,gGADmC;AAE9C4E,gCAAQ,EAAE;AAFoC,uBAA5B,CAAN;;;AAARC,2B;;AAIC,6BAAMA,KAAK,CAAC1C,OAAN,EAAN;;;;;;;;;;;;AACR;;;0CAEe2C,U,EAAYC,Q,EAAU;AACpC,gBAAM/C,IAAI,GAAG,IAAb;AACA,iBAAKnB,eAAL,GAAuB,EAAvB;AACA,iBAAKA,eAAL,CAAqB,gBAArB,IAAyCiE,UAAU,CAACrB,cAApD;AACA,iBAAK5C,eAAL,CAAqB,SAArB,IAAkC,EAAlC;AACA,iBAAKA,eAAL,CAAqB,SAArB,IAAkC,EAAlC;AACA,iBAAKJ,OAAL,CAAa0B,OAAb;AACA,iBAAKxB,UAAL,CAAgBqE,yBAAhB,CAA0CF,UAAU,CAACvB,GAArD,EACGnB,SADH,CACa,UAAAC,MAAM,EAAI;AACnB,kBAAIC,iBAAiB,GAAGD,MAAM,CAAC4C,YAA/B;AACA3C,+BAAiB,CAACE,OAAlB,CAA0B,UAAAC,OAAO,EAAI;AACnC,oBAAIA,OAAO,CAACyC,kBAAZ,EAAgC;AAC9BlD,sBAAI,CAACnB,eAAL,CAAqB,KAArB,IAA8B4B,OAAO,CAACyC,kBAAR,CAA2B3B,GAAzD;AACAvB,sBAAI,CAACnB,eAAL,CAAqB,YAArB,IAAqC4B,OAAO,CAACyC,kBAAR,CAA2BxC,KAAhE;;AACA,sBAAGD,OAAO,CAACyC,kBAAR,CAA2BnC,SAA9B,EAAwC;AACtCf,wBAAI,CAACnB,eAAL,CAAqB,YAArB,IAAqC4B,OAAO,CAACyC,kBAAR,CAA2BnC,SAA3B,CAAqCL,KAArC,GAA6C,KAA7C,GAAqDD,OAAO,CAACyC,kBAAR,CAA2BnC,SAA3B,CAAqCC,QAArC,CAA8CN,KAAxI;AACD,mBAFD,MAEO;AACLV,wBAAI,CAACnB,eAAL,CAAqB,YAArB,IAAqC,KAArC;AACD;;AACDmB,sBAAI,CAACnB,eAAL,CAAqB,gBAArB,IAAyC4B,OAAO,CAACyC,kBAAR,CAA2B/B,KAApE;AACA,sBAAIK,SAAS,GAAGf,OAAO,CAACyC,kBAAR,CAA2B1B,SAA3C;AACA,sBAAI2B,IAAI,GAAG1C,OAAO,CAACyC,kBAAR,CAA2B1B,SAAtC;;AACA,sBAAIf,OAAO,CAACyC,kBAAR,CAA2BE,WAA3B,IAA0C3C,OAAO,CAACyC,kBAAR,CAA2BE,WAA3B,CAAuChB,MAAvC,GAAgD,CAA9F,EAAiG;AAC/Fe,wBAAI,GAAG1C,OAAO,CAACyC,kBAAR,CAA2BE,WAA3B,CAAuC,CAAvC,EAA0CC,GAAjD;AACA7B,6BAAS,GAAGf,OAAO,CAACyC,kBAAR,CAA2BE,WAA3B,CAAuC,CAAvC,EAA0CC,GAAtD;AACD;;AACDrD,sBAAI,CAACnB,eAAL,CAAqB,WAArB,IAAoC2C,SAApC;AACAxB,sBAAI,CAACnB,eAAL,CAAqB,MAArB,IAA+BsE,IAA/B;AACA,sBAAIG,SAAS,GAAG,aAAhB;;AACA,sBAAI7C,OAAO,CAACyC,kBAAR,CAA2BK,QAA/B,EAAyC;AACvCD,6BAAS,GAAG7C,OAAO,CAACyC,kBAAR,CAA2BK,QAAvC;AACD;;AACDvD,sBAAI,CAACnB,eAAL,CAAqB,WAArB,IAAoCyE,SAApC;;AACA,sBAAI7C,OAAO,CAAC+C,cAAR,IAA0B/C,OAAO,CAAC+C,cAAR,CAAuBpB,MAAvB,GAAgC,CAA1D,IAA+D3B,OAAO,CAAC+C,cAAR,CAAuB,CAAvB,EAA0BC,IAA1B,IAAkC,SAArG,EAAgH;AAC9G,wBAAID,cAAc,GAAG/C,OAAO,CAAC+C,cAAR,CAAuB,CAAvB,CAArB;AACA,wBAAIE,gBAAgB,GAAG,EAAvB;;AACA,wBAAIF,cAAc,CAACG,KAAnB,EAA0B;AACxB,0BAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACA,0BAAIF,KAAK,GAAG,IAAIE,IAAJ,CAASL,cAAc,CAACG,KAAxB,CAAZ;AACA,0BAAIG,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASL,KAAK,CAACM,OAAN,KAAkBL,KAAK,CAACK,OAAN,EAA3B,CAAd;AACA,0BAAIC,QAAQ,GAAGH,IAAI,CAACI,IAAL,CAAUL,OAAO,IAAI,OAAO,IAAP,GAAc,EAAlB,CAAjB,CAAf;AACAI,8BAAQ,GAAGA,QAAQ,GAAGA,QAAH,GAAc,CAAjC;AACAR,sCAAgB,GAAGQ,QAAQ,IAAI,CAAZ,GAAgB,YAAhB,GAA+B,SAASA,QAAT,GAAoB,SAAtE;AACD;;AAED,wBAAIxD,KAAK,GAAGD,OAAO,CAACC,KAApB;AACA,wBAAI0D,KAAK,GAAG3D,OAAO,CAAC4D,KAApB;;AACA,wBAAI5D,OAAO,CAAC6D,gBAAR,IAA4B7D,OAAO,CAAC6D,gBAAR,CAAyBlC,MAAzB,GAAkC,CAAlE,EAAqE;AACnE,0BAAIwB,MAAK,GAAG,IAAIC,IAAJ,EAAZ;;AACA,0BAAIU,OAAO,GAAG,IAAIV,IAAJ,CAASpD,OAAO,CAAC6D,gBAAR,CAAyB,CAAzB,EAA4BC,OAArC,CAAd;;AACA,0BAAIZ,MAAK,GAAG,IAAIE,IAAJ,CAASpD,OAAO,CAAC6D,gBAAR,CAAyB,CAAzB,EAA4BX,KAArC,CAAZ;;AACA,0BAAIY,OAAO,IAAIX,MAAX,IAAoBA,MAAK,IAAID,MAAjC,EAAwC;AACtCS,6BAAK,GAAG3D,OAAO,CAAC6D,gBAAR,CAAyB,CAAzB,EAA4BE,aAApC;AACD;AACF;;AAED,wBAAIC,YAAY,GAAIjB,cAAc,CAACkB,WAAf,GAA6B,GAA9B,GAAqClB,cAAc,CAACmB,UAAvE;AACA,wBAAIC,oBAAoB,GAAGpB,cAAc,CAACqB,UAAf,GAA0B,GAA1B,GAA8BrB,cAAc,CAACmB,UAAxE;AACA,wBAAIG,QAAQ,GAAG,CAAf;;AACA,wBAAItB,cAAc,CAACkB,WAAf,IAA8BlB,cAAc,CAACqB,UAA7C,IAA2DrB,cAAc,CAACkB,WAAf,GAA6BlB,cAAc,CAACmB,UAA3G,EAAuH;AACrHG,8BAAQ,GAAGtB,cAAc,CAACuB,iBAAf,GAAmC,GAA9C;AACD,qBAFD,MAEO,IAAIvB,cAAc,CAACkB,WAAf,IAA8BlB,cAAc,CAACmB,UAAjD,EAA6D;AAClEG,8BAAQ,GAAGtB,cAAc,CAACwB,iBAAf,GAAmC,GAA9C;AACD;;AACDZ,yBAAK,GAAGA,KAAK,GAAGA,KAAK,GAAGU,QAAxB;AACA,wBAAIG,MAAM,GAAGzB,cAAc,CAAC9C,KAA5B;AACA,wBAAIwE,YAAY,GAAG1B,cAAc,CAACkB,WAAf,GAA6B,GAA7B,GAAmClB,cAAc,CAACmB,UAArE;AAEA,wBAAIQ,KAAK,GAAG,KAAZ;AACA,wBAAIC,KAAK,GAAG,MAAM5B,cAAc,CAACuB,iBAArB,GAAyC,GAArD;AACA,wBAAIM,KAAK,GAAG,MAAM7B,cAAc,CAACwB,iBAArB,GAAyC,GAArD;AACA,wBAAIM,gBAAgB,GAAG,EAAvB;AACA,wBAAIhE,MAAM,GAAG;AACX,6BAAQb,OAAO,CAACc,GADL;AAEX,gDAA2Bd,OAAO,CAACyC,kBAAR,CAA2B3B,GAF3C;AAGX,mCAAad,OAAO,CAACe,SAHV;AAIX,gCAAU,iCAJC;AAKX,kCAAakC,gBALF;AAMX,+BAAUhD,KANC;AAOX,+BAAUV,IAAI,CAACuF,kBAAL,CAAwBnB,KAAxB,CAPC;AAQX,gCAAWa,MARA;AASX,iCAAYxE,OAAO,CAAC+E,OATT;AAUX,sCAAiBN,YAVN;AAWX,sCAAiBT,YAXN;AAYX,8CAAyBG,oBAZd;AAaX,+BAAUO,KAbC;AAcX,+BAAUC,KAdC;AAeX,+BAAUC,KAfC;AAgBX,gCAAU,CAhBC;AAiBX,0CAAqBC;AAjBV,qBAAb;AAmBAtF,wBAAI,CAACnB,eAAL,CAAqB4G,OAArB,CAA6B/D,IAA7B,CAAkCJ,MAAlC;AACD,mBA3DD,MA2DO;AACL,wBAAIoE,KAAK,GAAG1F,IAAI,CAAC2F,sBAAL,CAA4BlF,OAAO,CAACmF,QAAR,CAAiBrE,GAA7C,CAAZ;;AACA,wBAAImE,KAAK,GAAG,CAAZ,EAAe;AACb1F,0BAAI,CAACnB,eAAL,CAAqB,SAArB,EAAgC6C,IAAhC,CAAqC;AACnCmE,8BAAM,EAAEpF,OAAO,CAACmF,QAAR,CAAiBrE,GADU;AAEnCb,6BAAK,EAAED,OAAO,CAACmF,QAAR,CAAiBlF,KAFW;AAGnCoF,4BAAI,EAAE;AAH6B,uBAArC;AAKAJ,2BAAK,GAAG1F,IAAI,CAACnB,eAAL,CAAqB,SAArB,EAAgCuD,MAAhC,GAAyC,CAAjD;AACD;;AACD,wBAAI1B,MAAK,GAAGD,OAAO,CAACC,KAApB;AACA,wBAAI0D,MAAK,GAAG3D,OAAO,CAAC4D,KAApB;;AACA,wBAAI5D,OAAO,CAAC6D,gBAAR,IAA4B7D,OAAO,CAAC6D,gBAAR,CAAyBlC,MAAzB,GAAkC,CAAlE,EAAqE;AACnE,0BAAIwB,OAAK,GAAG,IAAIC,IAAJ,EAAZ;;AACA,0BAAIU,QAAO,GAAG,IAAIV,IAAJ,CAASpD,OAAO,CAAC6D,gBAAR,CAAyB,CAAzB,EAA4BC,OAArC,CAAd;;AACA,0BAAIZ,OAAK,GAAG,IAAIE,IAAJ,CAASpD,OAAO,CAAC6D,gBAAR,CAAyB,CAAzB,EAA4BX,KAArC,CAAZ;;AACA,0BAAIY,QAAO,IAAIX,OAAX,IAAoBA,OAAK,IAAID,OAAjC,EAAwC;AACtCS,8BAAK,GAAG3D,OAAO,CAAC6D,gBAAR,CAAyB,CAAzB,EAA4BE,aAApC;AACD;AACF;;AACD,wBAAIlD,OAAM,GAAG;AACXC,yBAAG,EAAEd,OAAO,CAACc,GADF;AAEXwE,2BAAK,EAAEtF,OAAO,CAACe,SAFJ;AAGXd,2BAAK,EAAEA,MAHI;AAIX0D,2BAAK,EAAEpE,IAAI,CAACuF,kBAAL,CAAwBnB,MAAxB,CAJI;AAKX4B,0BAAI,EAAEvF,OAAO,CAAC+E,OALH;AAMXnD,4BAAM,EAAE;AANG,qBAAb;AAQArC,wBAAI,CAACnB,eAAL,CAAqBoH,OAArB,CAA6BP,KAA7B,EAAoCI,IAApC,CAAyCpE,IAAzC,CAA8CJ,OAA9C;AACD;AACF;AACF,eAjHD;AAkHAtB,kBAAI,CAACvB,OAAL,CAAasD,OAAb;AACAgB,sBAAQ;AACX,aAvHD,EAwHA,UAAAf,KAAK,EAAI;AACPhC,kBAAI,CAACvB,OAAL,CAAasD,OAAb;AACAgB,sBAAQ;AACT,aA3HD;AA4HD;;;iDACsB8C,M,EAAQ;AAC7B,gBAAI7F,IAAI,GAAG,IAAX;AACA,gBAAI0F,KAAK,GAAG,CAAC,CAAb;AACA,gBAAIQ,WAAW,GAAG,CAAC,CAAnB;AACAlG,gBAAI,CAACnB,eAAL,CAAqBoH,OAArB,CAA6BzF,OAA7B,CAAqC,UAAAc,MAAM,EAAI;AAC7CoE,mBAAK;;AACL,kBAAIpE,MAAM,CAACuE,MAAP,IAAiBA,MAArB,EAA6B;AAC3BK,2BAAW,GAAGR,KAAd;AACD;AACF,aALD;AAMA,mBAAOQ,WAAP;AACD;;;6CACkBC,K,EAAO;AACxBA,iBAAK,GAAGA,KAAK,CAACC,QAAN,EAAR;AACA,gBAAIC,QAAQ,GAAG,EAAf;AACA,gBAAIC,QAAQ,GAAG,EAAf;AACA,gBAAIC,MAAM,GAAGJ,KAAK,CAAC/D,MAAnB;;AACA,iBAAI,IAAIoE,CAAC,GAAG,CAAZ,EAAeA,CAAC,IAAID,MAApB,EAA4BC,CAAC,EAA7B,EAAiC;AAC/B,kBAAIA,CAAC,GAAG,CAAJ,IAAS,CAAT,IAAcA,CAAC,IAAID,MAAvB,EAA+B;AAC7BF,wBAAQ,GAAGA,QAAQ,GAAGF,KAAK,CAACI,MAAM,GAAGC,CAAV,CAAhB,GAA+B,GAA1C;AACD,eAFD,MAEO;AACLH,wBAAQ,GAAGA,QAAQ,GAAGF,KAAK,CAACI,MAAM,GAAGC,CAAV,CAA3B;AACD;AACF;;AACD,gBAAIC,MAAM,GAAGJ,QAAQ,CAACjE,MAAtB;;AACA,iBAAI,IAAIoE,EAAC,GAAG,CAAZ,EAAeA,EAAC,IAAIC,MAApB,EAA4BD,EAAC,EAA7B,EAAiC;AAC/BF,sBAAQ,GAAGA,QAAQ,GAAGD,QAAQ,CAACI,MAAM,GAAGD,EAAV,CAA9B;AACD;;AACD,mBAAOF,QAAP;AACD;;;4CACiB;AAChB,gBAAItG,IAAI,GAAG,IAAX,CADgB,CAEhB;;AACA,iBAAKlB,cAAL,GAAsB,GAAG6C,MAAH,CAAU,KAAK5C,oBAAf,CAAtB,CAHgB,CAIhB;;AACA,gBAAM2H,GAAG,GAAG,KAAKC,oBAAL,CAA0B,KAAKrH,YAA/B,CAAZ,CALgB,CAMhB;;AACA,gBAAIoH,GAAG,IAAIA,GAAG,CAACE,IAAJ,OAAe,EAA1B,EAA8B;AAC1B,mBAAKvH,eAAL,GAAuB,IAAvB;AACA,mBAAKP,cAAL,GAAsB,KAAKA,cAAL,CAAoB+H,MAApB,CAA2B,UAACC,IAAD,EAAU;AACzD,oBAAIhB,IAAI,GAAG9F,IAAI,CAAC2G,oBAAL,CAA0BG,IAAI,CAAC,OAAD,CAA9B,CAAX;AACE,uBAAQhB,IAAI,CAACiB,WAAL,GAAmBC,OAAnB,CAA2BN,GAAG,CAACK,WAAJ,EAA3B,IAAgD,CAAC,CAAzD;AACH,eAHqB,CAAtB;AAIH,aAND,MAMO;AACH,mBAAK1H,eAAL,GAAuB,KAAvB;AACH;AACF;;;+CACoB4H,G,EAAK;AACxBA,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,oCAAZ,EAAkD,GAAlD,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,wBAAZ,EAAsC,GAAtC,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,GAA1B,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,oCAAZ,EAAkD,GAAlD,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,wBAAZ,EAAsC,GAAtC,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,GAA1B,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,IAAZ,EAAkB,GAAlB,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,oCAAZ,EAAkD,GAAlD,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,wBAAZ,EAAsC,GAAtC,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,GAA1B,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,oCAAZ,EAAkD,GAAlD,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,wBAAZ,EAAsC,GAAtC,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,GAA1B,CAAN;AACAD,eAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,IAAZ,EAAkB,GAAlB,CAAN;AACA,mBAAOD,GAAP;AACD;;;;;;;yBA/TU5I,iB,EAAiB,+H,EAAA,gI,EAAA,qI,EAAA,iJ,EAAA,6H,EAAA,qI,EAAA,+H;AAAA,O;;;cAAjBA,iB;AAAiB,2C;AAAA,iB;AAAA,gB;AAAA,0pB;AAAA;AAAA;ADP9B;;AACE;;AACE;;AACF;;AACA;;AAAwC;;;;AAAmC;;AAC3E;;AAA4C;;;;AAAwC;;AACtF;;AAEA;;AACE;;AACA;;AAEE;AAAA,qBAAa,IAAAuD,eAAA,EAAb;AAA8B,aAA9B,EAA+B,eAA/B,EAA+B;AAAA;AAAA,aAA/B;;;;AAED;;AACD;;AACE;;AACE;;AAsDF;;AACF;;AACA;;AAAsC;AAAA,qBAAe,IAAAuF,QAAA,QAAf;AAA+B,aAA/B;;AACpC;;AACF;;AACF;;AACA;;;;AAzE0C;;AAAA;;AACI;;AAAA;;AAK7B;;AAAA;;AAGb;;AAI0C;;AAAA;;;;;;;;;;wECVjC9I,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACT+I,oBAAQ,EAAE,oBADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKmB,U","file":"pages-repair-service-repair-service-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RepairServicePage } from './repair-service.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RepairServicePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    SuperTabsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RepairServicePage]\r\n})\r\nexport class RepairServicePageModule {}\r\n","<!-- <ion-header class=\"ion-no-border\">\r\n  <ion-toolbar>\r\n    <ion-title>{{ 'SEVICE_33.title' | translate }}</ion-title>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button text=\"\"></ion-back-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header> -->\r\n\r\n<ion-header class=\"ion-no-border\">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"service-header-title\">{{ 'SEVICE_33.title' | translate }}</ion-label>\r\n  <ion-label class=\"service-header-sub-title\">{{ 'SEVICE_NEW.sub_title' | translate }}</ion-label>\r\n</ion-header>\r\n\r\n<ion-content class=\"screen-content\">\r\n  <div class=\"list-view-custom\">\r\n  <ion-searchbar placeholder=\"{{ 'SEVICE_33.placeholder_textbox_1' | translate }}\" \r\n    debounce=\"500\" \r\n    (ionChange)=\"eventSearchData()\"\r\n    [(ngModel)]=\"search_value\"\r\n  ></ion-searchbar>\r\n  <ion-grid class=\"ion-grid-class\">\r\n    <ion-row class=\"margin-top-5\">\r\n      <ion-col class=\"ion-col-class\" size=\"6\" *ngFor=\"let object of listDataMarket\">\r\n        <div class=\"div-button-1\" (click)=\"moveShopHousePage(object)\">\r\n          <div class=\"div-1\"><img class=\"class-image-button\" src=\"{{object.thumbnail}}\"/></div>\r\n          <div class=\"div-2 margin-top-20\"><ion-label class=\"text-button\">{{object.title}}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <!-- <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n            <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-2.svg\"/></div>\r\n            <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_2' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n            <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-3.svg\"/></div>\r\n            <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_3' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n          <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-4.svg\"/></div>\r\n          <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_4' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n          <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-5.svg\"/></div>\r\n          <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_5' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n          <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-6.svg\"/></div>\r\n          <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_6' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n            <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-7.svg\"/></div>\r\n            <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_7' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n            <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-8.svg\"/></div>\r\n            <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_8' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col class=\"ion-col-class\" size=\"4\">\r\n        <div class=\"div-button-1\" (click)=\"moveRepairServiceDetailPage()\">\r\n            <div class=\"div-1\"><img class=\"class-image-button\" src=\"../assets/icon/svg/repair-service-9.svg\"/></div>\r\n            <div class=\"div-2\"><ion-label class=\"text-button\">{{ 'SEVICE_33.button_9' | translate }}</ion-label></div>\r\n        </div>\r\n      </ion-col> -->\r\n    </ion-row>\r\n  </ion-grid>\r\n  <ion-infinite-scroll threshold=\"50px\" (ionInfinite)=\"loadData($event)\">\r\n    <ion-infinite-scroll-content loadingSpinner=\"\" loadingText=\"\"></ion-infinite-scroll-content>\r\n  </ion-infinite-scroll>\r\n</div>\r\n</ion-content>\r\n\r\n  ","import { Component, OnInit, ViewChild  } from '@angular/core';\r\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/Camera/ngx';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ActionSheetController, NavController, IonContent  } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ConstService } from '../../utils/const.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { BookingShopHousePage } from '../booking-shop-house/booking-shop-house.page';\r\n\r\n@Component({\r\n  selector: 'app-repair-service',\r\n  templateUrl: './repair-service.page.html',\r\n  styleUrls: ['./repair-service.page.scss'],\r\n})\r\nexport class RepairServicePage implements OnInit {\r\n  data_shop_house: any;\r\n  getShopProductSubscriber: Subscription;\r\n  numberRecordOnPage: number;\r\n  category_id: any;\r\n  category_name: any;\r\n  currentPage: number;\r\n  listDataMarket: any;\r\n  listDataMarketSearch: any;\r\n  isItemAvailable: boolean;\r\n  search_value: string;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private camera: Camera,\r\n    public actionSheetController: ActionSheetController,\r\n    \r\n    private loading: LoadingService,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n    private route: ActivatedRoute,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.data_shop_house = {};\r\n    this.listDataMarket = [];\r\n    this.listDataMarketSearch = [];\r\n    const category_id = this.route.snapshot.paramMap.get('category');\r\n    const category_name = this.route.snapshot.paramMap.get('category_name');\r\n    this.category_id = category_id;\r\n    this.category_name = category_name;\r\n    this.isItemAvailable = false;\r\n    this.search_value = \"\";\r\n    this.currentPage = 1;\r\n    this.numberRecordOnPage = ConstService.NUMBER_RECORD_ON_PAGE;\r\n    this.getDataUserShopByCategory(this.currentPage, this.numberRecordOnPage, '', null, true);\r\n  }\r\n  ionViewWillEnter(){}\r\n  getDataUserShopByCategory(page: number, limit: number, search: string, event: any, isRefresh: boolean) {\r\n    const self = this;\r\n    if (isRefresh) {\r\n      this.listDataMarket = [];\r\n      this.listDataMarketSearch = [];\r\n    }\r\n    if (this.getShopProductSubscriber) {\r\n      this.getShopProductSubscriber.unsubscribe();\r\n    }\r\n    this.loading.present(); \r\n    this.getShopProductSubscriber = this.apiService.getDataUserShopByCategory(page, 1000, this.category_id)\r\n      .subscribe(result => {\r\n        let data_shop_product = result.requestShopProducts;\r\n        data_shop_product.forEach(product => {\r\n          let title = product.title;\r\n          let text_note = product.promotionKM ? product.promotionKM : \"\";\r\n          if (text_note != 'KM' && text_note != '') {\r\n            text_note = '-'+text_note;\r\n          }\r\n          let type_note = product.promotionKM == \"KM\" ? 2 : 1;\r\n          let text_place = 'AMO';\r\n          if(product.apartment){\r\n            try {\r\n              text_place = product.apartment.title + ' - ' + product.apartment.campaign.title;\r\n            } catch (e) {}\r\n          }\r\n          let text_star_rate = product.stars;\r\n          let text_tag = product.promotion ? product.promotion : \"\";\r\n          let object = {\r\n            '_id' : product._id,\r\n            'thumbnail': product.thumbnail ? product.thumbnail : '../../../assets/icon/reparing.svg',\r\n            'title': title,\r\n            'text_note': text_note,\r\n            'type_note': type_note,\r\n            'text_place': text_place,\r\n            'text_star_rate': text_star_rate,\r\n            'text_tag': text_tag,\r\n            'carServiceType': product.carServiceType\r\n          }\r\n          self.listDataMarketSearch.push(object);\r\n          self.listDataMarket = [].concat(self.listDataMarketSearch);\r\n          if (self.isItemAvailable) {\r\n            self.eventSearchData();\r\n          }\r\n        });\r\n        if (event) {\r\n          event.target.complete();\r\n        }\r\n        self.loading.dismiss();\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n    \r\n  }\r\n  loadData(event) {\r\n    this.currentPage++;\r\n    this.getDataUserShopByCategory(this.currentPage, this.numberRecordOnPage, '', event, false);\r\n  }\r\n  moveShopHousePage(object) {\r\n    if (object.carServiceType == \"technologyCar\") {\r\n      this.navCtrl.navigateForward('/call-the-car-detail/' + object._id);\r\n    } else if (object.carServiceType == \"oneTurn\") {\r\n      this.moveToBookingShopHouse(object);\r\n    } else {\r\n      this.navCtrl.navigateForward('/shop-house/' + object._id);\r\n    }\r\n  }\r\n  moveToBookingShopHouse(object) {\r\n    var self = this;\r\n    this.getShopProducts(object, function() {\r\n      if (self.data_shop_house['group_2'].length > 0) {\r\n        self.data_shop_house['group_2'][0]['data'][0].number = 1;\r\n        localStorage.setItem('data-shop-house', JSON.stringify(self.data_shop_house));\r\n        this.goToPageBookingShopHouse();\r\n      }\r\n    });\r\n  }\r\n  async goToPageBookingShopHouse() {\r\n    const modal = await this.modalController.create({\r\n      component: BookingShopHousePage,\r\n      cssClass: 'booking-shop-house-modal-css'\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  getShopProducts(objectShop, callBack) {\r\n    const self = this;\r\n    this.data_shop_house = {};\r\n    this.data_shop_house['carServiceType'] = objectShop.carServiceType;\r\n    this.data_shop_house['group_1'] = [];\r\n    this.data_shop_house['group_2'] = [];\r\n    this.loading.present();\r\n    this.apiService.getDataServiceShopProduct(objectShop._id)\r\n      .subscribe(result => {\r\n        let data_shop_product = result.shopProducts;\r\n        data_shop_product.forEach(product => {\r\n          if (product.requestShopProduct) {\r\n            self.data_shop_house['_id'] = product.requestShopProduct._id;\r\n            self.data_shop_house['text_title'] = product.requestShopProduct.title;\r\n            if(product.requestShopProduct.apartment){\r\n              self.data_shop_house['text_place'] = product.requestShopProduct.apartment.title + ' - ' + product.requestShopProduct.apartment.campaign.title;\r\n            } else {\r\n              self.data_shop_house['text_place'] = \"AMO\";\r\n            }\r\n            self.data_shop_house['text_star_rate'] = product.requestShopProduct.stars;\r\n            let thumbnail = product.requestShopProduct.thumbnail;\r\n            let logo = product.requestShopProduct.thumbnail;\r\n            if (product.requestShopProduct.attachments && product.requestShopProduct.attachments.length > 1) {\r\n              logo = product.requestShopProduct.attachments[0].url;\r\n              thumbnail = product.requestShopProduct.attachments[1].url;\r\n            }\r\n            self.data_shop_house['thumbnail'] = thumbnail;\r\n            self.data_shop_house['logo'] = logo;\r\n            let time_open = \"Luôn mở cửa\";\r\n            if (product.requestShopProduct.timeOpen) {\r\n              time_open = product.requestShopProduct.timeOpen;\r\n            }\r\n            self.data_shop_house['time_open'] = time_open;\r\n            if (product.promotionCodes && product.promotionCodes.length > 0 && product.promotionCodes[0].type == \"groupon\") {\r\n              let promotionCodes = product.promotionCodes[0];\r\n              let deadline_convert = '';\r\n              if (promotionCodes.endAt) {\r\n                let today = new Date();\r\n                let endAt = new Date(promotionCodes.endAt);\r\n                var ageDate = Math.abs(endAt.getTime() - today.getTime());\r\n                let deadline = Math.ceil(ageDate / (1000 * 3600 * 24));\r\n                deadline = deadline ? deadline : 0;\r\n                deadline_convert = deadline == 0 ? \"Khuyến mại\" : \"Còn \" + deadline + \"   ngày\";\r\n              }\r\n              \r\n              let title = product.title;\r\n              let money = product.price;\r\n              if (product.discountProducts && product.discountProducts.length > 0) {\r\n                let today = new Date();\r\n                let startAt = new Date(product.discountProducts[0].startAt);\r\n                let endAt = new Date(product.discountProducts[0].endAt);\r\n                if (startAt <= today && today <= endAt) {\r\n                  money = product.discountProducts[0].discountValue;\r\n                }\r\n              }\r\n              \r\n              let slider_value = (promotionCodes.numberOrder * 100) / promotionCodes.promotion2;\r\n              let range_position_value = promotionCodes.promotion1*100/promotionCodes.promotion2;\r\n              let discount = 0;\r\n              if (promotionCodes.numberOrder >= promotionCodes.promotion1 && promotionCodes.numberOrder < promotionCodes.promotion2) {\r\n                discount = promotionCodes.promotionPercent1 / 100;\r\n              } else if (promotionCodes.numberOrder == promotionCodes.promotion2) {\r\n                discount = promotionCodes.promotionPercent2 / 100;\r\n              }\r\n              money = money - money * discount;\r\n              let detail = promotionCodes.title;\r\n              let actual_order = promotionCodes.numberOrder + \"/\" + promotionCodes.promotion2;\r\n              \r\n              let moc_1 = \"-0%\";\r\n              let moc_2 = \"-\" + promotionCodes.promotionPercent1 + \"%\";\r\n              let moc_3 = \"-\" + promotionCodes.promotionPercent2 + \"%\";\r\n              let background_image = '';\r\n              let object = {\r\n                '_id' : product._id,\r\n                '_id_requestShopProduct' : product.requestShopProduct._id,\r\n                'thumbnail': product.thumbnail,\r\n                'bg_url': \"../assets/images/services/1.png\",\r\n                'deadline' : deadline_convert,\r\n                'title' : title,\r\n                'money' : self.convertFormatMoney(money),\r\n                'detail' : detail,\r\n                'excerpt' : product.excerpt,\r\n                'actual_order' : actual_order,\r\n                'slider_value' : slider_value,\r\n                'range_position_value' : range_position_value,\r\n                'moc_1' : moc_1,\r\n                'moc_2' : moc_2,\r\n                'moc_3' : moc_3,\r\n                'number': 0,\r\n                'background_image' : background_image\r\n              }\r\n              self.data_shop_house.group_1.push(object);\r\n            } else {\r\n              let index = self.getIndexCategoryInList(product.category._id);\r\n              if (index < 0) {\r\n                self.data_shop_house['group_2'].push({\r\n                  id_tab: product.category._id,\r\n                  title: product.category.title,\r\n                  data: []\r\n                });\r\n                index = self.data_shop_house['group_2'].length - 1;\r\n              }\r\n              let title = product.title;\r\n              let money = product.price;\r\n              if (product.discountProducts && product.discountProducts.length > 0) {\r\n                let today = new Date();\r\n                let startAt = new Date(product.discountProducts[0].startAt);\r\n                let endAt = new Date(product.discountProducts[0].endAt);\r\n                if (startAt <= today && today <= endAt) {\r\n                  money = product.discountProducts[0].discountValue;\r\n                }\r\n              }\r\n              let object = {\r\n                _id: product._id, \r\n                image: product.thumbnail, \r\n                title: title, \r\n                money: self.convertFormatMoney(money), \r\n                note: product.excerpt, \r\n                number: 0\r\n              }\r\n              self.data_shop_house.group_2[index].data.push(object);\r\n            }\r\n          }\r\n        });\r\n        self.loading.dismiss();\r\n        callBack();\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n      callBack();\r\n    });\r\n  }\r\n  getIndexCategoryInList(id_tab) {\r\n    var self = this;\r\n    let index = -1;\r\n    let index_value = -1;\r\n    self.data_shop_house.group_2.forEach(object => {\r\n      index++;\r\n      if (object.id_tab == id_tab) {\r\n        index_value = index;\r\n      }\r\n    });\r\n    return index_value;\r\n  }\r\n  convertFormatMoney(value) {\r\n    value = value.toString();\r\n    let convert1 = \"\";\r\n    let convert2 = \"\";\r\n    let count1 = value.length;\r\n    for(let i = 1; i <= count1; i++) {\r\n      if (i % 3 == 0 && i != count1) {\r\n        convert1 = convert1 + value[count1 - i] + '.';\r\n      } else {\r\n        convert1 = convert1 + value[count1 - i];\r\n      }\r\n    }\r\n    let count2 = convert1.length\r\n    for(let i = 1; i <= count2; i++) {\r\n      convert2 = convert2 + convert1[count2 - i];\r\n    }\r\n    return convert2;\r\n  }\r\n  eventSearchData() {\r\n    var self = this;\r\n    // Reset items back to all of the items\r\n    this.listDataMarket = [].concat(this.listDataMarketSearch);\r\n    // set val to the value of the searchbar\r\n    const val = this.convertTextVietnames(this.search_value);\r\n    // if the value is an empty string don't filter the items\r\n    if (val && val.trim() !== '') {\r\n        this.isItemAvailable = true;\r\n        this.listDataMarket = this.listDataMarket.filter((item) => {\r\n          let data = self.convertTextVietnames(item['title']);\r\n            return (data.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n        })\r\n    } else {\r\n        this.isItemAvailable = false;\r\n    }\r\n  }\r\n  convertTextVietnames(str) {\r\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n    str = str.replace(/đ/g, \"d\");\r\n    str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\r\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\r\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\r\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\r\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\r\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\r\n    str = str.replace(/Đ/g, \"D\");\r\n    return str;\r\n  }\r\n}\r\n"]}