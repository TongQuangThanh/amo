{"version":3,"sources":["./src/app/pages/my-home/my-home.page.ts","./src/app/pages/my-home/my-home.page.html","./src/app/pages/my-home/my-home.module.ts"],"names":[],"mappings":"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","file":"pages-my-home-my-home-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\nimport { ModalController } from '@ionic/angular';\r\n\r\nimport { ApartmentCodeRegisterPage } from '../auth/apartment-code-register/apartment-code-register.page';\r\nimport { PopupBuildingManagementPhonePage } from '../popup-building-management-phone/popup-building-management-phone.page';\r\n\r\n@Component({\r\n  selector: 'app-my-home',\r\n  templateUrl: './my-home.page.html',\r\n  styleUrls: ['./my-home.page.scss'],\r\n})\r\nexport class MyHomePage implements OnInit {\r\n  departmentID:string;\r\n  listDepartment: any;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private loading: LoadingService,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n    private callNumber: CallNumber\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ionViewWillEnter() {\r\n    this.getListUserApar();\r\n  }\r\n\r\n  getListUserApar(){\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getListUserApartment()\r\n      .subscribe(result => {\r\n        self.listDepartment = result.userApartments;\r\n        self.loading.dismiss()\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n\r\n  detailPage(event) {\r\n    // // this.nativePageTransitions.slide(ConstService.ANIMATION_OPTION_LEFT);\r\n    this.navCtrl.navigateForward('/my-home-detail/' + event.currentTarget.id);\r\n  }\r\n\r\n  callEmergency(event){\r\n    if (event && event.stopPropagation) {\r\n      event.stopPropagation();\r\n    }\r\n    for(let item in this.listDepartment){\r\n      if (this.listDepartment[item]._id == event.currentTarget.parentElement.parentElement.parentElement.id){\r\n        const campaignPhone = this.listDepartment[item].campaign.phone;\r\n        this.callNumber.callNumber(campaignPhone, true)\r\n        .then(res => console.log('Launched dialer!', res))\r\n        .catch(err => console.log('Error launching dialer', err));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // async addApartment() {\r\n  //   const modal = await this.modalController.create({\r\n  //     component: ApartmentCodeRegisterPage,\r\n  //     componentProps: {\r\n  //     },\r\n  //     cssClass: \"custom-modal-wrapper\"\r\n  //   });\r\n\r\n  //   modal.onDidDismiss().then((dataReturned:any) => {\r\n  //     if (dataReturned !== null) {\r\n  //       const dataReturnedResult = JSON.parse(dataReturned.data);\r\n  //       if(dataReturnedResult.result == '0'){\r\n  //         this.getListUserApar();\r\n  //       }else{\r\n\r\n  //       }\r\n  //     }\r\n  //   });\r\n  //   return await modal.present();\r\n  // }\r\n\r\n  addNewHome(){\r\n    this.navCtrl.navigateForward('/add-home');\r\n  }\r\n\r\n  async buildingManagementPhoneModal($event, phoneNumber) {\r\n    $event.stopPropagation();\r\n    const modal = await this.modalController.create({\r\n      component: PopupBuildingManagementPhonePage,\r\n      componentProps: {\r\n        \"phoneNumber\": phoneNumber,\r\n      },\r\n      cssClass: 'buildingManagementPhone-custom-class'\r\n    });\r\n    return await modal.present();\r\n  }\r\n}\r\n","\r\n<ion-header class=\"ion-no-border my-home-header\">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ 'MY_HOME.title' | translate }}</ion-label>\r\n  <ion-label class=\"header-sub-title\">{{ 'MY_HOME.subtitle' | translate }}</ion-label>\r\n  <div class=\"header-radius\"></div>\r\n</ion-header>\r\n\r\n<ion-content class=\"main-content\">\r\n  <ion-list class=\"list-content\">\r\n    <ion-card class=\"card-content\" *ngFor=\"let item of listDepartment; let i = index\" (click)=\"detailPage($event)\" id=\"{{item._id}}\">\r\n      <ion-text class=\"number-watermark ion-float-right\">\r\n        <h1 class=\"number-watermark-text\">{{i <= 9 ? \"0\"+ (i +1): (i+1)}}</h1>\r\n      </ion-text>\r\n      <ion-card-header>\r\n        <ion-item lines=\"none\" class=\"hotline-item\">\r\n          <ion-card-title class=\"home-title\">{{item.apartment.title + ' - ' + item.campaign.title}}</ion-card-title>\r\n          <ion-button class=\"modify-icon\" expand=\"block\" fill=\"clear\" shape=\"round\">\r\n            <img src=\"../assets/icon/svg/modify.svg\"/>\r\n          </ion-button>\r\n        </ion-item>\r\n      </ion-card-header>\r\n      <ion-card-content class=\"home-content\">\r\n        <ion-label class=\"home-address\">{{item.campaign.address}}</ion-label>\r\n        <ion-item lines=\"none\" class=\"hotline-item\">\r\n          <ion-label class=\"hotline-title\">{{ 'MY_HOME.hotline_label' | translate }}</ion-label>\r\n          <ion-button slot=\"end\" class=\"hotline-number clear-background\" (click)=\"buildingManagementPhoneModal($event, item.campaign.phone)\">\r\n            <ion-icon class=\"hotline-icon\" src=\"assets/icon/home/calling.svg\"></ion-icon>\r\n            {{item.campaign.phone}}\r\n          </ion-button>\r\n        </ion-item>\r\n      </ion-card-content>\r\n    </ion-card>\r\n    <ion-card class=\"add-new-button\" (click)=\"addNewHome()\">\r\n      <div class=\"add-new-icon\" >\r\n        <div class=\"margin-top-20\"><img src=\"../assets/icon/add.svg\"/></div>\r\n        <div><ion-label class=\"add-new-label\">{{ 'MY_HOME.button_add' | translate }}</ion-label></div>\r\n      </div>\r\n    </ion-card>\r\n  </ion-list>\r\n</ion-content>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { MyHomePage } from './my-home.page';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MyHomePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  providers: [CallNumber],\r\n  declarations: [MyHomePage]\r\n})\r\nexport class MyHomePageModule {}\r\n"],"sourceRoot":"webpack:///"}