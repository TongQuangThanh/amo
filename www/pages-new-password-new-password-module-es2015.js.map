{"version":3,"sources":["./src/app/pages/new-password/new-password.page.ts","./src/app/pages/new-password/new-password.page.html","./src/app/pages/new-password/new-password.module.ts"],"names":[],"mappings":"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","file":"pages-new-password-new-password-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { UtilsService } from '../../utils/utils.service';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-new-password',\r\n  templateUrl: './new-password.page.html',\r\n  styleUrls: ['./new-password.page.scss'],\r\n})\r\nexport class NewPasswordPage implements OnInit {\r\n\r\n  newPassword: string;\r\n  confirmPassword: string;\r\n  phoneNumber: string;\r\n  tokenCode: string;\r\n  errorMessage:string = \"\";\r\n  errorNewPass:Boolean = false;\r\n  errorConfirmPass:Boolean = false;\r\n  password_type: string = 'password';\r\n  passwordToggleIcon = 'eye-off-outline';\r\n  passwordConfirm_type: string = 'password';\r\n  passwordNewToggleIcon = 'eye-off-outline';\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private alertService: AlertService,\r\n    private loading: LoadingService,\r\n    private apiService: ApiService,\r\n    private navCtrl: NavController,\r\n    private route: ActivatedRoute\r\n  ) { \r\n    this.phoneNumber = this.route.snapshot.paramMap.get('phone');\r\n    this.tokenCode = this.route.snapshot.paramMap.get('token');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  togglePassword(): void {\r\n    //this.showPassword != this.showPassword;\r\n    this.password_type = this.password_type === 'text' ? 'password' : 'text';\r\n    if (this.passwordToggleIcon == 'eye-outline') {\r\n      this.passwordToggleIcon = 'eye-off-outline';\r\n    } else {\r\n      this.passwordToggleIcon = 'eye-outline';\r\n    }\r\n  }\r\n\r\n  togglePasswordNew(): void {\r\n    //this.showPassword != this.showPassword;\r\n    this.passwordConfirm_type = this.passwordConfirm_type === 'text' ? 'password' : 'text';\r\n    if (this.passwordNewToggleIcon == 'eye-outline') {\r\n      this.passwordNewToggleIcon = 'eye-off-outline';\r\n    } else {\r\n      this.passwordNewToggleIcon = 'eye-outline';\r\n    }\r\n  }\r\n\r\n  checkNewPassword() {\r\n    if (this.newPassword && this.newPassword.length >= 8) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  checkConfirmPassword() {\r\n    if (this.confirmPassword && this.confirmPassword.length >= 8 && this.newPassword && this.newPassword == this.confirmPassword) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  checkIsEnabled() {\r\n    if (this.newPassword && this.newPassword.length >= 8 && this.confirmPassword && this.confirmPassword.length >= 8 && this.newPassword == this.confirmPassword) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  updateAccount(){\r\n    var self = this;\r\n    const params = {\r\n      phone: this.phoneNumber,\r\n      token: this.tokenCode,\r\n      newPassword: this.newPassword\r\n    };\r\n    this.loading.present();\r\n    this.apiService.resetPassword(params)\r\n      .subscribe(result => {\r\n        self.loading.dismiss()\r\n        self.errorMessage = \"\";\r\n        self.errorNewPass = false;\r\n        self.errorConfirmPass = false;\r\n        self.alertService.presentToast(this.translate.instant('NEW_PASSWORD.message_change_pass_sucess'));\r\n        self.navCtrl.navigateBack('/login/' + self.phoneNumber);\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n      self.errorNewPass = false;\r\n      self.errorConfirmPass = false;\r\n      self.errorMessage = error.error.message;\r\n    });\r\n  }\r\n\r\n  changePass(){\r\n    if(!this.newPassword || this.newPassword.length < 8){\r\n      this.errorNewPass = true;\r\n      this.errorConfirmPass = false;\r\n      this.errorMessage = this.translate.instant('NEW_PASSWORD.error_length_new_password_message');\r\n      return;\r\n    }\r\n\r\n    if(!this.confirmPassword || this.confirmPassword.length < 8){\r\n      this.errorNewPass = false;\r\n      this.errorConfirmPass = true;\r\n      this.errorMessage = this.translate.instant('NEW_PASSWORD.error_length_confirm_password_message');\r\n      return;\r\n    }\r\n\r\n    if(this.newPassword != this.confirmPassword){\r\n      this.errorNewPass = true;\r\n      this.errorConfirmPass = true;\r\n      this.errorMessage = this.translate.instant('NEW_PASSWORD.error_not_match_password_message');\r\n      return;\r\n    }\r\n\r\n    this.updateAccount();\r\n  }\r\n  \r\n}\r\n","<!-- <ion-header class=\"ion-no-border\">\r\n  <ion-toolbar class=\"header-toolbar\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button text=\"\" icon=\"chevron-back\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>{{ 'NEW_PASSWORD.title' | translate }}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>  -->\r\n\r\n<ion-header class=\"ion-no-border\">\r\n  <div class=\"login-header\">\r\n    <ion-buttons>\r\n      <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-label class=\"login-title\">{{ 'NEW_PASSWORD.title' | translate }}</ion-label>\r\n    <ion-label></ion-label>\r\n  </div>\r\n</ion-header>\r\n\r\n  <ion-content>\r\n    <section>\r\n      <ion-item lines=\"none\" class=\"form-class note-style\">\r\n        <ion-label class=\"ion-text-wrap label-text\">{{ 'NEW_PASSWORD.password_note' | translate }}</ion-label>\r\n      </ion-item>\r\n    </section>\r\n    <section class=\"change-password-input\">\r\n      <ion-item class=\"input-item\" lines=\"none\">\r\n        <ion-icon class=\"input-icon\" name=\"custom-locker\" src=\"/assets/icon/custom-locker.svg\" slot=\"start\"></ion-icon>\r\n        <ion-label class=\"input-floating-label\" position=\"floating\">{{ 'NEW_PASSWORD.place_holder_new_password' | translate }}</ion-label>\r\n        <ion-input class=\"input-text\" [(ngModel)]=\"newPassword\" [type]=\"password_type\" name=\"newPassword\"></ion-input>\r\n        <ion-icon [ngClass]=\"!checkNewPassword() ? 'clear-input check-default' : 'clear-input check-success'\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\r\n        <ion-icon class=\"pass-hide-icon\" [name]=\"passwordToggleIcon\" (click)=\"togglePassword()\" slot=\"end\"></ion-icon>\r\n      </ion-item>\r\n      <ion-item class=\"input-item\" lines=\"none\">\r\n        <ion-icon class=\"input-icon\" name=\"custom-locker\" src=\"/assets/icon/custom-locker.svg\" slot=\"start\"></ion-icon>\r\n        <ion-label class=\"input-floating-label\" position=\"floating\">{{ 'NEW_PASSWORD.place_holder_confirm_password' | translate }}</ion-label>\r\n        <ion-input class=\"input-text\" [(ngModel)]=\"confirmPassword\" [type]=\"passwordConfirm_type\" name=\"confirmPassword\"></ion-input>\r\n        <ion-icon [ngClass]=\"!checkConfirmPassword() ? 'clear-input check-default' : 'clear-input check-success'\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\r\n        <ion-icon class=\"pass-hide-icon\" [name]=\"passwordNewToggleIcon\" (click)=\"togglePasswordNew()\" slot=\"end\"></ion-icon>\r\n      </ion-item>\r\n      <!-- <ion-item lines=\"none\" class=\"margin-top-10\">\r\n        <ion-input [ngClass]=\"!errorNewPass ? 'custom-common-input custom-common-input-text' : 'custom-common-input custom-common-input-text error-input'\" placeholder=\"{{ 'NEW_PASSWORD.place_holder_new_password' | translate }}\" [(ngModel)]=\"newPassword\" type=\"password\" name=\"newPassword\"></ion-input>\r\n      </ion-item>\r\n      <ion-item lines=\"none\" class=\"margin-top-10\">\r\n        <ion-input [ngClass]=\"!errorConfirmPass ? 'custom-common-input custom-common-input-text' : 'custom-common-input custom-common-input-text error-input'\" placeholder=\"{{ 'NEW_PASSWORD.place_holder_confirm_password' | translate }}\" [(ngModel)]=\"confirmPassword\" type=\"password\" name=\"confirmPassword\"></ion-input>\r\n      </ion-item> -->\r\n      <ion-item lines=\"none\" class=\"margin-top-10\" *ngIf=\"errorMessage != ''\">\r\n          <ion-label color=\"danger\" class=\"error-message\">{{errorMessage}}</ion-label>\r\n      </ion-item>\r\n      <ion-button (click)=\"changePass()\" expand=\"block\" class=\"\" [ngClass]=\"!checkIsEnabled() ? 'button-common change-pass-button' : 'button-common change-pass-button button-common-active'\" [disabled]=\"!checkIsEnabled()\">\r\n        <ion-label class=\"button-change-pass-label\">{{ 'NEW_PASSWORD.btn_change_pass' | translate }}</ion-label>\r\n      </ion-button>\r\n    </section>\r\n    <!-- <section class=\"full-width function-section margin-top-10\" (click)=\"changePass()\">\r\n        <ion-button expand=\"block\" class=\"amo-button-custom\">{{ 'NEW_PASSWORD.btn_change_pass' | translate }}</ion-button>\r\n    </section> -->\r\n    \r\n  </ion-content>\r\n  ","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NewPasswordPage } from './new-password.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewPasswordPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [NewPasswordPage]\r\n})\r\nexport class NewPasswordPageModule {}\r\n"],"sourceRoot":"webpack:///"}