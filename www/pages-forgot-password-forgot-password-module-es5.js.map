{"version":3,"sources":["webpack:///src/app/pages/forgot-password/forgot-password.module.ts","webpack:///src/app/pages/forgot-password/forgot-password.page.ts","webpack:///src/app/pages/forgot-password/forgot-password.page.html"],"names":["routes","path","component","ForgotPasswordPageModule","forChild","imports","declarations","ForgotPasswordPage","loading","modalController","navCtrl","alertService","translate","apiService","phoneNumber","toString","length","PHONE_LENGTH_VN","self","present","forgotPassword","subscribe","result","dismiss","presentModal","error","presentToast","instant","create","componentProps","cssClass","modal","onDidDismiss","then","dataReturned","dataReturnedResult","JSON","parse","data","navigateRoot","token","sendSMS","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-forgot-password-forgot-password-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ForgotPasswordPage } from './forgot-password.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ForgotPasswordPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ForgotPasswordPage]\r\n})\r\nexport class ForgotPasswordPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ConstService } from '../../utils/const.service'\r\nimport { ModalController } from '@ionic/angular';\r\nimport { PopupPincodePasswordPage } from '../popup-pincode-password/popup-pincode-password.page';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { NavController } from '@ionic/angular';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  templateUrl: './forgot-password.page.html',\r\n  styleUrls: ['./forgot-password.page.scss'],\r\n})\r\nexport class ForgotPasswordPage implements OnInit {\r\n  phoneNumber: string;\r\n  constructor(\r\n    private loading: LoadingService,\r\n    public modalController: ModalController,\r\n    private navCtrl: NavController,\r\n    private alertService: AlertService,\r\n    private translate: TranslateService,\r\n    private apiService: ApiService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  checkIsEnabled() {\r\n    if (this.phoneNumber && this.phoneNumber.toString().length >= ConstService.PHONE_LENGTH_VN) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  sendSMS(){\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.forgotPassword(this.phoneNumber).subscribe(result => {\r\n      self.loading.dismiss();\r\n      self.presentModal();\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n      self.alertService.presentToast(this.translate.instant('FORGOT_PASSWORD.error_message'));\r\n    });\r\n  }\r\n\r\n  async presentModal() {\r\n    const modal = await this.modalController.create({\r\n      component: PopupPincodePasswordPage,\r\n      componentProps: {\r\n        \"phoneNumber\": this.phoneNumber,\r\n      },\r\n      cssClass: \"custom-pincode-wrapper\"\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned:any) => {\r\n      if (dataReturned !== null) {\r\n        const dataReturnedResult = JSON.parse(dataReturned.data);\r\n        if(dataReturnedResult.result == '0'){\r\n          this.navCtrl.navigateRoot('/new-password/' + this.phoneNumber + \"/\" + dataReturnedResult.token);\r\n        }else{\r\n\r\n        }\r\n      }\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n}\r\n","<!-- <ion-header class=\"ion-no-border\">\r\n    <ion-toolbar class=\"header-toolbar\">\r\n      <ion-buttons slot=\"start\">\r\n        <ion-back-button text=\"\" icon=\"chevron-back\"></ion-back-button>\r\n      </ion-buttons>\r\n      <ion-title>{{ 'FORGOT_PASSWORD.title' | translate }}</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header> -->\r\n<ion-header class=\"ion-no-border\">\r\n  <div class=\"login-header\">\r\n    <ion-buttons>\r\n      <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-label class=\"login-title\">{{ 'FORGOT_PASSWORD.title' | translate }}</ion-label>\r\n    <ion-label></ion-label>\r\n  </div>\r\n</ion-header>\r\n\r\n\r\n<ion-content>\r\n  <ion-item lines=\"none\" class=\"margin-top-10\">\r\n    <ion-label class=\"ion-text-wrap note-text\">{{ 'FORGOT_PASSWORD.forgot_password_note' | translate }}</ion-label>\r\n  </ion-item>\r\n  <div class=\"forgot-password-input\">\r\n    <ion-item class=\"input-item\" lines=\"none\">\r\n      <img class=\"input-icon\" name=\"custom-mobile\" src=\"../assets/icon/svg/profile.svg\" slot=\"start\" />\r\n      <ion-label class=\"input-floating-label\" position=\"floating\">{{ 'LANDING.phone_number_text' | translate }}\r\n      </ion-label>\r\n      <ion-input class=\"input-text\" [(ngModel)]=\"phoneNumber\" type=\"phone\"></ion-input>\r\n      <!-- <ion-icon class=\"clear-input check-default\" name=\"close-circle\" slot=\"end\"></ion-icon> -->\r\n    </ion-item>\r\n    <!-- <ion-item class=\"phone-input phone-input-text\">\r\n        <ion-icon name=\"custom-mobile\" class=\"input-icon\" src=\"/assets/icon/custom-mobile.svg\" slot=\"start\"></ion-icon>\r\n        <ion-label class=\"item-inner\" position=\"floating\">{{ 'LANDING.phone_number_text' | translate }}</ion-label>\r\n        <ion-input class=\"input-text\" [(ngModel)]=\"phoneNumber\" clearInput type=\"tel\"></ion-input>\r\n      </ion-item> -->\r\n  </div>\r\n  <ion-button (click)=\"sendSMS()\" expand=\"block\" class=\"\"\r\n    [ngClass]=\"!checkIsEnabled() ? 'button-common next-button' : 'button-common next-button button-common-active'\"\r\n    [disabled]=\"!checkIsEnabled()\">\r\n    <ion-label class=\"button-next-label\">{{ 'FORGOT_PASSWORD.btn_text_me' | translate }}</ion-label>\r\n  </ion-button>\r\n</ion-content>"]}