{"version":3,"sources":["webpack:///src/app/pages/history-detail/history-detail.module.ts","webpack:///src/app/pages/history-detail/history-detail.page.html","webpack:///src/app/pages/history-detail/history-detail.page.ts"],"names":["routes","path","component","HistoryDetailPageModule","forChild","imports","declarations","HistoryDetailPage","modalController","camera","actionSheetController","loading","navCtrl","apiService","alertController","translate","data_history","rating_value","rating_value_popup","data_history_order","flag_show_hide_popup","flag_show_hide_popup_complain","form_note","form_user_complain","getDataOrderHistory","message","self","create","cssClass","header","instant","buttons","alert","present","rating","data","JSON","parse","localStorage","getItem","index","orderInfor","length","forEach","product","money","convertFormatMoney","number","price","class_border","object","_id","title","shopProduct","push","value","toString","convert1","convert2","count1","i","count2","navigateForward","data_rate","putOrderProductRateStarUser","subscribe","result","dismiss","text_rate","presentAlert","error","putOrderProductCancelUser","status","putOrderHistoryUserConfirm","putOrderHistoryUserComplain","event","presentAlertComplain","userComplain","preventDefault","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-history-detail-history-detail-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { HistoryDetailPage } from './history-detail.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HistoryDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    SuperTabsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [HistoryDetailPage]\r\n})\r\nexport class HistoryDetailPageModule {}\r\n","<ion-header class=\"ion-no-border\">\r\n    <ion-toolbar>\r\n      <ion-title>{{data_history.title}}</ion-title>\r\n      <ion-buttons slot=\"start\">\r\n        <ion-back-button text=\"\" icon=\"chevron-back\"></ion-back-button>\r\n      </ion-buttons>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n  \r\n  <ion-content>\r\n    <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding padding-bottom-20 ion-list-class\">\r\n      <ion-grid class=\"ion-no-padding scroll-class\">\r\n        <ion-row class=\"ion-no-padding line-bottom-10 margin-top-5\">\r\n          <ion-col class=\"display-flex center-div\" size=\"8\">\r\n            <div class=\"\">\r\n              <ion-label *ngIf=\"data_history.status == 'processing'\" class=\"ion-label-1\">{{ 'PAY_15.status_processing' | translate }}</ion-label>\r\n              <ion-label *ngIf=\"data_history.status == 'accepted-provider'\" class=\"ion-label-2\">{{ 'PAY_15.status_accepted_provider' | translate }}</ion-label>\r\n              <ion-label *ngIf=\"data_history.status == 'accepted-provider-groupon'\" class=\"ion-label-2\">{{ 'PAY_15.status_accepted_provider_grouppon' | translate }}</ion-label>\r\n              <ion-label *ngIf=\"data_history.status == 'confirm-user'\" class=\"ion-label-1\">{{ 'PAY_15.status_wait_user_confirm' | translate }}</ion-label>\r\n              <ion-label *ngIf=\"data_history.status == 'accepted-user'\" class=\"ion-label-2\">{{ 'PAY_15.status_accepted_user' | translate }}</ion-label>\r\n              <ion-label *ngIf=\"data_history.status == 'finish'\" class=\"ion-label-3\">{{ 'PAY_15.status_finish' | translate }}</ion-label>\r\n              <ion-label *ngIf=\"data_history.status == 'cancel-user'\" class=\"ion-label-4\">{{ 'PAY_15.status_cancel_user' | translate }}</ion-label>\r\n              <ion-label *ngIf=\"data_history.status == 'cancel-provider'\" class=\"ion-label-4\">{{ 'PAY_15.status_cancel_provider' | translate }}</ion-label>\r\n            </div>\r\n            <div class=\"margin-left-10\" *ngIf=\"data_history.userComplain != ''\" (click)=\"showComplainText($event, data_history)\">\r\n              <ion-img src=\"../assets/icon/svg/complaint.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n            </div>\r\n          </ion-col>\r\n          <ion-col size=\"4\">\r\n            <div class=\"div-title-row-2-col-2\">\r\n              <ion-label class=\"font-weight-bold\">{{data_history.money}}đ</ion-label>\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n        \r\n        <ion-row class=\"list_data_product\" *ngFor=\"let object of data_history_order\" id=\"{{object._id}}\">\r\n          <ion-col class=\"ion-col-class {{object.class_border}}\" size=\"2\">\r\n            <ion-item class=\"css-ion-col-1\">\r\n              <ion-label class=\"margin-0\">{{object.number}}x</ion-label>\r\n            </ion-item>\r\n          </ion-col>\r\n          <ion-col class=\"ion-col-class {{object.class_border}}\" size=\"7\">\r\n            <ion-item class=\"css-ion-col-2\">\r\n              <ion-label class=\"font-weight-600\">{{object.title}}</ion-label>\r\n            </ion-item>\r\n          </ion-col>\r\n          <ion-col class=\"ion-col-class {{object.class_border}}\" size=\"3\">\r\n            <ion-item class=\"css-ion-col-3\">\r\n              <ion-label class=\"font-weight-bold\">{{object.money}}đ</ion-label>\r\n            </ion-item>\r\n          </ion-col>\r\n        </ion-row>\r\n\r\n        <ion-row *ngIf=\"data_history.name != ''\" class=\"ion-no-padding line-top-10\">\r\n          <ion-col class=\"\" size=\"5\">\r\n            <ion-label class=\"label-left\">{{ 'PAY_15.label_supplier_name' | translate }}</ion-label>\r\n          </ion-col>\r\n          <ion-col class=\"\" size=\"7\">\r\n            <ion-item class=\"no-border item-avatar\">\r\n              <ion-avatar class=\"avatar-class\" slot=\"start\">\r\n                <img src=\"{{data_history.avatar}}\">\r\n              </ion-avatar>\r\n              <ion-label class=\"font-weight-600 label-name\">{{data_history.name}}</ion-label>\r\n            </ion-item>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"ion-no-padding margin-top-15\">\r\n          <ion-col class=\"\" size=\"5\">\r\n            <ion-label class=\"label-left\">{{ 'PAY_15.label_code_order' | translate }}</ion-label>\r\n          </ion-col>\r\n          <ion-col class=\"\" size=\"7\">\r\n            <ion-label class=\"font-weight-600 label-right\">{{data_history.code_orders}}</ion-label>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"ion-no-padding margin-top-15\">\r\n          <ion-col class=\"\" size=\"5\">\r\n            <ion-label class=\"label-left\">{{ 'PAY_15.label_time' | translate }}</ion-label>\r\n          </ion-col>\r\n          <ion-col class=\"\" size=\"7\">\r\n            <ion-label class=\"font-weight-600 label-right\">{{data_history.date_time}}</ion-label>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"ion-no-padding margin-top-15\" *ngIf=\"data_history.status == 'finish' && data_history.text_rate != 0\">\r\n          <ion-col class=\"\" size=\"5\">\r\n            <ion-label class=\"label-left\">{{ 'PAY_15.label_rating' | translate }}</ion-label>\r\n          </ion-col>\r\n          <ion-col class=\"\" size=\"7\">\r\n            <ion-item class=\"group-1-text-star\">\r\n              <img class=\"group-1-icon-star\" src=\"../assets/icon/svg/icon-star.svg\"/>\r\n              <ion-label class=\"font-weight-600 class-label-rate\">{{data_history.text_rate}}</ion-label>\r\n            </ion-item>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n      <ion-grid class=\"ion-no-padding line-top-16\" (click)=\"eventShowDialog(1)\" *ngIf=\"data_history.status == 'finish' && data_history.text_rate == 0\">\r\n        <ion-row class=\"ion-no-padding\">\r\n          <ion-col class=\"\" size=\"12\">\r\n            <ion-label class=\"rate-label-left\">{{ 'PAY_15.label_rating_service' | translate }}</ion-label>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"ion-no-padding padding-0 margin-top-10\">\r\n          <ion-item lines=\"none\" class=\"width-100 group_stars_rate\">\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value > 7\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value > 27\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value > 47\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value > 67\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n            <ion-item lines=\"none\" class=\"width-20\">\r\n              <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n              <ion-img *ngIf=\"rating_value > 87\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n            </ion-item>\r\n          </ion-item>\r\n        </ion-row>\r\n      </ion-grid>\r\n      <ion-row class=\"ion-no-padding line-top-16\" *ngIf=\"data_history.status == 'confirm-user'\">\r\n        <ion-col class=\"padding-0\" size=\"12\">\r\n          <div class=\"message-confirm\">\r\n            <ion-label class=\"\">{{data_history.message}}</ion-label>\r\n          </div>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-list>\r\n    <div *ngIf=\"flag_show_hide_popup == true || flag_show_hide_popup_complain == true\" class=\"modal-backdrop fade show\"></div>\r\n    <div *ngIf=\"flag_show_hide_popup == true || flag_show_hide_popup_complain == true\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <ion-label *ngIf=\"flag_show_hide_popup == true\" class=\"rate-label-left font-weight-bold\">{{ 'PAY_15.label_feedback' | translate }}</ion-label>\r\n            <ion-label *ngIf=\"flag_show_hide_popup_complain == true\" class=\"rate-label-left font-weight-bold\">{{ 'PAY_15.label_title_complain' | translate }}</ion-label>\r\n            <button *ngIf=\"flag_show_hide_popup == true\" type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"eventButtonClosePopup(1)\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n            <button *ngIf=\"flag_show_hide_popup_complain == true\" type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"eventButtonClosePopup(2)\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n            <div class=\"div-header-title\"></div>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding margin-top-10\">\r\n                <ion-grid class=\"ion-no-padding\">\r\n                  <ion-row class=\"ion-no-padding\">\r\n                    <ion-col class=\"\" size=\"12\">\r\n                      <ion-label *ngIf=\"flag_show_hide_popup == true\" class=\"rate-label-left\">{{ 'PAY_15.label_rating_service' | translate }}</ion-label>\r\n                      <ion-label *ngIf=\"flag_show_hide_popup_complain == true\" class=\"rate-label-left\">{{ 'PAY_15.label_complain' | translate }}</ion-label>\r\n                    </ion-col>\r\n                  </ion-row>\r\n                  <ion-row *ngIf=\"flag_show_hide_popup == true\" class=\"ion-no-padding padding-0 margin-top-10\">\r\n                    <ion-item lines=\"none\" class=\"width-100 group_stars_rate\">\r\n                      <ion-item lines=\"none\" class=\"width-20\">\r\n                        <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n                        <ion-img *ngIf=\"rating_value_popup > 7\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n                      </ion-item>\r\n                      <ion-item lines=\"none\" class=\"width-20\">\r\n                        <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n                        <ion-img *ngIf=\"rating_value_popup > 27\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n                      </ion-item>\r\n                      <ion-item lines=\"none\" class=\"width-20\">\r\n                        <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n                        <ion-img *ngIf=\"rating_value_popup > 47\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n                      </ion-item>\r\n                      <ion-item lines=\"none\" class=\"width-20\">\r\n                        <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n                        <ion-img *ngIf=\"rating_value_popup > 67\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n                      </ion-item>\r\n                      <ion-item lines=\"none\" class=\"width-20\">\r\n                        <ion-img src=\"../assets/icon/svg/stars_rating.svg\" class=\"img-responsive\" alt=\"\"></ion-img>\r\n                        <ion-img *ngIf=\"rating_value_popup > 87\" src=\"../assets/icon/svg/stars_rating_fullsize.svg\" class=\"img-responsive position-image-rate\" alt=\"\"></ion-img>\r\n                      </ion-item>\r\n                    </ion-item>\r\n                    <ion-item lines=\"none\" class=\"ion-item-range\">\r\n                      <ion-range color=\"danger\" pin=\"true\" [(ngModel)]=\"rating_value_popup\"></ion-range>\r\n                    </ion-item>\r\n                  </ion-row>\r\n                </ion-grid>\r\n                <ion-item lines=\"none\" class=\"margin-top-20 margin-bottom-30\">\r\n                  <ion-item lines=\"none\" class=\"item-common width-100\">\r\n                      <ion-textarea *ngIf=\"flag_show_hide_popup == true\" class=\"text-area-1\" rows=\"4\" cols=\"20\" placeholder=\"{{ 'PAY_15.label_write_feedback' | translate }}\" [(ngModel)]=\"form_note\"></ion-textarea>\r\n                      <ion-textarea *ngIf=\"flag_show_hide_popup_complain == true\" class=\"text-area-1\" rows=\"4\" cols=\"20\" placeholder=\"{{ 'PAY_15.label_complain' | translate }}\" [(ngModel)]=\"form_user_complain\"></ion-textarea>\r\n                  </ion-item>\r\n                </ion-item>\r\n                <ion-item lines=\"none\" class=\"margin-top-20 margin-bottom-10\" *ngIf=\"flag_show_hide_popup == true\">\r\n                  <ion-button *ngIf=\"rating_value_popup < 8 \r\n                    || (rating_value_popup >= 8 && rating_value_popup < 68 && form_note == '')\"\r\n                     expand=\"block\" class=\"amo-button-custom-4 font-weight-bold\">{{ 'PAY_15.text_button_send_feedback' | translate }}\r\n                  </ion-button>\r\n                  <ion-button *ngIf=\"rating_value_popup >= 68 \r\n                    || (rating_value_popup >= 8 && rating_value_popup < 68 && form_note != '')\" \r\n                    expand=\"block\" class=\"amo-button-custom-41 font-weight-bold\" (click)=\"eventSendRating()\">{{ 'PAY_15.text_button_send_feedback' | translate }}\r\n                  </ion-button>\r\n                </ion-item>\r\n                <ion-item lines=\"none\" class=\"margin-top-20 margin-bottom-10\" *ngIf=\"flag_show_hide_popup_complain == true\">\r\n                  <ion-button *ngIf=\"form_user_complain == ''\" expand=\"block\" class=\"amo-button-custom-4 font-weight-bold\">{{ 'PAY_15.text_button_complain' | translate }}</ion-button>\r\n                  <ion-button *ngIf=\"form_user_complain != ''\" \r\n                    expand=\"block\" class=\"amo-button-custom-41 font-weight-bold\" (click)=\"eventButtonUserComplain()\">{{ 'PAY_15.text_button_complain' | translate }}\r\n                  </ion-button>\r\n                </ion-item>\r\n            </ion-list>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n  <section class=\"full-width function-section shadow-section\">\r\n    <div class=\"col-6 padding-right-5 padding-left-5\" *ngIf=\"data_history.status != 'confirm-user'\">\r\n      <ion-button expand=\"block\" class=\"amo-button-custom-1 padding-0 font-weight-bold\" (click)=\"eventShowDialog(2)\">{{ 'PAY_15.text_button_complain' | translate }}</ion-button>\r\n    </div>\r\n    <div class=\"col-6 padding-right-5 padding-left-5\" *ngIf=\"data_history.status == 'accepted-user' || data_history.status == 'cancel-provider' || data_history.status == 'cancel-user' || data_history.status == 'finish'\">\r\n      <ion-button expand=\"block\" class=\"amo-button-custom-2 padding-0 font-weight-bold\" (click)=\"moveToChatToShopPage()\">{{ 'PAY_15.text_button_chat' | translate }}</ion-button>\r\n    </div>\r\n    <div class=\"col-6 padding-right-5 padding-left-5\" *ngIf=\"data_history.status == 'processing' || data_history.status == 'accepted-provider' || data_history.status == 'accepted-provider-groupon' || data_history.status == 'confirm-user'\" (click)=\"eventButtonCancel()\">\r\n      <ion-button expand=\"block\" class=\"amo-button-custom-3 padding-0 font-weight-bold\">{{ 'PAY_15.text_button_cancel' | translate }}</ion-button>\r\n    </div>\r\n    <div class=\"col-6 padding-right-5 padding-left-5\" *ngIf=\"data_history.status == 'confirm-user'\">\r\n      <ion-button expand=\"block\" class=\"amo-button-custom-2 padding-0 font-weight-bold\" (click)=\"eventButtonConfirmUser()\">{{ 'PAY_15.text_button_confirm' | translate }}</ion-button>\r\n    </div>\r\n  </section>\r\n  ","import { Component, OnInit } from '@angular/core';\r\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/Camera/ngx';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ActionSheetController, NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ModalController, AlertController  } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-history-detail',\r\n  templateUrl: './history-detail.page.html',\r\n  styleUrls: ['./history-detail.page.scss'],\r\n})\r\nexport class HistoryDetailPage implements OnInit {\r\n  data_history: any;\r\n  data_history_order: any;\r\n  rating_value: any;\r\n  rating_value_popup: any;\r\n  flag_show_hide_popup: any;\r\n  flag_show_hide_popup_complain: any;\r\n  form_note:any;\r\n  form_user_complain:any;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private camera: Camera,\r\n    public actionSheetController: ActionSheetController,\r\n    private loading: LoadingService,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n    public alertController: AlertController,\r\n    private translate: TranslateService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.data_history = {};\r\n    this.rating_value = 0;\r\n    this.rating_value_popup = 0;\r\n    this.data_history_order = [];\r\n    this.flag_show_hide_popup = false;\r\n    this.flag_show_hide_popup_complain = false;\r\n    this.form_note = \"\";\r\n    this.form_user_complain = \"\";\r\n    this.getDataOrderHistory();\r\n  }\r\n  async presentAlert(message) {\r\n    var self = this;\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: self.translate.instant('COMMON.information'),\r\n      message: message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  async presentAlertComplain(message) {\r\n    var self = this;\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: self.translate.instant('COMMON.complain'),\r\n      message: message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  onRateChange(rating){\r\n  }\r\n  getDataOrderHistory(){\r\n    var self = this;\r\n    var data = JSON.parse(localStorage.getItem('data-order-history'));\r\n    this.data_history = data;\r\n    let index = data.orderInfor.length;\r\n    data.orderInfor.forEach(product => {\r\n      index--;\r\n      let money = self.convertFormatMoney(product.number * product.price);\r\n      let class_border = 'border-bottom-col';\r\n      if (index == 0) {\r\n        class_border = '';\r\n      }\r\n      let object = {\r\n        _id: product._id,\r\n        number: product.number,\r\n        price: product.price,\r\n        title: product.shopProduct.title,\r\n        money: money,\r\n        class_border: class_border\r\n      }\r\n      self.data_history_order.push(object);\r\n    });\r\n  }\r\n  convertFormatMoney(value) {\r\n    value = value.toString();\r\n    let convert1 = \"\";\r\n    let convert2 = \"\";\r\n    let count1 = value.length;\r\n    for(let i = 1; i <= count1; i++) {\r\n      if (i % 3 == 0 && i != count1) {\r\n        convert1 = convert1 + value[count1 - i] + '.';\r\n      } else {\r\n        convert1 = convert1 + value[count1 - i];\r\n      }\r\n    }\r\n    let count2 = convert1.length\r\n    for(let i = 1; i <= count2; i++) {\r\n      convert2 = convert2 + convert1[count2 - i];\r\n    }\r\n    return convert2;\r\n  }\r\n  moveToChatToShopPage() {\r\n    this.navCtrl.navigateForward('/chat-to-shop');\r\n  }\r\n  eventButtonClosePopup(i) {\r\n    if (i == 1) {\r\n      this.flag_show_hide_popup = false;\r\n      this.rating_value_popup = 0;\r\n    } else {\r\n      this.flag_show_hide_popup_complain = false;\r\n      this.form_user_complain = \"\";\r\n    }\r\n    \r\n  }\r\n  eventShowDialog(i) {\r\n    if (i == 1) {\r\n      if (this.rating_value_popup == 0) {\r\n        this.flag_show_hide_popup = true;\r\n      }\r\n    } else {\r\n      this.flag_show_hide_popup_complain = true;\r\n    }\r\n    \r\n  }\r\n  eventSendRating() {\r\n    var self = this;\r\n    this.loading.present();\r\n    var data_rate = 0;\r\n    if (self.rating_value_popup > 87) {\r\n      data_rate = 5;\r\n    } else if (self.rating_value_popup > 67) {\r\n      data_rate = 4;\r\n    } else if (self.rating_value_popup > 47) {\r\n      data_rate = 3;\r\n    } else if (self.rating_value_popup > 27) {\r\n      data_rate = 2;\r\n    } else if (self.rating_value_popup > 7) {\r\n      data_rate = 1;\r\n    } else {\r\n      data_rate = 0;\r\n    }\r\n    this.apiService.putOrderProductRateStarUser(\r\n      self.data_history._id,\r\n      data_rate,\r\n      self.form_note\r\n    ).subscribe(result => {\r\n      self.loading.dismiss();\r\n      self.data_history.text_rate = data_rate;\r\n      this.rating_value = this.rating_value_popup;\r\n      self.flag_show_hide_popup = false;\r\n      self.presentAlert(\r\n        self.translate.instant('COMMON.message_rate_user_success')\r\n      );\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  eventButtonCancel() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.putOrderProductCancelUser(\r\n      self.data_history._id\r\n    ).subscribe(result => {\r\n      self.loading.dismiss();\r\n      self.data_history.status = 'cancel-user';\r\n      self.presentAlert(\r\n        self.translate.instant('COMMON.message_cancel_success')\r\n      );\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  eventButtonConfirmUser() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.putOrderHistoryUserConfirm(\r\n      self.data_history._id\r\n    ).subscribe(result => {\r\n      self.loading.dismiss();\r\n      self.data_history.status = 'accepted-user';\r\n      self.presentAlert(\r\n        self.translate.instant('COMMON.message_confirm_success')\r\n      );\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  eventButtonUserComplain() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.putOrderHistoryUserComplain(\r\n      self.data_history._id,\r\n      self.form_user_complain\r\n    ).subscribe(result => {\r\n      self.loading.dismiss();\r\n      self.presentAlert(\r\n        self.translate.instant('COMMON.message_complain_success')\r\n      );\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  showComplainText(event, data) {\r\n    this.presentAlertComplain(data.userComplain);\r\n    event.preventDefault();\r\n  }\r\n}\r\n"]}