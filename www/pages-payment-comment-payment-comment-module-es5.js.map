{"version":3,"sources":["webpack:///src/app/pages/payment-comment/payment-comment.module.ts","webpack:///src/app/pages/payment-comment/payment-comment.page.ts","webpack:///src/app/pages/payment-comment/payment-comment.page.html"],"names":["routes","path","component","PaymentCommentPageModule","forChild","imports","declarations","PaymentCommentPage","alertService","apiService","loading","route","platform","listPaymentComment","ready","then","readySource","heightScreen","height","paymentBillID","snapshot","paramMap","get","getPaymentComment","present","self","getListPaymentComment","subscribe","result","paymentComments","dismiss","inputField","nativeElement","focus","error","stringDate","formatString","textInput","replace","params","content","editorMsg","bill","sendPaymentComment","sendMsg","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-payment-comment-payment-comment-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PaymentCommentPage } from './payment-comment.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentCommentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [PaymentCommentPage]\r\n})\r\nexport class PaymentCommentPageModule {}\r\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ConstService } from '../../utils/const.service'\r\nimport { UtilsService } from '../../utils/utils.service'\r\nimport { Platform, NavController } from '@ionic/angular';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-payment-comment',\r\n  templateUrl: './payment-comment.page.html',\r\n  styleUrls: ['./payment-comment.page.scss'],\r\n})\r\nexport class PaymentCommentPage implements OnInit{\r\n\r\n  listPaymentComment: any;\r\n  paymentBillID:string;\r\n  heightScreen:number;\r\n  editorMsg:any;\r\n  @ViewChild(\"chat_input\") inputField: ElementRef;\r\n  constructor(\r\n    private alertService: AlertService,\r\n    private apiService: ApiService,\r\n    private loading: LoadingService,\r\n    private route: ActivatedRoute,\r\n    private platform: Platform,\r\n  ) {\r\n    this.listPaymentComment = [];\r\n    platform.ready().then((readySource) => {\r\n      this.heightScreen = platform.height() - 70- 60;\r\n    });\r\n    this.paymentBillID = this.route.snapshot.paramMap.get('id');\r\n    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getPaymentComment();\r\n  }\r\n\r\n  getPaymentComment() {\r\n    this.loading.present();\r\n    const self = this;\r\n    this.apiService.getListPaymentComment(this.paymentBillID)\r\n      .subscribe(result => {\r\n        self.listPaymentComment = result.paymentComments;\r\n        self.loading.dismiss();\r\n        self.inputField.nativeElement.focus();\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n\r\n  formatString(stringDate: string) {\r\n    return UtilsService.formatString(stringDate);\r\n  }\r\n\r\n  convertText(textInput:string){\r\n    return textInput.replace(/\\n/ig, '<br/>');;\r\n  }\r\n\r\n  sendMsg(){\r\n    this.loading.present();\r\n    const self = this;\r\n    const params = {\r\n      content: this.editorMsg,\r\n      bill: this.paymentBillID\r\n    }\r\n    this.apiService.sendPaymentComment(params)\r\n      .subscribe(result => {\r\n        self.loading.dismiss();\r\n        self.editorMsg = \"\";\r\n        self.getPaymentComment();\r\n    },\r\n    error => {\r\n      self.editorMsg = \"\";\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n    <ion-toolbar>\r\n      <ion-buttons slot=\"start\">\r\n        <ion-back-button text=\"\"></ion-back-button>\r\n      </ion-buttons>\r\n      <ion-title>{{ 'PAYMENT_COMMENT.title' | translate }}</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n\r\n<ion-content>\r\n  <div class=\"input-wrap\">\r\n      <!-- <button ion-button clear icon-only item-right (click)=\"switchEmojiPicker()\">\r\n        <ion-icon name=\"md-happy\"></ion-icon>\r\n      </button> -->\r\n      <ion-textarea #chat_input\r\n                placeholder=\"{{ 'PAYMENT_COMMENT.place_holder_input' | translate }}\"\r\n                [(ngModel)]=\"editorMsg\">\r\n      </ion-textarea>\r\n      <ion-button class=\"button-send\" item-right (click)=\"sendMsg()\">\r\n        <ion-icon name=\"ios-send\" ios=\"ios-send\" md=\"md-send\"></ion-icon>\r\n      </ion-button>\r\n  </div>\r\n  <ion-content class=\"list-home-content\" [style.height.px]=\"heightScreen\">\r\n    <ion-list>\r\n      <ion-card *ngFor=\"let item of listPaymentComment\">\r\n        <ion-item>\r\n          <ion-avatar slot=\"start\">\r\n            <img *ngIf=\"item.createdBy\" src=\"{{item.createdBy.avatar}}\"/>\r\n            <img *ngIf=\"!item.createdBy\" src=\"../assets/icon/avatar-default.png\"/>\r\n          </ion-avatar>\r\n          <ion-label>\r\n            <h2 [innerHTML]=\"convertText(item.content)\" class=\"line-breaker \"></h2>\r\n            <p *ngIf=\"item.createdBy != null\">{{item.createdBy.displayName}}</p>\r\n            <p>{{formatString(item.createdAt)}}</p>\r\n          </ion-label>\r\n        </ion-item>\r\n      </ion-card>\r\n    </ion-list>\r\n  </ion-content>\r\n</ion-content>"]}