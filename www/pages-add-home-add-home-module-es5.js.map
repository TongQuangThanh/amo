{"version":3,"sources":["webpack:///src/app/pages/add-home/add-home.module.ts","webpack:///src/app/pages/add-home/add-home.page.ts","webpack:///src/app/pages/add-home/add-home.page.html","webpack:///src/app/pages/add-home/add-home-routing.module.ts"],"names":["AddHomePageModule","imports","declarations","AddHomePage","translate","apiService","loading","navCtrl","alertService","translateConfigService","isChecking","isError","pinCodeValue","color","isHidden","codeSize","isValid","selectedLanguage","getDefaultLanguage","initiateBuilder","pinCodeFormGroup","i","formController","value","disabled","required","addControl","v_pinCodeArray","Object","keys","forEach","key","push","pinCodeArray","get","enable","input","document","querySelectorAll","item","focus","$event","index","v_index","reg","RegExp","disable","test","target","valid","length","self","present","addApartmentToUser","toUpperCase","subscribe","result","dismiss","presentToast","instant","setTimeout","goToMyHome","error","navigateForward","checkingPincode","selector","templateUrl","styleUrls","routes","path","component","AddHomePageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-add-home-add-home-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddHomePageRoutingModule } from './add-home-routing.module';\r\n\r\nimport { AddHomePage } from './add-home.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    AddHomePageRoutingModule\r\n  ],\r\n  declarations: [AddHomePage]\r\n})\r\nexport class AddHomePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateConfigService } from '../../translate-config.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { Platform, NavController } from '@ionic/angular';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-add-home',\r\n  templateUrl: './add-home.page.html',\r\n  styleUrls: ['./add-home.page.scss'],\r\n})\r\nexport class AddHomePage implements OnInit {\r\n  selectedLanguage: string;\r\n  isChecking: boolean = false;\r\n  isError: boolean = false;\r\n  // pincode\r\n  pinCodeValue: string = '';\r\n  pinCodeArray: any[];\r\n  pinCodeFormGroup: FormGroup;\r\n  phoneNumber: string;\r\n  color: string = 'gray';\r\n  isHidden: boolean = false;\r\n  codeSize: number = 6;\r\n  isValid: boolean = false;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private apiService: ApiService,\r\n    private loading: LoadingService,\r\n    private navCtrl: NavController,\r\n    private alertService: AlertService,\r\n    private translateConfigService: TranslateConfigService\r\n  ) {\r\n    this.selectedLanguage = this.translateConfigService.getDefaultLanguage();\r\n    this.initiateBuilder();\r\n  }\r\n\r\n  ngOnInit() {}\r\n  \r\n  initiateBuilder() {\r\n    this.pinCodeFormGroup = new FormGroup({});\r\n    for (let i = 0; i < this.codeSize; i++) {\r\n      let formController: FormControl = new FormControl({ value: '', disabled: true }, [Validators.required]);\r\n      this.pinCodeFormGroup.addControl('codeFiled' + i, formController);\r\n    }\r\n    let v_pinCodeArray: any[] = [];\r\n    Object.keys(this.pinCodeFormGroup.value).forEach(function (key) {\r\n      v_pinCodeArray.push(key);\r\n    });\r\n    this.pinCodeArray = v_pinCodeArray;\r\n    this.pinCodeFormGroup.get('codeFiled0').enable();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const input: HTMLElement = document.querySelectorAll('.pinCodeInput').item(0) as HTMLElement;\r\n    input.focus();\r\n  }\r\n\r\n  onKeyUp($event: any, item: any, index: any) {\r\n    let v_index;\r\n    let reg = new RegExp('[0-9]');\r\n    if ($event.key == 'Backspace') {\r\n      if (index == 0) {\r\n        v_index = 0;\r\n      } else {\r\n        v_index = index - 1;\r\n        this.pinCodeFormGroup.get('codeFiled' + index).disable();\r\n      }\r\n    } else {\r\n      if (reg.test($event.target.value)) {\r\n        if (index == this.codeSize - 1) {\r\n          v_index = this.codeSize - 1;\r\n        } else {\r\n          v_index = index + 1;\r\n          this.pinCodeFormGroup.get('codeFiled' + v_index).enable();\r\n        }\r\n      }\r\n    }\r\n    let input: HTMLElement = document.querySelectorAll('.pinCodeInput').item(v_index) as HTMLElement;\r\n    input.focus();\r\n    if (index == this.codeSize - 1 && $event.key != 'Backspace') {\r\n      this.pinCodeValue = '';\r\n      Object.keys(this.pinCodeFormGroup.value).forEach((key) => {\r\n        this.pinCodeValue += this.pinCodeFormGroup.value[key];\r\n      });\r\n      if (this.pinCodeFormGroup.valid) {\r\n        this.isValid = true;\r\n      } else {\r\n        this.isValid = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeyDown($event: any) {\r\n    if ($event.key != 'Backspace') {\r\n      if ($event.target.value.length == 1) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkingPincode() {\r\n    const self = this;\r\n    this.isChecking = true;\r\n    this.loading.present();\r\n    this.apiService.addApartmentToUser(this.pinCodeValue.toUpperCase()).subscribe(\r\n      (result) => {\r\n        self.isError = false;\r\n        self.loading.dismiss();\r\n        self.alertService.presentToast(this.translate.instant('COMMON.message_success'));\r\n        setTimeout(function () {\r\n          self.goToMyHome();\r\n        }, 1000);\r\n      },\r\n      (error) => {\r\n        this.isError = true;\r\n        this.isChecking = false;\r\n        self.loading.dismiss();\r\n        self.alertService.presentToast(this.translate.instant('COMMON.message_fail'));\r\n      }\r\n    );\r\n  }\r\n\r\n  goToMyHome() {\r\n    this.navCtrl.navigateForward('/my-home');\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border add-home-header\">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ 'ADD_HOME.title' | translate }}</ion-label>\r\n  <ion-label class=\"header-sub-title\">{{ 'ADD_HOME.message' | translate }}</ion-label>\r\n</ion-header>\r\n\r\n<ion-content class=\"\">\r\n  <ion-item lines=\"none\" class=\"padding-none margin-none ion-item-pincode\">\r\n    <ion-grid class=\"pinCodeGrid\">\r\n      <form [formGroup]='pinCodeFormGroup' class=\"form-class\">\r\n        <ion-row>\r\n          <ion-col *ngFor=\"let controlItem of this.pinCodeArray;let i = index;let last=last\" class=\"pincode-col\">\r\n            <input ng-pattern=\"/^[0-9]*$/\" ng-maxlength=\"1\" maxlength=\"1\" class=\"pinCodeInput\" type=\"number\"\r\n              formControlName=\"{{controlItem}}\" (keyup)=\"onKeyUp($event,controlItem, i)\" (keydown)=\"onKeyDown($event)\" />\r\n          </ion-col>\r\n        </ion-row>\r\n      </form>\r\n    </ion-grid>\r\n  </ion-item>\r\n\r\n  <ion-button (click)=\"checkingPincode()\" expand=\"block\" class=\"\"\r\n    [ngClass]=\"!isValid ? 'button-common login-button' : 'button-common login-button button-common-active'\" [disabled]=\"!isValid\">\r\n    <ion-label>{{ 'ADD_HOME.btn_done' | translate }}</ion-label>\r\n  </ion-button>\r\n</ion-content>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n\r\nimport { AddHomePage } from './add-home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddHomePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class AddHomePageRoutingModule {}\r\n"]}