{"version":3,"sources":["webpack:///src/app/pages/add-request/add-request.module.ts","webpack:///src/app/pages/add-request/add-request.page.ts","webpack:///src/app/pages/add-request/add-request.page.html"],"names":["routes","path","component","AddRequestPageModule","forChild","imports","providers","declarations","src","AddRequestPage","modalController","translate","camera","platform","actionSheetController","navCtrl","apiService","loading","authService","alertService","croppedImagepath","departmentID","departmentName","form_apartment_class","listImage","list_image_select","isErrorFormType","isErrorTitle","isErrorMessage","isErrorDepartmentID","imagePickerOptions","maximumImagesCount","quality","hasBaseDropZoneOver","blobToFile","theBlob","fileName","b","lastModifiedDate","Date","name","ready","then","readySource","widthListScreen","width","form_type","form_type_class","getUserApar","list_image","flag_show_all_image","breakListImage","event","self","index","list_image_1","number_of_image","length","i","push","forEach","element","splice","apartmentID","present","getFeedbackCategory","subscribe","result","listTopic","feedbackCategories","dismiss","error","getListUserApartment","listDepartment","userApartments","apartment","_id","title","campaign","media","url","dataURI","byteString","window","atob","arrayBuffer","ArrayBuffer","int8Array","Uint8Array","charCodeAt","blob","Blob","type","sourceType","pickImage","options","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","targetWidth","targetHeight","correctOrientation","getPicture","imageData","base64Define","binaryBlob","convertBase64ToBlob","date","valueOf","formData","FormData","myFile","payload","append","uploadImage","convertListImage","err","base64","info","getInfoFromBase64","sliceSize","byteCharacters","rawBase64","byteArrays","offset","slice","byteNumbers","Array","mime","meta","split","replace","exec","extension","create","header","instant","buttons","text","handler","checkPicturePermission","PictureSourceType","PHOTOLIBRARY","CAMERA","role","actionSheet","message","list_attachment","image","department","find","item","params","category","content","attachments","addFeedbackNew","registrationSuccessModal","presentToast","componentProps","modal","ionChangePulldownDepartment","ionChangePulldown1","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-add-request-add-request-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddRequestPage } from './add-request.page';\r\nimport { Camera } from '@ionic-native/Camera/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddRequestPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  providers: [Camera,File],\r\n  declarations: [AddRequestPage]\r\n})\r\nexport class AddRequestPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/Camera/ngx';\r\n// import { File, IWriteOptions, FileEntry } from '@ionic-native/file/ngx';\r\nimport { ActionSheetController, Platform, NavController, ModalController } from '@ionic/angular';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n// import { Diagnostic } from '@ionic-native/diagnostic/ngx';\r\n\r\nimport { PopupSelectApartmentPage } from '../popup-select-apartment/popup-select-apartment.page';\r\nimport { PopupRegistrationSuccessPage } from '../popup-registration-success/popup-registration-success.page';\r\n\r\n@Component({\r\n  selector: 'app-add-request',\r\n  templateUrl: './add-request.page.html',\r\n  styleUrls: ['./add-request.page.scss'],\r\n})\r\nexport class AddRequestPage implements OnInit {\r\n  croppedImagepath = '';\r\n  departmentID = '';\r\n  departmentName: string = '';\r\n  form_apartment_class = '';\r\n  listDepartment: any;\r\n  userName: string;\r\n  listTopic: any;\r\n  title: string;\r\n  message: string;\r\n  widthListScreen: number;\r\n  listImage: any[] = [];\r\n  number_of_image: any;\r\n  list_image: any;\r\n  list_image_1: any;\r\n  flag_show_all_image: any;\r\n  list_image_select: any[] = [];\r\n  isErrorFormType: boolean = false;\r\n  isErrorTitle: boolean = false;\r\n  isErrorMessage: boolean = false;\r\n  isErrorDepartmentID: boolean = false;\r\n  form_type: any;\r\n  form_type_class: any;\r\n\r\n  imagePickerOptions = {\r\n    maximumImagesCount: 1,\r\n    quality: 50,\r\n  };\r\n\r\n  hasBaseDropZoneOver: boolean = false;\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private translate: TranslateService,\r\n    private camera: Camera,\r\n    private platform: Platform,\r\n    // private diagnostic: Diagnostic,\r\n    public actionSheetController: ActionSheetController,\r\n    // private file: File,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n    private loading: LoadingService,\r\n    private authService: AuthService,\r\n    private alertService: AlertService\r\n  ) {\r\n    platform.ready().then((readySource) => {\r\n      this.widthListScreen = platform.width() * 0.8;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form_type = '';\r\n    this.form_type_class = '';\r\n    this.getUserApar();\r\n    this.list_image = [];\r\n    this.flag_show_all_image = false;\r\n    this.breakListImage();\r\n  }\r\n  ionChangePulldown1(event) {\r\n    if (this.form_type != '') {\r\n      this.form_type_class = 'has-input-value';\r\n    } else {\r\n      this.form_type_class = '';\r\n    }\r\n  }\r\n  breakListImage() {\r\n    var self = this;\r\n    var index = 0;\r\n    this.list_image_1 = [];\r\n    this.number_of_image = self.list_image.length;\r\n    for (var i = 0; i < self.number_of_image; i++) {\r\n      self.list_image[i].index = index;\r\n      index++;\r\n      if (index < 5) {\r\n        self.list_image_1.push(self.list_image[i]);\r\n      }\r\n    }\r\n  }\r\n  deleteImageToList(index) {\r\n    var self = this;\r\n    this.list_image.forEach((element) => {\r\n      if (element.index == index) {\r\n        self.list_image.splice(index, 1);\r\n      }\r\n    });\r\n    this.breakListImage();\r\n  }\r\n  showAllImage() {\r\n    this.flag_show_all_image = true;\r\n  }\r\n  eventButtonClosePopupImage() {\r\n    this.flag_show_all_image = false;\r\n  }\r\n  getFeedbackCategory(apartmentID: string) {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getFeedbackCategory(apartmentID).subscribe(\r\n      (result) => {\r\n        self.listTopic = result.feedbackCategories;\r\n        self.loading.dismiss();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n      }\r\n    );\r\n  }\r\n\r\n  getUserApar() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getListUserApartment().subscribe(\r\n      (result) => {\r\n        self.listDepartment = result.userApartments;\r\n        if (self.listDepartment.length > 0) {\r\n          self.departmentID = self.listDepartment[0].apartment._id;\r\n          self.departmentName = self.listDepartment[0].apartment.title + ' - ' + self.listDepartment[0].campaign.title;\r\n          this.form_apartment_class = 'has-input-value';\r\n          self.getFeedbackCategory(self.departmentID);\r\n        }\r\n        self.loading.dismiss();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n      }\r\n    );\r\n  }\r\n\r\n  convertListImage() {\r\n    var self = this;\r\n    for (var i = 0; i < self.list_image_select.length; i++) {\r\n      self.list_image.push({\r\n        index: 0,\r\n        src: self.list_image_select[i].media.url,\r\n        media: self.list_image_select[i].media,\r\n      });\r\n    }\r\n    self.list_image_select = [];\r\n    self.breakListImage();\r\n  }\r\n\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  checkPicturePermission(sourceType: PictureSourceType) {\r\n    this.pickImage(sourceType);\r\n  }\r\n\r\n  blobToFile = (theBlob: Blob, fileName: string): any => {\r\n    var b: any = theBlob;\r\n    //A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n    b.lastModifiedDate = new Date();\r\n    b.name = fileName;\r\n\r\n    //Cast to a File() type\r\n    return theBlob;\r\n  };\r\n\r\n  pickImage(sourceType) {\r\n    var self = this;\r\n    const options: CameraOptions = {\r\n      quality: 80,\r\n      sourceType: sourceType,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      targetWidth: 800,\r\n      targetHeight: 800,\r\n      correctOrientation: true,\r\n    };\r\n\r\n    this.camera.getPicture(options).then(\r\n      (imageData) => {\r\n        const base64Define = 'data:image/jpeg;base64,';\r\n        var binaryBlob = this.convertBase64ToBlob(base64Define + imageData);\r\n        const date = new Date().valueOf();\r\n        const formData = new FormData();\r\n        var fileName = 'amoapp' + date + '.jpg';\r\n        var myFile = self.blobToFile(binaryBlob, fileName);\r\n        const payload = new FormData();\r\n        payload.append('media', binaryBlob, fileName);\r\n        this.loading.present();\r\n        this.apiService.uploadImage(payload).subscribe(\r\n          (result) => {\r\n            self.loading.dismiss();\r\n            self.list_image_select.push(result);\r\n            self.convertListImage();\r\n          },\r\n          (error) => {\r\n            self.loading.dismiss();\r\n          }\r\n        );\r\n      },\r\n      (err) => {\r\n        // Handle error\r\n        // alert(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  private convertBase64ToBlob(base64: string) {\r\n    const info = this.getInfoFromBase64(base64);\r\n    const sliceSize = 512;\r\n    const byteCharacters = window.atob(info.rawBase64);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n      const byteNumbers = new Array(slice.length);\r\n\r\n      for (let i = 0; i < slice.length; i++) {\r\n        byteNumbers[i] = slice.charCodeAt(i);\r\n      }\r\n\r\n      byteArrays.push(new Uint8Array(byteNumbers));\r\n    }\r\n\r\n    return new Blob(byteArrays, { type: info.mime });\r\n  }\r\n\r\n  private getInfoFromBase64(base64: string) {\r\n    const meta = base64.split(',')[0];\r\n    const rawBase64 = base64.split(',')[1].replace(/\\s/g, '');\r\n    const mime = /:([^;]+);/.exec(meta)[1];\r\n    const extension = /\\/([^;]+);/.exec(meta)[1];\r\n\r\n    return {\r\n      mime,\r\n      extension,\r\n      meta,\r\n      rawBase64,\r\n    };\r\n  }\r\n\r\n  async selectImage() {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: this.translate.instant('COMMON.form_select_image_title'),\r\n      buttons: [\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_library'),\r\n          handler: () => {\r\n            this.checkPicturePermission(this.camera.PictureSourceType.PHOTOLIBRARY);\r\n          },\r\n        },\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_camera'),\r\n          handler: () => {\r\n            this.checkPicturePermission(this.camera.PictureSourceType.CAMERA);\r\n          },\r\n        },\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_cancel'),\r\n          role: 'cancel',\r\n        },\r\n      ],\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n\r\n  checkActiveButton() {\r\n    var self = this;\r\n    if (this.form_type && this.form_type.length > 0) {\r\n      this.isErrorFormType = false;\r\n    } else {\r\n      this.isErrorFormType = true;\r\n    }\r\n\r\n    if (this.title && this.title.length > 0) {\r\n      this.isErrorTitle = false;\r\n    } else {\r\n      this.isErrorTitle = true;\r\n    }\r\n\r\n    if (this.message && this.message.length > 0) {\r\n      this.isErrorMessage = false;\r\n    } else {\r\n      this.isErrorMessage = true;\r\n    }\r\n\r\n    if (this.departmentID && this.departmentID.length > 0) {\r\n      this.isErrorDepartmentID = false;\r\n    } else {\r\n      this.isErrorDepartmentID = true;\r\n    }\r\n\r\n    if (this.isErrorMessage || this.isErrorFormType || this.isErrorTitle || this.isErrorDepartmentID) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  pushRequestToServer() {\r\n    var self = this;\r\n\r\n    let list_attachment = [];\r\n    self.list_image.forEach((image) => {\r\n      list_attachment.push(image.media);\r\n    });\r\n\r\n    const department = this.listDepartment.find(item => item.apartment._id == this.departmentID);\r\n    const params = {\r\n      category: this.form_type,\r\n      title: this.title,\r\n      content: this.message,\r\n      attachments: list_attachment,\r\n      apartment: this.departmentID,\r\n      type: 'None',\r\n      campaign: department.campaign._id,\r\n    };\r\n\r\n    this.loading.present();\r\n    this.apiService.addFeedbackNew(params)\r\n      .subscribe(result => {\r\n        self.loading.dismiss();\r\n        // self.alertService.presentToast(this.translate.instant('ADD_REQUEST.message_add_request_sucess'));\r\n        // self.navCtrl.back();\r\n        this.registrationSuccessModal();\r\n      },\r\n      error => {\r\n        self.loading.dismiss();\r\n        self.alertService.presentToast(this.translate.instant('ADD_REQUEST.message_add_request_fail'));\r\n      }\r\n    );\r\n  }\r\n  async registrationSuccessModal() {\r\n    const modal = await this.modalController.create({\r\n      component: PopupRegistrationSuccessPage,\r\n      componentProps: {\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  ionChangePulldownDepartment(event) {\r\n    if (this.departmentID != '') {\r\n      this.form_apartment_class = 'has-input-value';\r\n    } else {\r\n      this.form_apartment_class = '';\r\n    }\r\n    this.getFeedbackCategory(this.departmentID);\r\n    this.form_type = '';\r\n    this.form_type_class = '';\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ 'ADD_REQUEST.title' | translate }}</ion-label>\r\n  <ion-label class=\"header-sub-title\">{{ 'ADD_REQUEST.sub_title' | translate }}</ion-label>\r\n</ion-header>\r\n\r\n<ion-content class=\"reflect-screen-content\">\r\n  <!-- <ion-item class=\"input-item margin-top-10\" lines=\"none\" (click)=\"selectApartmentModal()\">\r\n      <ion-icon class=\"input-icon\" name=\"custom-apartment\" src=\"../assets/icon/request/home.svg\" slot=\"start\"></ion-icon>\r\n      <ion-label class=\"input-floating-label\" position=\"floating\">{{ 'ADD_REQUEST.apartment' | translate }}</ion-label>\r\n      <ion-input class=\"input-text pointer-events-none\" type=\"text\" value=\"{{departmentName}}\"></ion-input>\r\n      <ion-icon class=\"select-icon\" name=\"caret-down-outline\" slot=\"end\"></ion-icon>\r\n    </ion-item> -->\r\n\r\n  <ion-item lines=\"none\" class=\"input-item margin-top-10\">\r\n    <img class=\"icon-pulldown-left\" src=\"../assets/icon/request/home.svg\" />\r\n    <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n    <label *ngIf=\"departmentID != ''\" class=\"pulldown-customize-placeholder\">{{ 'REGISTRATION_GUEST.apartment' | translate }}</label>\r\n    <div class=\"width-100 {{form_apartment_class}}\">\r\n      <ion-select class=\"pulldown-customize\" placeholder=\"{{ 'REGISTRATION_GUEST.apartment_placeholder' | translate }}\"\r\n        interface=\"action-sheet\" name=\"form_apartment_id\" [(ngModel)]=\"departmentID\" (ionChange)=\"ionChangePulldownDepartment($event)\">\r\n        <ion-select-option *ngFor=\"let item of listDepartment\" value=\"{{item.apartment._id}}\">{{item.apartment.title + ' - ' +\r\n          item.campaign.title}}</ion-select-option>\r\n      </ion-select>\r\n    </div>\r\n  </ion-item>\r\n  <ion-item class=\"input-item\" lines=\"none\">\r\n    <img class=\"icon-pulldown-left\" src=\"../assets/icon/request/danger.svg\" />\r\n    <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n    <label *ngIf=\"form_type != ''\" class=\"pulldown-customize-placeholder\">{{ 'ADD_REQUEST.category' | translate }}</label>\r\n    <div class=\"width-100 {{form_type_class}}\">\r\n      <ion-select class=\"pulldown-customize\" placeholder=\"{{ 'ADD_REQUEST.category' | translate }}\" interface=\"action-sheet\"\r\n        name=\"form_type\" [(ngModel)]=\"form_type\" (ionChange)=\"ionChangePulldown1($event)\">\r\n        <ion-select-option *ngFor=\"let item of listTopic\" value=\"{{item._id}}\">{{item.title}}</ion-select-option>\r\n      </ion-select>\r\n    </div>\r\n  </ion-item>\r\n  <ion-item class=\"input-item\" lines=\"none\">\r\n    <ion-icon class=\"input-icon\" name=\"custom-user\" src=\"/assets/icon/request/document.svg\" slot=\"start\"></ion-icon>\r\n    <ion-label class=\"input-floating-label\" position=\"floating\">{{ 'ADD_REQUEST.title_request' | translate }}</ion-label>\r\n    <ion-input [(ngModel)]=\"title\" class=\"input-text\" type=\"text\" value=\"\"></ion-input>\r\n  </ion-item>\r\n  <ion-item class=\"textarea-item\" lines=\"none\">\r\n    <ion-textarea [(ngModel)]=\"message\" class=\"note-content\" rows=\"4\" placeholder=\"{{ 'ADD_REQUEST.message_request' | translate }}\">\r\n    </ion-textarea>\r\n  </ion-item>\r\n  <ion-item lines=\"none\" class=\"ion-no-padding\">\r\n    <ion-grid *ngIf=\"number_of_image != 0\" class=\"ion-grid-class\">\r\n      <ion-row>\r\n        <ion-col class=\"ion-col-class\" *ngFor=\"let image of list_image_1\" size=\"4\" size-md>\r\n          <ion-item lines=\"none\" class=\"ion-item-for-image\">\r\n            <img class=\"image-class\" src=\"{{image.src}}\" />\r\n            <button type=\"button\" *ngIf=\"number_of_image <= 4 || image.index < 3\" class=\"close-image-icon\" (click)=\"deleteImageToList(image.index)\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </ion-item>\r\n          <div *ngIf=\"number_of_image > 4 && image.index == 3\" class=\"mask-multiple-image\" (click)=\"showAllImage()\">\r\n            <label>+{{number_of_image - 4}}</label>\r\n          </div>\r\n        </ion-col>\r\n        <ion-col class=\"ion-col-class\" size=\"4\" size-md>\r\n          <ion-item lines=\"none\" class=\"ion-item-for-image ion-item-image-add\" (click)=\"selectImage()\">\r\n            <div class=\"image-add-item\">\r\n              <img class=\"image-class\" src=\"../assets/icon/request/add-image.svg\" />\r\n            </div>\r\n          </ion-item>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n    <ion-item lines=\"none\" class=\"ion-no-padding item-common background-fbfbfb\" *ngIf=\"number_of_image == 0\" (click)=\"selectImage()\">\r\n      <div class=\"reflect-icon-camera\">\r\n        <ion-icon class=\"icon-camera\" src=\"../assets/icon/request/image.svg\"></ion-icon>\r\n        <ion-label class=\"camera-label\">{{ 'ADD_REQUEST.add_image_label' | translate }}</ion-label>\r\n        <ion-label class=\"camera-sub-label\">{{ 'ADD_REQUEST.add_image_sub_label' | translate }}</ion-label>\r\n      </div>\r\n    </ion-item>\r\n  </ion-item>\r\n  <ion-button expand=\"block\" class=\"button-common button-send margin-top-40\" *ngIf=\"!checkActiveButton()\">\r\n    <ion-label>{{ 'ADD_REQUEST.btn_submit' | translate }}</ion-label>\r\n  </ion-button>\r\n  <ion-button (click)=\"pushRequestToServer()\" expand=\"block\" class=\"button-common button-common-active button-send margin-top-40\"\r\n    *ngIf=\"checkActiveButton()\">\r\n    <ion-label>{{ 'ADD_REQUEST.btn_submit' | translate }}</ion-label>\r\n  </ion-button>\r\n\r\n  <div *ngIf=\"flag_show_all_image == true\" class=\"modal-backdrop fade show\"></div>\r\n  <div *ngIf=\"flag_show_all_image == true\" class=\"modal popup-show-full-image\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"eventButtonClosePopupImage()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <div class=\"div-header-title\">\r\n            <!-- <label>{{ 'INBOX_29.popup_header_title' | translate }}</label> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <ion-item lines=\"none\" class=\"area-show-image\" id=\"area-show-image\">\r\n            <ion-grid>\r\n              <ion-row>\r\n                <ion-col class=\"ion-col-class\" *ngFor=\"let image of list_image\" size=\"4\" size-md>\r\n                  <ion-item lines=\"none\" class=\"ion-item-for-image\">\r\n                    <img class=\"image-class\" src=\"{{image.src}}\" />\r\n                    <button type=\"button\" class=\"close-image-icon\" (click)=\"deleteImageToList(image.index)\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </ion-item>\r\n                </ion-col>\r\n                <ion-col class=\"ion-col-class\" size=\"4\" size-md>\r\n                  <ion-item lines=\"none\" class=\"ion-item-for-image ion-item-image-add\" (click)=\"selectImage()\">\r\n                    <div class=\"image-add-item\">\r\n                      <img class=\"image-class\" src=\"../assets/icon/request/add-image.svg\" />\r\n                    </div>\r\n                  </ion-item>\r\n                </ion-col>\r\n              </ion-row>\r\n            </ion-grid>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ion-content>"]}