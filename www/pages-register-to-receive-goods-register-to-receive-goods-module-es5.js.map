{"version":3,"sources":["webpack:///src/app/pages/register-to-receive-goods/register-to-receive-goods.module.ts","webpack:///src/app/pages/register-to-receive-goods/register-to-receive-goods.page.html","webpack:///src/app/pages/register-to-receive-goods/register-to-receive-goods.page.ts"],"names":["routes","path","component","RegisterToReceiveGoodsPageModule","forChild","imports","declarations","src","RegisterToReceiveGoodsPage","modalController","camera","actionSheetController","loading","platform","navCtrl","apiService","translate","alertService","list_image_select","blobToFile","theBlob","fileName","b","lastModifiedDate","Date","name","ready","then","readySource","heightScreen","height","listDepartmentByID","receiverInfor","getListApartment","check_box_1","check_box_2","tip_value","show_popup_tip","form_apartment_id","form_apartment_class","form_money_payment","form_money_payment_class","form_money_tip","form_money_tip_value","form_money_tip_class","list_image","flag_show_all_image","form_date_time","form_date_time_class","breakListImage","self","index","list_image_1","number_of_image","length","i","push","forEach","element","splice","event","present","getListUserApartment","subscribe","result","listDepartment","userApartments","campaign","settingRequestReceiver","data","apartment","_id","dismiss","error","value","media","url","dataApartment","list_attachment","image","params","title","instant","content","attachments","type","receiverPaymentHelps","receiverPaymentHelpsValue","receiverPaymentTip","receiverPaymentTipValue","receiverDate","addFeedbackNew","registrationSuccessModal","presentToast","create","componentProps","modal","header","buttons","text","handler","checkPicturePermission","PictureSourceType","PHOTOLIBRARY","CAMERA","role","actionSheet","sourceType","pickImage","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","targetWidth","targetHeight","correctOrientation","getPicture","imageData","base64Define","binaryBlob","convertBase64ToBlob","date","valueOf","formData","FormData","myFile","payload","append","uploadImage","convertListImage","err","base64","info","getInfoFromBase64","sliceSize","byteCharacters","window","atob","rawBase64","byteArrays","offset","slice","byteNumbers","Array","charCodeAt","Uint8Array","Blob","mime","meta","split","replace","exec","extension","ionChangePulldown1","ionChangeDateTime","ionChangeCheckBox1","ionchangTextBoxPayment1","ionChangeCheckBox2","eventButtonRegisterNew","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-register-to-receive-goods-register-to-receive-goods-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n\r\nimport { RegisterToReceiveGoodsPage } from './register-to-receive-goods.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterToReceiveGoodsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RegisterToReceiveGoodsPage]\r\n})\r\nexport class RegisterToReceiveGoodsPageModule {}\r\n","<ion-header class=\"ion-no-border receive-goods-header\">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ 'INBOX_29.title' | translate }}</ion-label>\r\n  <ion-label class=\"header-sub-title\">{{ 'INBOX_29.sub_title' | translate }}</ion-label>\r\n</ion-header>\r\n\r\n<ion-content class=\"register-receiver-content\">\r\n  <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding margin-top-10\">\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/home.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_apartment_id != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_29.apartment_placeHolder_1' | translate }}</label>\r\n        <div class=\"width-100 {{form_apartment_class}}\">\r\n          <ion-select class=\"pulldown-apartment-select\" placeholder=\"{{ 'INBOX_29.apartment_placeHolder_2' | translate }}\"\r\n            interface=\"action-sheet\" name=\"form_apartment_id\" [(ngModel)]=\"form_apartment_id\" (ionChange)=\"ionChangePulldown1($event)\">\r\n            <ion-select-option *ngFor=\"let item of listDepartment\" value=\"{{item.apartment._id}}\">\r\n              {{item.apartment.title + ' - ' +item.campaign.title}}\r\n            </ion-select-option>\r\n          </ion-select>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/time.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_date_time != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_29.date_time_placeHolder' | translate }}</label>\r\n        <div class=\"width-100 {{form_date_time_class}}\">\r\n          <ion-datetime placeholder=\"{{ 'INBOX_29.date_time_placeHolder' | translate }}\" class=\"pulldown-apartment-select\"\r\n            name=\"form_date_time\" [(ngModel)]=\"form_date_time\" displayFormat=\"DD/MM/YYYY HH:mm\" (ionChange)=\"ionChangeDateTime($event)\"\r\n            min=\"2000\" max=\"2050\">\r\n          </ion-datetime>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-text-area\">\r\n        <ion-textarea [(ngModel)]=\"receiverInfor\" class=\"text-area-1\" rows=\"4\" cols=\"20\"\r\n          placeholder=\"{{ 'INBOX_29.inf_product_placeHolder' | translate }}\"></ion-textarea>\r\n      </ion-item>\r\n    </ion-item>\r\n    <ion-item lines=\"none\">\r\n      <ion-grid *ngIf=\"number_of_image != 0\" class=\"ion-grid-class\">\r\n        <ion-row>\r\n          <ion-col class=\"ion-col-class\" *ngFor=\"let image of list_image_1\" size=\"4\" size-md>\r\n            <ion-item lines=\"none\" class=\"ion-item-for-image\">\r\n              <img class=\"image-class\" src=\"{{image.src}}\" />\r\n              <button *ngIf=\"number_of_image <= 4 || image.index < 3\" type=\"button\" class=\"close-image-icon\" (click)=\"deleteImageToList(image.index)\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </ion-item>\r\n            <div *ngIf=\"number_of_image > 4 && image.index == 3\" class=\"mask-multiple-image\" (click)=\"showAllImage()\">\r\n              <label>+{{number_of_image - 4}}</label>\r\n            </div>\r\n          </ion-col>\r\n          <ion-col class=\"ion-col-class\" size=\"4\" size-md>\r\n            <ion-item lines=\"none\" class=\"ion-item-for-image ion-item-image-add\" (click)=\"selectImage()\">\r\n              <div class=\"image-add-item\">\r\n                <img class=\"image-class\" src=\"../assets/icon/request/add-image.svg\" />\r\n              </div>\r\n            </ion-item>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n      <ion-item lines=\"none\" class=\"ion-no-padding item-photo-grap background-fbfbfb\" *ngIf=\"number_of_image == 0\" (click)=\"selectImage()\">\r\n        <div class=\"icon-camera-container\">\r\n          <ion-icon class=\"icon-camera\" src=\"../assets/icon/request/image.svg\"></ion-icon>\r\n          <ion-label class=\"camera-label\">{{ 'INBOX_29.add_image_label' | translate }}</ion-label>\r\n          <ion-label class=\"camera-sub-label\">{{ 'INBOX_29.add_image_sub_label' | translate }}</ion-label>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n\r\n    <div class=\"devider-line-custom margin-top-20\"></div>\r\n\r\n    <ion-item lines=\"none\" class=\"margin-top-10\">\r\n      <ion-checkbox class=\"margin-left-20 checkbox-common\" color=\"secondary\" mode=\"md\" (ionChange)=\"ionChangeCheckBox1()\"></ion-checkbox>\r\n      <label class=\"checkbox-label margin-top-10 margin-left-10\">{{ 'INBOX_29.checkbox_support_payment' | translate }}</label>\r\n    </ion-item>\r\n    <ion-item lines=\"none\" class=\"pointer-events-all\">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img *ngIf=\"check_box_1 == true\" class=\"icon-dollar-active\" src=\"../assets/icon/svg/icon-dollar.svg\" />\r\n        <img *ngIf=\"check_box_1 == false\" class=\"icon-dollar\" src=\"../assets/icon/svg/icon-dollar.svg\" />\r\n        <label *ngIf=\"form_money_payment != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_29.input_payment_placeHolder_2' | translate\r\n          }}</label>\r\n        <div class=\"width-100 {{form_money_payment_class}}\">\r\n          <ion-input type=\"text\" class=\"text-box-1\" type=\"number\" placeholder=\"{{ 'INBOX_29.input_payment_placeHolder_1' | translate }}\"\r\n            value=\"{{form_money_payment}}\" (ionChange)=\"ionchangTextBoxPayment1()\" [(ngModel)]=\"form_money_payment\"\r\n            disabled={{!check_box_1}}>\r\n          </ion-input>\r\n        </div>\r\n        <!-- <label *ngIf=\"check_box_1 == true\" class=\"{{form_money_payment_class}} label-1-active\">VNĐ</label>\r\n          <label *ngIf=\"check_box_1 == false\" class=\"{{form_money_payment_class}} label-1\">VNĐ</label> -->\r\n      </ion-item>\r\n    </ion-item>\r\n\r\n    <ion-item lines=\"none\">\r\n      <ion-checkbox class=\"margin-left-20 checkbox-common\" color=\"secondary\" mode=\"md\" (ionChange)=\"ionChangeCheckBox2()\"></ion-checkbox>\r\n      <label class=\"checkbox-label margin-top-10 margin-left-10\">{{ 'INBOX_29.checkbox_money_tip' | translate }}</label>\r\n    </ion-item>\r\n    <ion-item lines=\"none\" class=\"pointer-events-all\">\r\n      <ion-item lines=\"none\" class=\"item-common no-border\">\r\n        <div class=\"group-button-tip group-active\" *ngIf=\"check_box_2 == true\">\r\n          <button (click)=\"selectTip(1)\" class=\"button-tip button-tip-size\" *ngIf=\"tip_value != 1\"><label>10K</label></button>\r\n          <button (click)=\"selectTip(1)\" class=\"button-tip-active button-tip-size\" *ngIf=\"tip_value == 1\"><label>10K</label></button>\r\n          <button (click)=\"selectTip(2)\" class=\"button-tip button-tip-size\" *ngIf=\"tip_value != 2\"><label>20K</label></button>\r\n          <button (click)=\"selectTip(2)\" class=\"button-tip-active button-tip-size\" *ngIf=\"tip_value == 2\"><label>20K</label></button>\r\n          <button (click)=\"selectTip(3)\" class=\"button-tip button-tip-size\" *ngIf=\"tip_value != 3\"><label>30K</label></button>\r\n          <button (click)=\"selectTip(3)\" class=\"button-tip-active button-tip-size\" *ngIf=\"tip_value == 3\"><label>30K</label></button>\r\n          <button (click)=\"presentModal(4)\" class=\"button-tip button-tip-other\" *ngIf=\"tip_value != 4\">\r\n            <label *ngIf=\"form_money_tip_value == ''\">{{ 'INBOX_29.select_other' | translate }}</label>\r\n            <label *ngIf=\"form_money_tip_value != ''\">{{form_money_tip_value}}</label>\r\n            <img class=\"ion-edit\" src=\"../assets/icon/svg/Edit.svg\" />\r\n          </button>\r\n          <button (click)=\"presentModal(4)\" class=\"button-tip-active button-tip-other\" *ngIf=\"tip_value == 4\">\r\n            <label *ngIf=\"form_money_tip_value == ''\">{{ 'INBOX_29.select_other' | translate }}</label>\r\n            <label *ngIf=\"form_money_tip_value != ''\">{{form_money_tip_value}}</label>\r\n            <img class=\"ion-edit\" src=\"../assets/icon/svg/Edit.svg\" />\r\n          </button>\r\n        </div>\r\n        <div class=\"group-button-tip group-inactive\" *ngIf=\"check_box_2 == false\">\r\n          <button class=\"button-tip button-tip-size\" disabled><label>10K</label></button>\r\n          <button class=\"button-tip button-tip-size\" disabled><label>20K</label></button>\r\n          <button class=\"button-tip button-tip-size\" disabled><label>30K</label></button>\r\n          <button class=\"button-tip button-tip-other\" disabled>\r\n            <label *ngIf=\"form_money_tip_value == ''\">{{ 'INBOX_29.select_other' | translate }}</label>\r\n            <label *ngIf=\"form_money_tip_value != ''\">{{form_money_tip_value}}</label>\r\n            <img class=\"ion-edit\" src=\"../assets/icon/svg/Edit.svg\" />\r\n          </button>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <!-- <ion-item lines=\"none\">\r\n        <ion-item lines=\"none\" class=\"item-common margin-top-20\">\r\n          <ion-textarea [(ngModel)]=\"form_note\" class=\"text-area-1\" rows=\"4\" cols=\"20\"\r\n            placeholder=\"{{ 'INBOX_29.note_placeHolder' | translate }}\"></ion-textarea>\r\n        </ion-item>\r\n      </ion-item> -->\r\n  </ion-list>\r\n  <section class=\"full-width function-section\">\r\n    <ion-button expand=\"block\" class=\"amo-button-custom inactive_button {{checkActiveButton()}}\">{{ 'INBOX_29.button_send' | translate }}\r\n    </ion-button>\r\n    <ion-button expand=\"block\" class=\"amo-button-custom active_button {{checkActiveButton()}}\" (click)=\"eventButtonRegisterNew()\">{{\r\n      'INBOX_29.button_send' | translate }}</ion-button>\r\n  </section>\r\n  <div *ngIf=\"show_popup_tip == true\" class=\"modal-backdrop fade show\"></div>\r\n  <div *ngIf=\"show_popup_tip == true\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"eventButtonClosePopup()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <div class=\"div-header-title\">\r\n            <label>{{ 'INBOX_29.popup_header_title' | translate }}</label>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <ion-item lines=\"none\" class=\"popup-item-input\">\r\n            <img class=\"icon-dollar-active\" src=\"../assets/icon/svg/icon-dollar.svg\" />\r\n            <label *ngIf=\"form_money_tip != ''\" class=\"pulldown-1-placeholder\">{{ 'INBOX_29.input_tip_placeHolder_2' | translate\r\n              }}</label>\r\n            <div class=\"width-100 {{form_money_tip_class}}\">\r\n              <ion-input class=\"text-box-1\" type=\"number\" placeholder=\"{{ 'INBOX_29.input_tip_placeHolder_1' | translate }}\"\r\n                value=\"{{form_money_tip}}\" (ionChange)=\"ionchangTextBoxTip1()\" [(ngModel)]=\"form_money_tip\">\r\n              </ion-input>\r\n            </div>\r\n            <label class=\"{{form_money_tip_class}} label-1-active\">VNĐ</label>\r\n          </ion-item>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn popup-btn-ok\" data-dismiss=\"modal\" (click)=\"eventButtonSavePopup()\">{{\r\n            'INBOX_29.popup_button_save' | translate }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"flag_show_all_image == true\" class=\"modal-backdrop fade show\"></div>\r\n  <div *ngIf=\"flag_show_all_image == true\" class=\"modal popup-show-full-image\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"eventButtonClosePopupImage()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <div class=\"div-header-title\">\r\n            <!-- <label>{{ 'INBOX_29.popup_header_title' | translate }}</label> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <ion-item lines=\"none\" class=\"area-show-image\" id=\"area-show-image\">\r\n            <ion-grid>\r\n              <ion-row>\r\n                <ion-col class=\"ion-col-class\" *ngFor=\"let image of list_image\" size=\"4\" size-md>\r\n                  <ion-item lines=\"none\" class=\"ion-item-for-image\">\r\n                    <img class=\"image-class\" src=\"{{image.src}}\" />\r\n                    <button type=\"button\" class=\"close-image-icon\" (click)=\"deleteImageToList(image.index)\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </ion-item>\r\n                </ion-col>\r\n                <ion-col class=\"ion-col-class\" size=\"4\" size-md>\r\n                  <ion-item lines=\"none\" class=\"ion-item-for-image ion-item-image-add\" (click)=\"selectImage()\">\r\n                    <div class=\"image-add-item\">\r\n                      <img class=\"image-class\" src=\"../assets/icon/request/add-image.svg\" />\r\n                    </div>\r\n                  </ion-item>\r\n                </ion-col>\r\n              </ion-row>\r\n            </ion-grid>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ion-content>","import { Component, OnInit } from '@angular/core';\r\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/Camera/ngx';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ActionSheetController, Platform, NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { PopupRegistrationSuccessPage } from '../popup-registration-success/popup-registration-success.page';\r\n\r\n@Component({\r\n  selector: 'app-register-to-receive-goods',\r\n  templateUrl: './register-to-receive-goods.page.html',\r\n  styleUrls: ['./register-to-receive-goods.page.scss'],\r\n})\r\nexport class RegisterToReceiveGoodsPage implements OnInit {\r\n  heightScreen: number;\r\n  listDepartmentByID: any;\r\n  listDepartment: any;\r\n  receiverInfor: any;\r\n  check_box_1: boolean;\r\n  check_box_2: boolean;\r\n  tip_value: any;\r\n  show_popup_tip: any;\r\n  form_apartment_id: any;\r\n  form_apartment_class: any;\r\n  form_money_tip_value: any;\r\n  form_money_tip: any;\r\n  form_money_tip_class: any;\r\n  form_money_payment: any;\r\n  form_money_payment_class: any;\r\n  list_image_select: any[] = [];\r\n  list_image: any;\r\n  list_image_1: any;\r\n  number_of_image: any;\r\n  flag_show_all_image: any;\r\n  // form_note: any;\r\n  form_date_time: any;\r\n  form_date_time_class: any;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private camera: Camera,\r\n    public actionSheetController: ActionSheetController,\r\n    private loading: LoadingService,\r\n    private platform: Platform,\r\n    private navCtrl: NavController,\r\n    private apiService: ApiService,\r\n    private translate: TranslateService,\r\n    private alertService: AlertService\r\n  ) {\r\n    platform.ready().then((readySource) => {\r\n      this.heightScreen = platform.height() * 0.58 - 18;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.listDepartmentByID = {};\r\n    this.receiverInfor = '';\r\n    this.getListApartment();\r\n    this.check_box_1 = false;\r\n    this.check_box_2 = false;\r\n    this.tip_value = 1;\r\n    this.show_popup_tip = false;\r\n    this.form_apartment_id = '';\r\n    this.form_apartment_class = '';\r\n    this.form_money_payment = '';\r\n    this.form_money_payment_class = '';\r\n    this.form_money_tip = '';\r\n    this.form_money_tip_value = '';\r\n    this.form_money_tip_class = '';\r\n    this.list_image = [];\r\n    this.flag_show_all_image = false;\r\n    // this.form_note = \"\";\r\n    this.form_date_time = '';\r\n    this.form_date_time_class = '';\r\n\r\n    this.breakListImage();\r\n  }\r\n  breakListImage() {\r\n    var self = this;\r\n    var index = 0;\r\n    this.list_image_1 = [];\r\n    this.number_of_image = self.list_image.length;\r\n    for (var i = 0; i < self.number_of_image; i++) {\r\n      self.list_image[i].index = index;\r\n      index++;\r\n      if (index < 5) {\r\n        self.list_image_1.push(self.list_image[i]);\r\n      }\r\n    }\r\n  }\r\n  deleteImageToList(index) {\r\n    var self = this;\r\n    this.list_image.forEach((element) => {\r\n      if (element.index == index) {\r\n        self.list_image.splice(index, 1);\r\n      }\r\n    });\r\n    this.breakListImage();\r\n  }\r\n  showAllImage() {\r\n    this.flag_show_all_image = true;\r\n  }\r\n  eventButtonClosePopupImage() {\r\n    this.flag_show_all_image = false;\r\n  }\r\n  ionChangePulldown1(event) {\r\n    if (this.form_apartment_id != '') {\r\n      this.form_apartment_class = 'has-input-value';\r\n    } else {\r\n      this.form_apartment_class = '';\r\n    }\r\n  }\r\n  ionchangTextBoxPayment1() {\r\n    if (this.form_money_payment != '') {\r\n      this.form_money_payment_class = 'has-input-value';\r\n    } else {\r\n      this.form_money_payment_class = '';\r\n    }\r\n  }\r\n  ionchangTextBoxTip1() {\r\n    if (this.form_money_tip != '') {\r\n      this.form_money_tip_class = 'has-input-value';\r\n    } else {\r\n      this.form_money_tip_class = '';\r\n    }\r\n  }\r\n\r\n  getListApartment() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getListUserApartment().subscribe(\r\n      (result) => {\r\n        self.listDepartment = []\r\n        for(var i =0;i<result.userApartments.length;i++){\r\n          if(result.userApartments[i].campaign.settingRequestReceiver == \"active\"){\r\n            self.listDepartment.push(result.userApartments[i]);\r\n          }\r\n        }\r\n\r\n        // self.listDepartment = result.userApartments;\r\n        self.listDepartment.forEach((data, index) => {\r\n          if(index == 0) {\r\n            this.form_apartment_id = data.apartment._id;\r\n            this.form_apartment_class = 'has-input-value';\r\n          }\r\n          self.listDepartmentByID[data.apartment._id] = data;\r\n        });\r\n        self.loading.dismiss();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n      }\r\n    );\r\n  }\r\n  ionChangeCheckBox1() {\r\n    this.check_box_1 = !this.check_box_1;\r\n  }\r\n  ionChangeCheckBox2() {\r\n    this.check_box_2 = !this.check_box_2;\r\n  }\r\n  selectTip(value) {\r\n    this.tip_value = value;\r\n  }\r\n  presentModal(value) {\r\n    this.tip_value = value;\r\n    this.show_popup_tip = true;\r\n  }\r\n  eventButtonClosePopup() {\r\n    this.show_popup_tip = false;\r\n  }\r\n  eventButtonSavePopup() {\r\n    this.show_popup_tip = false;\r\n    this.form_money_tip_value = this.form_money_tip;\r\n  }\r\n  ionChangeDateTime(event) {\r\n    if (this.form_date_time != '') {\r\n      this.form_date_time_class = 'has-input-value';\r\n    } else {\r\n      this.form_date_time_class = '';\r\n    }\r\n  }\r\n  convertListImage() {\r\n    var self = this;\r\n    for (var i = 0; i < self.list_image_select.length; i++) {\r\n      self.list_image.push({\r\n        index: 0,\r\n        src: self.list_image_select[i].media.url,\r\n        media: self.list_image_select[i].media,\r\n      });\r\n    }\r\n    self.list_image_select = [];\r\n    self.breakListImage();\r\n  }\r\n\r\n  eventButtonRegisterNew() {\r\n    var self = this;\r\n    let dataApartment = self.listDepartmentByID[this.form_apartment_id];\r\n    let tip_value = 0;\r\n    if (self.tip_value == 1) {\r\n      tip_value = 10000;\r\n    } else if (self.tip_value == 2) {\r\n      tip_value = 20000;\r\n    } else if (self.tip_value == 3) {\r\n      tip_value = 30000;\r\n    } else if (self.tip_value == 4) {\r\n      tip_value = this.form_money_tip_value;\r\n    }\r\n    let list_attachment = [];\r\n    self.list_image.forEach((image) => {\r\n      list_attachment.push(image.media);\r\n    });\r\n    const params = {\r\n      // category: \"\",\r\n      title: this.translate.instant('INBOX_29.title'),\r\n      content: this.receiverInfor,\r\n      campaign: dataApartment.campaign._id,\r\n      apartment: this.form_apartment_id,\r\n      // createdBy: \"\",\r\n      attachments: list_attachment,\r\n      type: 'receiver',\r\n      receiverInfor: this.receiverInfor,\r\n      receiverPaymentHelps: this.check_box_1 == false ? 'notPayment' : 'payment',\r\n      receiverPaymentHelpsValue: this.check_box_1 == true ? this.form_money_payment : 0,\r\n      receiverPaymentTip: this.check_box_2 == false ? 'notPayment' : 'payment',\r\n      receiverPaymentTipValue: this.check_box_2 == true ? tip_value : 0,\r\n      receiverDate: this.form_date_time,\r\n    };\r\n\r\n    this.loading.present();\r\n    this.apiService.addFeedbackNew(params).subscribe(\r\n      (result) => {\r\n        self.loading.dismiss();\r\n        // self.alertService.presentToast(this.translate.instant('ADD_REQUEST.message_add_request_sucess'));\r\n        // self.navCtrl.back();\r\n        this.registrationSuccessModal();\r\n      },\r\n      (error) => {\r\n        self.loading.dismiss();\r\n        self.alertService.presentToast(this.translate.instant('ADD_REQUEST.message_add_request_fail'));\r\n      }\r\n    );\r\n  }\r\n  async registrationSuccessModal() {\r\n    const modal = await this.modalController.create({\r\n      component: PopupRegistrationSuccessPage,\r\n      componentProps: {\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  // select image\r\n  async selectImage() {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: this.translate.instant('COMMON.form_select_image_title'),\r\n      buttons: [\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_library'),\r\n          handler: () => {\r\n            this.checkPicturePermission(this.camera.PictureSourceType.PHOTOLIBRARY);\r\n          },\r\n        },\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_camera'),\r\n          handler: () => {\r\n            this.checkPicturePermission(this.camera.PictureSourceType.CAMERA);\r\n          },\r\n        },\r\n        {\r\n          text: this.translate.instant('COMMON.form_select_image_cancel'),\r\n          role: 'cancel',\r\n        },\r\n      ],\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n\r\n  checkPicturePermission(sourceType: PictureSourceType) {\r\n    this.pickImage(sourceType);\r\n  }\r\n\r\n  blobToFile = (theBlob: Blob, fileName: string): any => {\r\n    var b: any = theBlob;\r\n    //A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n    b.lastModifiedDate = new Date();\r\n    b.name = fileName;\r\n\r\n    //Cast to a File() type\r\n    return theBlob;\r\n  };\r\n\r\n  pickImage(sourceType) {\r\n    var self = this;\r\n    const options: CameraOptions = {\r\n      quality: 80,\r\n      sourceType: sourceType,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      targetWidth: 800,\r\n      targetHeight: 800,\r\n      correctOrientation: true,\r\n    };\r\n\r\n    this.camera.getPicture(options).then(\r\n      (imageData) => {\r\n        const base64Define = 'data:image/jpeg;base64,';\r\n        var binaryBlob = this.convertBase64ToBlob(base64Define + imageData);\r\n        const date = new Date().valueOf();\r\n        const formData = new FormData();\r\n        var fileName = 'amoapp' + date + '.jpg';\r\n        var myFile = self.blobToFile(binaryBlob, fileName);\r\n        const payload = new FormData();\r\n        payload.append('media', binaryBlob, fileName);\r\n        this.loading.present();\r\n        this.apiService.uploadImage(payload).subscribe(\r\n          (result) => {\r\n            self.loading.dismiss();\r\n            self.list_image_select.push(result);\r\n            self.convertListImage();\r\n          },\r\n          (error) => {\r\n            self.loading.dismiss();\r\n          }\r\n        );\r\n      },\r\n      (err) => {\r\n        // Handle error\r\n        // alert(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  private convertBase64ToBlob(base64: string) {\r\n    const info = this.getInfoFromBase64(base64);\r\n    const sliceSize = 512;\r\n    const byteCharacters = window.atob(info.rawBase64);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n      const byteNumbers = new Array(slice.length);\r\n\r\n      for (let i = 0; i < slice.length; i++) {\r\n        byteNumbers[i] = slice.charCodeAt(i);\r\n      }\r\n\r\n      byteArrays.push(new Uint8Array(byteNumbers));\r\n    }\r\n\r\n    return new Blob(byteArrays, { type: info.mime });\r\n  }\r\n\r\n  private getInfoFromBase64(base64: string) {\r\n    const meta = base64.split(',')[0];\r\n    const rawBase64 = base64.split(',')[1].replace(/\\s/g, '');\r\n    const mime = /:([^;]+);/.exec(meta)[1];\r\n    const extension = /\\/([^;]+);/.exec(meta)[1];\r\n\r\n    return {\r\n      mime,\r\n      extension,\r\n      meta,\r\n      rawBase64,\r\n    };\r\n  }\r\n  checkActiveButton() {\r\n    if (\r\n      this.form_apartment_id == '' ||\r\n      this.receiverInfor == '' ||\r\n      // || this.form_note == ''\r\n      this.form_date_time == '' ||\r\n      (this.check_box_1 == true && this.form_money_payment == '') ||\r\n      (this.check_box_2 == true && this.tip_value == 4 && this.form_money_tip_value == '')\r\n    ) {\r\n      return 'button-inactive';\r\n    } else {\r\n      return 'button-active';\r\n    }\r\n  }\r\n}\r\n"]}