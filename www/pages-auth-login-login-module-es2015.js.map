{"version":3,"sources":["./src/app/pages/auth/login/login.page.ts","./src/app/pages/auth/login/login.page.html","./src/app/components/mask.ts","./src/app/pages/auth/login/login.module.ts"],"names":[],"mappings":"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","file":"pages-auth-login-login-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { LoadingService } from '../../../services/loading/loading.service';\r\nimport { ApiService } from '../../../services/api/api.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  phone: string;\r\n  password: string;\r\n  errorMessage:string;\r\n  showPassword = false;\r\n  password_type: string = 'password';\r\n  passwordToggleIcon = 'eye-off-outline';\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private navCtrl: NavController,\r\n    private route: ActivatedRoute,\r\n    private loading: LoadingService,\r\n    private apiService: ApiService,\r\n  ) { \r\n  }\r\n  \r\n  togglePassword(): void {\r\n    //this.showPassword != this.showPassword;\r\n    this.password_type = this.password_type === 'text' ? 'password' : 'text';\r\n    if (this.passwordToggleIcon == 'eye-outline') {\r\n      this.passwordToggleIcon = 'eye-off-outline';\r\n    } else {\r\n      this.passwordToggleIcon = 'eye-outline';\r\n    }\r\n  }\r\n  ngOnInit() {\r\n    localStorage.removeItem('token');\r\n    // this.route.queryParams.subscribe(params => {\r\n    //   this.phone = params.phoneNumber;\r\n    // });\r\n    this.phone = this.route.snapshot.paramMap.get('phone');\r\n  }\r\n\r\n  checkIsEnabled() {\r\n    if (this.phone && this.phone.length >= 8 && this.password && this.password.length >= 8) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  login() {\r\n    var self = this;\r\n    this.loading.present();\r\n    this.navCtrl.navigateRoot('/dashboard/home');\r\n    // this.authService.login(this.phone, this.password).subscribe(\r\n    //   data => {\r\n    //    if (data) {\r\n    //     self.errorMessage = '';\r\n    //     var userId = localStorage.getItem('playID');\r\n    //     if(userId && userId.length > 0){\r\n    //       self.apiService.settingNotification({\r\n    //         playerId: userId\r\n    //       }).subscribe(result => {\r\n    //         console.log(\"done \" + userId)\r\n    //       })\r\n    //     }\r\n    //     this.navCtrl.navigateRoot('/dashboard/home');\r\n    //    }\r\n    //   },\r\n    //   (error:any) => {\r\n    //     self.errorMessage = error.error.message;\r\n    //     self.loading.dismiss();\r\n    //   },\r\n    //   () => {\r\n    //     self.loading.dismiss();\r\n    //   }\r\n    // );\r\n  }\r\n\r\n  changeToForgotPass(){\r\n    this.navCtrl.navigateForward('/forgot-password');\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n  <div class=\"login-header\">\r\n    <ion-label class=\"login-title\">{{ 'LOGIN.title' | translate }}</ion-label>\r\n  </div>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <div class=\"login-input\">\r\n    <ion-item class=\"input-item\" lines=\"none\">\r\n      <ion-icon class=\"input-icon\" name=\"custom-mobile\" src=\"/assets/icon/svg/profile.svg\" slot=\"start\"></ion-icon>\r\n      <ion-label class=\"input-floating-label\" position=\"floating\">{{ 'LOGIN.placeholder_phone' | translate }}</ion-label>\r\n      <ion-input class=\"input-text\" [(ngModel)]=\"phone\" type=\"tel\" name=\"phone\"></ion-input>\r\n      <!-- <ion-icon class=\"clear-input check-default\" name=\"close-circle\" slot=\"end\"></ion-icon> -->\r\n      \r\n    </ion-item>\r\n    <ion-item class=\"input-item input-password\" lines=\"none\">\r\n      <ion-icon class=\"input-icon\" name=\"custom-locker\" src=\"/assets/icon/custom-locker.svg\" slot=\"start\"></ion-icon>\r\n      <ion-label class=\"input-floating-label\" position=\"floating\">{{ 'LOGIN.placeholder_pass' | translate }}</ion-label>\r\n      <ion-input class=\"input-text\" [type]=\"password_type\" [(ngModel)]=\"password\" name=\"password\"></ion-input>\r\n      <!-- <ion-icon class=\"clear-input check-default\" name=\"close-circle\" slot=\"end\"></ion-icon> -->\r\n      <ion-icon class=\"pass-hide-icon\" slot=\"end\" [name]=\"passwordToggleIcon\" (click)=\"togglePassword()\"></ion-icon>\r\n    </ion-item>\r\n    <ion-item lines=\"none\" class=\"ion-text-center\"> \r\n      <ion-label color=\"danger\" class=\"ion-text-wrap\" *ngIf=\"errorMessage\">{{errorMessage}}</ion-label>\r\n    </ion-item>\r\n  </div>\r\n  <ion-toolbar class=\"bottom-toolbar clear-background\">\r\n    <ion-button (click)=\"login()\" expand=\"block\" class=\"\" [ngClass]=\"!checkIsEnabled() ? 'button-common login-button' : 'button-common login-button button-common-active'\" [disabled]=\"!checkIsEnabled()\">\r\n      <ion-label>{{ 'LOGIN.button_login_label' | translate }}</ion-label>\r\n    </ion-button>\r\n    <ion-button expand=\"block\" class=\"button-skip\" (click)=\"changeToForgotPass()\" routerDirection=\"forward\">\r\n        <ion-label class=\"button-skip-label\">{{ 'LOGIN.forgot_pass_label' | translate }}</ion-label>\r\n    </ion-button>\r\n  </ion-toolbar>\r\n  \r\n</ion-content>","import { Directive, Attribute } from '@angular/core';\r\nimport { NgModel } from '@angular/forms';\r\n@Directive({\r\n    selector: '[mask]',\r\n    host: {\r\n        '(keyup)': 'onInputChange($event)'\r\n    },\r\n    providers: [NgModel]\r\n})\r\nexport class Mask {\r\n    maskPattern: string;\r\n    placeHolderCounts: number;\r\n    dividers: string[];\r\n    modelValue: string;\r\n    viewValue: string;\r\n\r\n    constructor(\r\n        public model: NgModel,\r\n        @Attribute(\"mask\") maskPattern: string\r\n    ) {\r\n        this.dividers = maskPattern.replace(/\\*/g, \"\").split(\"\");\r\n        this.dividers.push(\" \");\r\n        this.generatePattern(maskPattern);\r\n    }\r\n\r\n    onInputChange(event) {\r\n        this.modelValue = this.getModelValue(event);\r\n        let stringToFormat = this.modelValue;\r\n        if (stringToFormat.length < 10) {\r\n            stringToFormat = this.padString(stringToFormat);\r\n        }\r\n\r\n        this.viewValue = this.format(stringToFormat);\r\n        this.writeValue(event.target, this.viewValue);\r\n    }\r\n\r\n    writeValue(target, value) {\r\n        return target.value = value;\r\n    }\r\n\r\n    generatePattern(patternString) {\r\n        this.placeHolderCounts = (patternString.match(/\\*/g) || []).length;\r\n        for (let i = 0; i < this.placeHolderCounts; i++) {\r\n            patternString = patternString.replace('*', \"{\" + i + \"}\");\r\n        }\r\n        this.maskPattern = patternString;\r\n    }\r\n\r\n    format(s) {\r\n        var formattedString = this.maskPattern;\r\n        for (let i = 0; i < this.placeHolderCounts; i++) {\r\n            formattedString = formattedString.replace(\"{\" + i + \"}\", s.charAt(i));\r\n        }\r\n        return formattedString;\r\n    }\r\n\r\n    padString(s) {\r\n        var pad = \"          \";\r\n        return (s + pad).substring(0, pad.length);\r\n    }\r\n\r\n    getModelValue(event) {\r\n        var modelValue = event.target.value;\r\n        for (var i = 0; i < this.dividers.length; i++) {\r\n            while (modelValue.indexOf(this.dividers[i]) > -1) {\r\n                modelValue = modelValue.replace(this.dividers[i], \"\");\r\n            }\r\n        }\r\n        return modelValue;\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n// import { RegisterPage } from '../register/register.page';\r\nimport { Mask } from '../../../components/mask';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [\r\n    Mask,\r\n    LoginPage\r\n  ],\r\n})\r\nexport class LoginPageModule {}\r\n"],"sourceRoot":"webpack:///"}