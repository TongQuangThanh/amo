{"version":3,"sources":["webpack:///src/app/pages/popup-building-management-phone/popup-building-management-phone.page.ts","webpack:///src/app/pages/popup-building-management-phone/popup-building-management-phone.page.html"],"names":["PopupBuildingManagementPhonePage","translateConfigService","modalController","navParams","loading","callNumber","apiService","clipboard","translate","alertService","selectedLanguage","getDefaultLanguage","phoneNumber","data","getListUserApar","self","present","getListUserApartment","subscribe","result","listDepartment","userApartments","dismiss","error","event","stopPropagation","campaignPhone","then","res","console","log","err","copy","presentToast","instant","closeModal","copyNumberPhone","callEmergency","selector","templateUrl","styleUrls"],"mappings":"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","file":"default~pages-my-home-my-home-module~pages-popup-building-management-phone-popup-building-management~a02c344f-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { TranslateConfigService } from '../../translate-config.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-popup-building-management-phone',\r\n  templateUrl: './popup-building-management-phone.page.html',\r\n  styleUrls: ['./popup-building-management-phone.page.scss'],\r\n})\r\nexport class PopupBuildingManagementPhonePage implements OnInit {\r\n  selectedLanguage:string;\r\n  listDepartment: any;\r\n  phoneNumber: string;\r\n\r\n  constructor(\r\n    private translateConfigService: TranslateConfigService,\r\n    private modalController: ModalController,\r\n    private navParams: NavParams,\r\n    private loading: LoadingService,\r\n    private callNumber: CallNumber,\r\n    private apiService: ApiService,\r\n    private clipboard: Clipboard,\r\n    private translate: TranslateService,\r\n    private alertService: AlertService\r\n  ) {\r\n    this.selectedLanguage = this.translateConfigService.getDefaultLanguage();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.phoneNumber = this.navParams.data.phoneNumber;\r\n    this.getListUserApar();\r\n  }\r\n\r\n  getListUserApar(){\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getListUserApartment()\r\n      .subscribe(result => {\r\n        self.listDepartment = result.userApartments;\r\n        self.loading.dismiss()\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  callEmergency(event){\r\n    if (event && event.stopPropagation) {\r\n      event.stopPropagation();\r\n    }\r\n    const campaignPhone = this.phoneNumber;\r\n    this.callNumber.callNumber(campaignPhone, true)\r\n    .then(res => console.log('Launched dialer!', res))\r\n    .catch(err => console.log('Error launching dialer', err));\r\n  }\r\n  copyNumberPhone() {\r\n    this.clipboard.copy(this.phoneNumber);\r\n    this.alertService.presentToast(this.translate.instant('MY_HOME.message_copy'));\r\n    this.closeModal();\r\n  }\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n}\r\n","<!-- <ion-backdrop></ion-backdrop> -->\r\n<ion-content class=\"content-wrap\">\r\n  <div class=\"content-container\">\r\n    <ion-item lines=\"none\" class=\"header-item\">\r\n      <ion-buttons slot=\"end\" class=\"\" (click)=\"closeModal()\" class=\"btn-close-popup\">\r\n        <ion-icon name=\"close\"></ion-icon>\r\n      </ion-buttons>\r\n    </ion-item>\r\n    <ion-toolbar lines=\"none\" class=\"ion-text-center\">\r\n      <ion-icon name=\"call-outline\" class=\"modal-icon\"></ion-icon>\r\n    </ion-toolbar>\r\n    <ion-toolbar class=\"ion-text-center modal-item\">\r\n      <p class=\"delete_message\">{{ 'MY_ACCOUNT.hotline_message' | translate }}</p>\r\n      <p class=\"hotline-num\">{{phoneNumber}}</p>\r\n    </ion-toolbar>\r\n    <ion-toolbar lines=\"none\" class=\"ion-text-center modal-toolbar\">\r\n      <ion-button class=\"cancel-button\" (click)=\"copyNumberPhone()\">\r\n        <ion-label class=\"cancel-button-label\">{{ 'MY_ACCOUNT.copy_num' | translate }}</ion-label>\r\n      </ion-button>\r\n      <ion-button class=\"delete-button\" (click)=\"callEmergency($event)\"> \r\n        <ion-label class=\"delete-button-label\">{{ 'MY_ACCOUNT.call' | translate }}</ion-label>\r\n      </ion-button>\r\n    </ion-toolbar>\r\n  </div>\r\n  \r\n</ion-content>\r\n"]}