{"version":3,"sources":["./src/app/pages/payment-comment/payment-comment.module.ts","./src/app/pages/payment-comment/payment-comment.page.ts","./src/app/pages/payment-comment/payment-comment.page.html"],"names":[],"mappings":"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","file":"pages-payment-comment-payment-comment-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PaymentCommentPage } from './payment-comment.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentCommentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [PaymentCommentPage]\r\n})\r\nexport class PaymentCommentPageModule {}\r\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { ConstService } from '../../utils/const.service'\r\nimport { UtilsService } from '../../utils/utils.service'\r\nimport { Platform, NavController } from '@ionic/angular';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-payment-comment',\r\n  templateUrl: './payment-comment.page.html',\r\n  styleUrls: ['./payment-comment.page.scss'],\r\n})\r\nexport class PaymentCommentPage implements OnInit{\r\n\r\n  listPaymentComment: any;\r\n  paymentBillID:string;\r\n  heightScreen:number;\r\n  editorMsg:any;\r\n  @ViewChild(\"chat_input\") inputField: ElementRef;\r\n  constructor(\r\n    private alertService: AlertService,\r\n    private apiService: ApiService,\r\n    private loading: LoadingService,\r\n    private route: ActivatedRoute,\r\n    private platform: Platform,\r\n  ) {\r\n    this.listPaymentComment = [];\r\n    platform.ready().then((readySource) => {\r\n      this.heightScreen = platform.height() - 70- 60;\r\n    });\r\n    this.paymentBillID = this.route.snapshot.paramMap.get('id');\r\n    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getPaymentComment();\r\n  }\r\n\r\n  getPaymentComment() {\r\n    this.loading.present();\r\n    const self = this;\r\n    this.apiService.getListPaymentComment(this.paymentBillID)\r\n      .subscribe(result => {\r\n        self.listPaymentComment = result.paymentComments;\r\n        self.loading.dismiss();\r\n        self.inputField.nativeElement.focus();\r\n    },\r\n    error => {\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n\r\n  formatString(stringDate: string) {\r\n    return UtilsService.formatString(stringDate);\r\n  }\r\n\r\n  convertText(textInput:string){\r\n    return textInput.replace(/\\n/ig, '<br/>');;\r\n  }\r\n\r\n  sendMsg(){\r\n    this.loading.present();\r\n    const self = this;\r\n    const params = {\r\n      content: this.editorMsg,\r\n      bill: this.paymentBillID\r\n    }\r\n    this.apiService.sendPaymentComment(params)\r\n      .subscribe(result => {\r\n        self.loading.dismiss();\r\n        self.editorMsg = \"\";\r\n        self.getPaymentComment();\r\n    },\r\n    error => {\r\n      self.editorMsg = \"\";\r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n    <ion-toolbar>\r\n      <ion-buttons slot=\"start\">\r\n        <ion-back-button text=\"\"></ion-back-button>\r\n      </ion-buttons>\r\n      <ion-title>{{ 'PAYMENT_COMMENT.title' | translate }}</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n\r\n<ion-content>\r\n  <div class=\"input-wrap\">\r\n      <!-- <button ion-button clear icon-only item-right (click)=\"switchEmojiPicker()\">\r\n        <ion-icon name=\"md-happy\"></ion-icon>\r\n      </button> -->\r\n      <ion-textarea #chat_input\r\n                placeholder=\"{{ 'PAYMENT_COMMENT.place_holder_input' | translate }}\"\r\n                [(ngModel)]=\"editorMsg\">\r\n      </ion-textarea>\r\n      <ion-button class=\"button-send\" item-right (click)=\"sendMsg()\">\r\n        <ion-icon name=\"ios-send\" ios=\"ios-send\" md=\"md-send\"></ion-icon>\r\n      </ion-button>\r\n  </div>\r\n  <ion-content class=\"list-home-content\" [style.height.px]=\"heightScreen\">\r\n    <ion-list>\r\n      <ion-card *ngFor=\"let item of listPaymentComment\">\r\n        <ion-item>\r\n          <ion-avatar slot=\"start\">\r\n            <img *ngIf=\"item.createdBy\" src=\"{{item.createdBy.avatar}}\"/>\r\n            <img *ngIf=\"!item.createdBy\" src=\"../assets/icon/avatar-default.png\"/>\r\n          </ion-avatar>\r\n          <ion-label>\r\n            <h2 [innerHTML]=\"convertText(item.content)\" class=\"line-breaker \"></h2>\r\n            <p *ngIf=\"item.createdBy != null\">{{item.createdBy.displayName}}</p>\r\n            <p>{{formatString(item.createdAt)}}</p>\r\n          </ion-label>\r\n        </ion-item>\r\n      </ion-card>\r\n    </ion-list>\r\n  </ion-content>\r\n</ion-content>"],"sourceRoot":"webpack:///"}