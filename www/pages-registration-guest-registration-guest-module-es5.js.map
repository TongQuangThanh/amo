{"version":3,"sources":["webpack:///src/app/pages/registration-guest/registration-guest.module.ts","webpack:///src/app/pages/registration-guest/registration-guest.page.html","webpack:///src/app/pages/registration-guest/registration-guest.page.ts","webpack:///src/app/pages/registration-guest/registration-guest-routing.module.ts"],"names":["RegistrationGuestPageModule","imports","declarations","RegistrationGuestPage","modalController","translateConfigService","loading","apiService","translate","location","alertService","selectedLanguage","getDefaultLanguage","listDepartmentByID","flag_show_hide_popup","getListApartment","form_apartment_id","form_apartment_class","form_date_time","form_date_time_class","form_note","list_guest","guestsNumber","data_guest","guestsName","guestsIdentity","className","classIdentity","line","self","present","getListUserApartment","subscribe","result","listDepartment","i","userApartments","length","campaign","settingRequestVisitors","push","forEach","data","index","apartment","_id","dismiss","error","event","product","dataApartment","guestInfor","guest","params","title","instant","content","attachments","type","guestsDate","addFeedbackNew","registrationSuccessModal","presentToast","create","component","componentProps","modal","back","check_input_inf_guest","ionChangePulldown1","ionChangeDateTime","downNumberProduct","upNumberProduct","eventButtonRegisterNew","selector","templateUrl","styleUrls","routes","path","RegistrationGuestPageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-registration-guest-registration-guest-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistrationGuestPageRoutingModule } from './registration-guest-routing.module';\r\n\r\nimport { RegistrationGuestPage } from './registration-guest.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    RegistrationGuestPageRoutingModule\r\n  ],\r\n  declarations: [RegistrationGuestPage]\r\n})\r\nexport class RegistrationGuestPageModule {}\r\n","<ion-header class=\"ion-no-border \">\r\n  <ion-buttons class=\"back-button\">\r\n    <ion-back-button color=\"light\" text=\"\" icon=\"chevron-back\" class=\"ion-back-button\"></ion-back-button>\r\n  </ion-buttons>\r\n  <ion-label class=\"header-title\">{{ 'REGISTRATION_GUEST.title' | translate }}</ion-label>\r\n  <ion-label class=\"header-sub-title\">{{ 'REGISTRATION_GUEST.sub_title' | translate }}</ion-label>\r\n</ion-header>\r\n\r\n<ion-content class=\"register-guest-content\">\r\n  <ion-list lines=\"full\" class=\"ion-no-margin ion-no-padding margin-top-10\">\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/home.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_apartment_id != ''\" class=\"pulldown-1-placeholder\">{{ 'REGISTRATION_GUEST.apartment' | translate }}</label>\r\n        <div class=\"width-100 {{form_apartment_class}}\">\r\n          <ion-select class=\"pulldown-apartment-select\" placeholder=\"{{ 'REGISTRATION_GUEST.apartment_placeholder' | translate }}\"\r\n            interface=\"action-sheet\" name=\"form_apartment_id\" [(ngModel)]=\"form_apartment_id\" (ionChange)=\"ionChangePulldown1($event)\">\r\n            <ion-select-option *ngFor=\"let item of listDepartment\" value=\"{{item.apartment._id}}\">{{item.apartment.title + ' - ' +\r\n              item.campaign.title}}</ion-select-option>\r\n          </ion-select>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <ion-item lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-common\">\r\n        <img class=\"icon-home\" src=\"../assets/icon/request/time.svg\" />\r\n        <img class=\"icon-pulldown-down\" src=\"../assets/icon/svg/Down.svg\" />\r\n        <label *ngIf=\"form_date_time != ''\" class=\"pulldown-1-placeholder\">{{ 'REGISTRATION_GUEST.arrival_time' | translate }}</label>\r\n        <div class=\"width-100 {{form_date_time_class}}\">\r\n          <ion-datetime placeholder=\"{{ 'REGISTRATION_GUEST.arrival_time' | translate }}\" class=\"pulldown-apartment-select\"\r\n            name=\"form_date_time\" [(ngModel)]=\"form_date_time\" displayFormat=\"DD/MM/YYYY HH:mm\" (ionChange)=\"ionChangeDateTime($event)\"\r\n            min=\"2000\" max=\"2050\">\r\n          </ion-datetime>\r\n        </div>\r\n      </ion-item>\r\n    </ion-item>\r\n    <div class=\"devider-line-guest margin-top-10\"></div>\r\n    <ion-item class=\"ion-no-padding\" lines=\"none\">\r\n      <ion-item lines=\"none\" class=\"item-common no-border\">\r\n        <ion-label class=\"quantity-title\">{{ 'REGISTRATION_GUEST.guest_quantity' | translate }}</ion-label>\r\n        <ion-buttons class=\"quantity-buttons\" slot=\"end\">\r\n          <ion-button (click)=\"downNumberProduct()\" class=\"icon-button btn-minus\">\r\n            <ion-icon name=\"custom-minus\" src=\"/assets/icon/custom-minus.svg\"></ion-icon>\r\n          </ion-button>\r\n          <ion-label class=\"quantity\">{{list_guest.guestsNumber}}</ion-label>\r\n          <ion-button (click)=\"upNumberProduct()\" class=\"icon-button btn-plus\">\r\n            <ion-icon name=\"custom-plus\" src=\"/assets/icon/custom-plus.svg\"></ion-icon>\r\n          </ion-button>\r\n        </ion-buttons>\r\n      </ion-item>\r\n    </ion-item>\r\n    <div *ngFor=\"let guest of list_guest.data_guest\">\r\n      <ion-item lines=\"none\" class=\"{{guest.className}}\">\r\n        <ion-item lines=\"none\" class=\"item-common\">\r\n          <img class=\"icon-home\" src=\"/assets/icon/request/user.svg\" />\r\n          <label *ngIf=\"guest.guestsName != ''\" class=\"pulldown-1-placeholder\">{{ 'REGISTRATION_GUEST.guest_name' | translate }}</label>\r\n          <ion-input type=\"text\" class=\"text-box-1\" placeholder=\"{{ 'REGISTRATION_GUEST.guest_name' | translate }}\"\r\n            value=\"{{guest.guestsName}}\" (ionChange)=\"ionchangTextBoxGuest()\" [(ngModel)]=\"guest.guestsName\">\r\n          </ion-input>\r\n        </ion-item>\r\n      </ion-item>\r\n      <ion-item lines=\"none\" class=\"{{guest.classIdentity}}\">\r\n        <ion-item lines=\"none\" class=\"item-common\">\r\n          <img class=\"icon-home\" src=\"/assets/icon/request/passport.svg\" />\r\n          <label *ngIf=\"guest.guestsIdentity != ''\" class=\"pulldown-1-placeholder\">{{ 'REGISTRATION_GUEST.guest_ID' | translate }}</label>\r\n          <ion-input type=\"text\" class=\"text-box-1\" placeholder=\"{{ 'REGISTRATION_GUEST.guest_ID' | translate }}\"\r\n            value=\"{{guest.guestsIdentity}}\" (ionChange)=\"ionchangTextBoxGuest()\" [(ngModel)]=\"guest.guestsIdentity\">\r\n          </ion-input>\r\n        </ion-item>\r\n      </ion-item>\r\n    </div>\r\n    <!-- <ion-item lines=\"none\" class=\"margin-top-20\">\r\n        <ion-item lines=\"none\" class=\"item-common\">\r\n          <ion-textarea [(ngModel)]=\"form_note\" class=\"text-area-1\" rows=\"4\" cols=\"20\"\r\n            placeholder=\"{{ 'REGISTRATION_GUEST.note' | translate }}\"></ion-textarea>\r\n        </ion-item>\r\n      </ion-item> -->\r\n    <ion-button expand=\"block\" class=\"button-common button-send btn-inactive {{checkShowActiveButton()}}\">\r\n      <ion-label>{{ 'REGISTRATION_GUEST.btn_send' | translate }}</ion-label>\r\n    </ion-button>\r\n    <ion-button expand=\"block\" class=\"button-common button-send btn-active {{checkShowActiveButton()}}\" (click)=\"eventButtonRegisterNew()\">\r\n      <ion-label>{{ 'REGISTRATION_GUEST.btn_send' | translate }}</ion-label>\r\n    </ion-button>\r\n  </ion-list>\r\n</ion-content>","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams, NavController } from '@ionic/angular';\r\nimport { TranslateConfigService } from '../../translate-config.service';\r\nimport { ApiService } from '../../services/api/api.service';\r\nimport { LoadingService } from '../../services/loading/loading.service';\r\nimport { DatePipe, Location } from '@angular/common';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AlertService } from '../../services/alert/alert.service';\r\nimport { PopupRegistrationSuccessPage } from '../popup-registration-success/popup-registration-success.page';\r\n\r\n@Component({\r\n  selector: 'app-registration-guest',\r\n  templateUrl: './registration-guest.page.html',\r\n  styleUrls: ['./registration-guest.page.scss'],\r\n})\r\nexport class RegistrationGuestPage implements OnInit {\r\n  selectedLanguage:string;\r\n  listDepartmentByID: any;\r\n  listDepartment: any;\r\n  form_apartment_id:any;\r\n  form_apartment_class:any;\r\n  form_date_time: any;\r\n  form_date_time_class: any;\r\n  list_guest: any;\r\n  form_note: any;\r\n  flag_show_hide_popup: any;\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private translateConfigService: TranslateConfigService,\r\n    private loading: LoadingService,\r\n    private apiService: ApiService,\r\n    private translate: TranslateService,\r\n    private location: Location,\r\n    private alertService: AlertService\r\n  ) {\r\n    this.selectedLanguage = this.translateConfigService.getDefaultLanguage();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.listDepartmentByID = {};\r\n    this.flag_show_hide_popup = false;\r\n    this.getListApartment();\r\n    this.form_apartment_id = \"\";\r\n    this.form_apartment_class = \"\";\r\n    this.form_date_time = \"\";\r\n    this.form_date_time_class = \"\";\r\n    this.form_note = \"\";\r\n    this.list_guest = {\r\n      guestsNumber: 1,\r\n      data_guest: [\r\n        {\r\n          guestsName: '',\r\n          guestsIdentity: '',\r\n          className: '',\r\n          classIdentity: '',\r\n          line: 'no-line'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n  getListApartment(){\r\n    var self = this;\r\n    this.loading.present();\r\n    this.apiService.getListUserApartment()\r\n      .subscribe(result => {\r\n        //self.listDepartment = result.userApartments;\r\n        self.listDepartment = []\r\n        for(var i =0;i<result.userApartments.length;i++){\r\n          if(result.userApartments[i].campaign.settingRequestVisitors == \"active\"){\r\n            self.listDepartment.push(result.userApartments[i]);\r\n          }\r\n        }\r\n        self.listDepartment.forEach((data, index) =>{\r\n          if(index == 0) {\r\n            this.form_apartment_id = data.apartment._id;\r\n            this.form_apartment_class = 'has-input-value';\r\n          }\r\n          self.listDepartmentByID[data.apartment._id] = data;\r\n        });\r\n        self.loading.dismiss()\r\n    },\r\n    error => { \r\n      self.loading.dismiss();\r\n    });\r\n  }\r\n  ionChangePulldown1(event){\r\n    if (this.form_apartment_id != '') {\r\n      this.form_apartment_class = 'has-input-value';\r\n    } else {\r\n      this.form_apartment_class = '';\r\n    }\r\n  }\r\n  ionChangeDateTime(event){\r\n    if (this.form_date_time != \"\") {\r\n      this.form_date_time_class = 'has-input-value';\r\n    } else {\r\n      this.form_date_time_class = \"\";\r\n    }\r\n  }\r\n  downNumberProduct() {\r\n    var self = this;\r\n    if (self.list_guest.guestsNumber > 1) {\r\n      self.list_guest.guestsNumber--;\r\n      // this.list_guest.data_guest.pop();\r\n    }\r\n  }\r\n  upNumberProduct() {\r\n    var self = this;\r\n    if (self.list_guest.guestsNumber < 100) {\r\n      self.list_guest.guestsNumber++;\r\n      // this.list_guest.data_guest.push({\r\n      //   guestsName: '',\r\n      //   guestsIdentity: '',\r\n      //   className: '',\r\n      //   classIdentity: '',\r\n      //   line: 'has-line'\r\n      // });\r\n    }\r\n  }\r\n  ionchangTextBoxGuest() {\r\n    var self = this;\r\n    self.list_guest.data_guest.forEach(product => {\r\n      if (product.guestsName != '') {\r\n        product.className = 'has-input-value';\r\n      } else {\r\n        product.className = '';\r\n      }\r\n      if (product.guestsIdentity != '') {\r\n        product.classIdentity = 'has-input-value';\r\n      } else {\r\n        product.classIdentity = '';\r\n      }\r\n    });\r\n  }\r\n  eventButtonRegisterNew() {\r\n    var self = this;\r\n    let dataApartment = self.listDepartmentByID[this.form_apartment_id];\r\n    let guestInfor = [];\r\n    self.list_guest.data_guest.forEach(guest => {\r\n      guestInfor.push({\r\n        guestsName: guest.guestsName,\r\n        guestsIdentity: guest.guestsIdentity\r\n      })\r\n    });\r\n    const params = {\r\n      // category: \"\",\r\n      title: this.translate.instant('REGISTRATION_GUEST.title'),\r\n      content: this.form_note != '' ? this.form_note : ' ',\r\n      campaign: dataApartment.campaign._id,\r\n      apartment: this.form_apartment_id,\r\n      // createdBy: \"\",\r\n      attachments: [],\r\n      type: \"guests\",\r\n      guestsNumber: self.list_guest.guestsNumber,\r\n      guestInfor: guestInfor,\r\n      guestsDate: this.form_date_time\r\n    };\r\n    this.loading.present();\r\n    this.apiService.addFeedbackNew(params)\r\n      .subscribe(result => {\r\n        self.loading.dismiss();\r\n        this.registrationSuccessModal();\r\n      },\r\n      error => {\r\n        self.loading.dismiss();\r\n        self.alertService.presentToast(this.translate.instant('ADD_REQUEST.message_add_request_fail'));\r\n      }\r\n    );\r\n  }\r\n  async registrationSuccessModal() {\r\n    const modal = await this.modalController.create({\r\n      component: PopupRegistrationSuccessPage,\r\n      componentProps: {\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n  eventButtonClosePopup() {\r\n    this.flag_show_hide_popup = false;\r\n    this.location.back();\r\n  }\r\n  checkShowActiveButton() {\r\n    var check_input_inf_guest = false;\r\n    this.list_guest.data_guest.forEach(data => {\r\n      if (data.guestsName == \"\" || data.guestsIdentity == \"\") {\r\n        check_input_inf_guest = true;\r\n      }\r\n    });\r\n    if (this.form_apartment_id == \"\" || this.form_date_time == \"\" || check_input_inf_guest) {\r\n      return 'inactive_button';\r\n    } else {\r\n      return 'active_button';\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n\r\nimport { RegistrationGuestPage } from './registration-guest.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegistrationGuestPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    TranslateModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegistrationGuestPageRoutingModule {}\r\n"]}