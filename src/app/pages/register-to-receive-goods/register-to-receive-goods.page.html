<ion-header class="ion-no-border">
    <ion-toolbar>
      <ion-title>{{ 'INBOX_29.title' | translate }}</ion-title>
      <ion-buttons slot="start">
        <ion-back-button text=""></ion-back-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
    <ion-list lines="full" class="ion-no-margin ion-no-padding margin-top-20">
      <ion-item lines="none">
        <ion-item lines="none" class="item-common">
          <img class="icon-home" src="../assets/icon/svg/my-home.svg"/>
          <img class="icon-pulldown-down" src="../assets/icon/svg/Down.svg"/>
          <label *ngIf="form_apartment_id != ''" class="pulldown-1-placeholder">{{ 'INBOX_29.apartment_placeHolder_1' | translate }}</label>
          <div class="width-100 {{form_apartment_class}}">
            <ion-select class="pulldown-apartment-select" placeholder="{{ 'INBOX_29.apartment_placeHolder_2' | translate }}" interface="action-sheet" name="form_apartment_id" [(ngModel)]="form_apartment_id" (ionChange)="ionChangePulldown1($event)">
              <ion-select-option *ngFor="let item of listDepartment" value="{{item.apartment._id}}">{{item.apartment.title + ' - ' + item.campaign.title}}</ion-select-option>
            </ion-select>
          </div>
        </ion-item>
      </ion-item>
      <ion-item lines="none" class="margin-top-20">
        <ion-item lines="none" class="item-common">
            <ion-textarea [(ngModel)]="receiverInfor" class="text-area-1" rows="4" cols="20" placeholder="{{ 'INBOX_29.inf_product_placeHolder' | translate }}"></ion-textarea>
        </ion-item>
      </ion-item>
      <ion-item lines="none" class="margin-top-20">
        <ion-item lines="none" class="item-common">
          <img class="icon-home" src="../assets/icon/svg/Calendar 2.svg"/>
          <img class="icon-pulldown-down" src="../assets/icon/svg/Down.svg"/>
          <label *ngIf="form_date_time != ''" class="pulldown-1-placeholder">{{ 'INBOX_29.date_time_placeHolder' | translate }}</label>
          <div class="width-100 {{form_date_time_class}}">
            <ion-datetime placeholder="{{ 'INBOX_29.date_time_placeHolder' | translate }}"
              class="pulldown-apartment-select"
              name="form_date_time" [(ngModel)]="form_date_time"
              displayFormat="DD/MM/YYYY HH:mm"
              (ionChange)="ionChangeDateTime($event)"
              min="2000"
              max="2050">
            </ion-datetime>
          </div>
        </ion-item>
      </ion-item>
      <ion-item lines="none" class="margin-top-20">
          <label class="font-weight-600 margin-left-20">{{ 'INBOX_29.title_area_select_image' | translate }}</label>
      </ion-item>
      <ion-item lines="none">
        <ion-grid *ngIf="number_of_image != 0" class="ion-grid-class">
          <ion-row>
            <ion-col class="ion-col-class" *ngFor="let image of list_image_1" size="4" size-md>
              <ion-item lines="none" class="ion-item-for-image">
                <img class="image-class" src="{{image.src}}"/>
              </ion-item>
              <button type="button" class="close-image-icon" (click)="deleteImageToList(image.index)">
                <span aria-hidden="true">&times;</span>
              </button>
              <div *ngIf="number_of_image > 4 && image.index == 3" class="mask-multiple-image" (click)="showAllImage()">
                <label>+{{number_of_image - 4}}</label>
              </div>
            </ion-col>
            <ion-col class="ion-col-class" size="4" size-md>
              <ion-item lines="none" class="ion-item-for-image" (click)="selectImage()">
                <img class="image-class" src="../assets/icon/svg/add-item.svg"/>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-item lines="none" class="item-common background-fbfbfb" *ngIf="number_of_image == 0" (click)="selectImage()">
          <img class="icon-camera" src="../assets/icon/svg/Camera.svg"/>
        </ion-item>
      </ion-item>
      <ion-item lines="none" class="margin-top-20 line-1">
          <ion-checkbox class="margin-left-20 checkbox-common" color="secondary" mode="md" (ionChange)="ionChangeCheckBox1()"></ion-checkbox>
          <label class="font_weight_bold margin-top-10 margin-left-10">{{ 'INBOX_29.checkbox_support_payment' | translate }}</label>
      </ion-item>
      <ion-item lines="none" class="pointer-events-all">
        <ion-item lines="none" class="item-common">
          <img *ngIf="check_box_1 == true" class="icon-dollar-active" src="../assets/icon/svg/icon-dollar.svg"/>
          <img *ngIf="check_box_1 == false" class="icon-dollar" src="../assets/icon/svg/icon-dollar.svg"/>
          <label *ngIf="form_money_payment != ''" class="pulldown-1-placeholder">{{ 'INBOX_29.input_payment_placeHolder_2' | translate }}</label>
          <div class="width-100 {{form_money_payment_class}}">
            <ion-input type="text" class="text-box-1" 
              type="number"
              placeholder="{{ 'INBOX_29.input_payment_placeHolder_1' | translate }}" 
              value="{{form_money_payment}}" 
              (ionChange)="ionchangTextBoxPayment1()"
              [(ngModel)]="form_money_payment"
              disabled={{!check_box_1}}>
            </ion-input>
          </div>
          <label *ngIf="check_box_1 == true" class="{{form_money_payment_class}} label-1-active">VNĐ</label>
          <label *ngIf="check_box_1 == false" class="{{form_money_payment_class}} label-1">VNĐ</label>
        </ion-item>
      </ion-item>

      <ion-item lines="none" class="margin-top-20 line-1">
          <ion-checkbox class="margin-left-20 checkbox-common" color="secondary" mode="md" (ionChange)="ionChangeCheckBox2()"></ion-checkbox>
          <label class="font_weight_bold margin-top-10 margin-left-10">{{ 'INBOX_29.checkbox_money_tip' | translate }}</label>
      </ion-item>
      <ion-item lines="none" class="pointer-events-all">
        <ion-item lines="none" class="item-common no-border">
          <div class="group-button-tip group-active" *ngIf="check_box_2 == true">
            <button (click)="selectTip(1)" class="button-tip" *ngIf="tip_value != 1"><label>10K</label></button>
            <button (click)="selectTip(1)" class="button-tip-active" *ngIf="tip_value == 1"><label>10K</label></button>
            <button (click)="selectTip(2)" class="button-tip" *ngIf="tip_value != 2"><label>20K</label></button>
            <button (click)="selectTip(2)" class="button-tip-active" *ngIf="tip_value == 2"><label>20K</label></button>
            <button (click)="selectTip(3)" class="button-tip" *ngIf="tip_value != 3"><label>30K</label></button>
            <button (click)="selectTip(3)" class="button-tip-active" *ngIf="tip_value == 3"><label>30K</label></button>
            <button (click)="presentModal(4)" class="button-tip" *ngIf="tip_value != 4">
              <label *ngIf="form_money_tip_value == ''">{{ 'INBOX_29.select_other' | translate }}</label>
              <label *ngIf="form_money_tip_value != ''">{{form_money_tip_value}}</label>
              <img class="ion-edit" src="../assets/icon/svg/Edit.svg"/>
            </button>
            <button (click)="presentModal(4)" class="button-tip-active" *ngIf="tip_value == 4">
                <label *ngIf="form_money_tip_value == ''">{{ 'INBOX_29.select_other' | translate }}</label>
                <label *ngIf="form_money_tip_value != ''">{{form_money_tip_value}}</label>
                <img class="ion-edit" src="../assets/icon/svg/Edit.svg"/>
            </button>
          </div>
          <div class="group-button-tip group-inactive" *ngIf="check_box_2 == false">
              <button class="button-tip" disabled><label>10K</label></button>
              <button class="button-tip" disabled><label>20K</label></button>
              <button class="button-tip" disabled><label>30K</label></button>
              <button class="button-tip" disabled>
                <label *ngIf="form_money_tip_value == ''">{{ 'INBOX_29.select_other' | translate }}</label>
                <label *ngIf="form_money_tip_value != ''">{{form_money_tip_value}}</label>
                <img class="ion-edit" src="../assets/icon/svg/Edit.svg"/>
              </button>
          </div>
        </ion-item>
      </ion-item>
      <ion-item lines="none" class="margin-top-20 line-1">
        <ion-item lines="none" class="item-common margin-top-20">
            <ion-textarea [(ngModel)]="form_note" class="text-area-1" rows="4" cols="20" placeholder="{{ 'INBOX_29.note_placeHolder' | translate }}"></ion-textarea>
        </ion-item>
      </ion-item>
    </ion-list>
    <section class="full-width function-section">
      <ion-button expand="block" class="amo-button-custom inactive_button {{checkActiveButton()}}">{{ 'INBOX_29.button_send' | translate }}</ion-button>
      <ion-button expand="block" class="amo-button-custom active_button {{checkActiveButton()}}" (click)="eventButtonRegisterNew()">{{ 'INBOX_29.button_send' | translate }}</ion-button>
    </section>
    <div *ngIf="show_popup_tip == true" class="modal-backdrop fade show"></div>
    <div *ngIf="show_popup_tip == true" class="modal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="eventButtonClosePopup()">
              <span aria-hidden="true">&times;</span>
            </button>
            <div class="div-header-title">
                <label>{{ 'INBOX_29.popup_header_title' | translate }}</label>
            </div>
          </div>
          <div class="modal-body">
            <ion-item lines="none" class="popup-item-input">
              <img class="icon-dollar-active" src="../assets/icon/svg/icon-dollar.svg"/>
              <label *ngIf="form_money_tip != ''" class="pulldown-1-placeholder">{{ 'INBOX_29.input_tip_placeHolder_2' | translate }}</label>
              <div class="width-100 {{form_money_tip_class}}">
                <ion-input type="text" class="text-box-1" 
                  type="number"
                  placeholder="{{ 'INBOX_29.input_tip_placeHolder_1' | translate }}" 
                  value="{{form_money_tip}}" 
                  (ionChange)="ionchangTextBoxTip1()"
                  [(ngModel)]="form_money_tip">
                </ion-input>
              </div>
              <label class="{{form_money_tip_class}} label-1-active">VNĐ</label>
            </ion-item>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn popup-btn-ok" data-dismiss="modal" (click)="eventButtonSavePopup()">{{ 'INBOX_29.popup_button_save' | translate }}</button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="flag_show_all_image == true" class="modal-backdrop fade show"></div>
    <div *ngIf="flag_show_all_image == true" class="modal popup-show-full-image" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="eventButtonClosePopupImage()">
              <span aria-hidden="true">&times;</span>
            </button>
            <div class="div-header-title">
                <!-- <label>{{ 'INBOX_29.popup_header_title' | translate }}</label> -->
            </div>
          </div>
          <div class="modal-body">
            <ion-item lines="none" class="area-show-image" id="area-show-image">
              <ion-grid>
                <ion-row>
                  <ion-col class="ion-col-class" *ngFor="let image of list_image" size="6" size-md>
                    <ion-item lines="none" class="ion-item-for-image">
                      <img class="image-class" src="{{image.src}}"/>
                    </ion-item>
                    <button type="button" class="close-image-icon" (click)="deleteImageToList(image.index)">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </ion-col>
                  <ion-col class="ion-col-class" size="6" size-md>
                    <ion-item lines="none" class="ion-item-for-image" (click)="selectImage()">
                      <img class="image-class icon-add-image" src="../assets/icon/svg/add-item.svg"/>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-item>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
  