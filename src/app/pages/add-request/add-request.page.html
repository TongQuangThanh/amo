<ion-header no-border>
  <ion-toolbar>
    <ion-title>{{ 'ADD_REQUEST.title' | translate }}</ion-title>
    <ion-buttons slot="start">
      <ion-back-button text=""></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form (ngSubmit)="addRequest($event)">
    <ion-list lines="full" class="ion-no-margin ion-no-padding">
      <ion-item lines="none">
        <ion-label position="stacked" class="stack-label">{{ 'ADD_REQUEST.apartment' | translate }}<ion-text color="danger">*</ion-text></ion-label>
        <ion-select 
          class="custom-common-input custom-common-input-text height-auto" [ngClass]="!isErrorDepartmentID ? '' : 'error-input'"
          placeholder="{{ 'ADD_REQUEST.apartment' | translate }}"
          interface="action-sheet"
          name="departmentID" (ionChange)="changeValueDepartment($event)" [(ngModel)]="departmentID">
          <ion-select-option *ngFor="let item of listDepartment" value="{{item.apartment._id}}">{{item.apartment.title + ' - ' + item.campaign.title}}</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item lines="none">
        <ion-label position="stacked" class="stack-label">{{ 'ADD_REQUEST.category' | translate }}<ion-text color="danger">*</ion-text></ion-label>
        <ion-select 
          class="custom-common-input custom-common-input-text height-auto" [ngClass]="!isErrorTopicID ? '' : 'error-input'"
          placeholder="{{ 'ADD_REQUEST.category' | translate }}"
          interface="action-sheet"
          name="topicID" [(ngModel)]="topicID">
          <ion-select-option *ngFor="let item of listTopic" value="{{item._id}}">{{item.title}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item lines="none" class="file-input-container">
        <ion-grid>
          <ion-row class="height-item-button">
            <!-- <ion-col>
              <label class="label-upload">
                <input type="file" ng2FileSelect [uploader]="uploader" disabled multiple />
                Add Files
              </label>
            </ion-col> -->
            <ion-col>
              <label (click)="selectImage()" class="label-upload">
                Add Image
              </label>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-row>
              <ion-item no-lines>
                <div scrollX="true" [style.width.px]="widthListScreen">
                  <div *ngFor="let item1 of listImage" class="item-button">
                    <ion-img  name="radio-button-on" src="{{item1.media.url}}" class="scroll-item selectable-icon"></ion-img>
                    <img class="close" src="../assets/icon/close-icon.png" id="{{item1.media._id}}" (click)="removeImageAttachment($event)"/>
                  </div>
                </div>
              </ion-item>
            </ion-row>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item lines="none"> 
        <ion-label position="stacked" class="stack-label">{{ 'ADD_REQUEST.title_request' | translate }}<ion-text color="danger">*</ion-text></ion-label>
        <ion-input class="custom-common-input custom-common-input-text" placeholder="{{ 'ADD_REQUEST.title_request' | translate }}" [ngClass]="!isErrorTitle ? '' : 'error-input'" value="{{title}}" [(ngModel)]="title" name="title"></ion-input>
      </ion-item>

      <ion-item lines="none">
        <ion-label position="stacked" class="stack-label">{{ 'ADD_REQUEST.message_request' | translate }}<ion-text color="danger">*</ion-text></ion-label>
        <ion-textarea class="custom-common-input custom-common-input-text height-auto" placeholder="{{ 'ADD_REQUEST.message_request' | translate }}" [ngClass]="!isErrorMessage ? '' : 'error-input'" [(ngModel)]="message" rows="4" name="message"></ion-textarea>
      </ion-item>
    </ion-list>

    <div class="ion-padding">
      <ion-button expand="block" type="submit" class="amo-button-custom">{{ 'ADD_REQUEST.btn_submit' | translate }}</ion-button>
    </div>
  </form>
</ion-content>
